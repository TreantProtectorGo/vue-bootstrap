function df(r,o){for(var l=0;l<o.length;l++){const f=o[l];if(typeof f!="string"&&!Array.isArray(f)){for(const d in f)if(d!=="default"&&!(d in r)){const h=Object.getOwnPropertyDescriptor(f,d);h&&Object.defineProperty(r,d,h.get?h:{enumerable:!0,get:()=>f[d]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))f(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const E of h.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&f(E)}).observe(document,{childList:!0,subtree:!0});function l(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function f(d){if(d.ep)return;d.ep=!0;const h=l(d);fetch(d.href,h)}})();function La(r,o){const l=Object.create(null),f=r.split(",");for(let d=0;d<f.length;d++)l[f[d]]=!0;return o?d=>!!l[d.toLowerCase()]:d=>!!l[d]}const Ee={},Ti=[],Wn=()=>{},gf=()=>!1,pf=/^on[^a-z]/,mo=r=>pf.test(r),Ba=r=>r.startsWith("onUpdate:"),Ue=Object.assign,Pa=(r,o)=>{const l=r.indexOf(o);l>-1&&r.splice(l,1)},xf=Object.prototype.hasOwnProperty,ne=(r,o)=>xf.call(r,o),Bt=Array.isArray,Ii=r=>As(r)==="[object Map]",Eo=r=>As(r)==="[object Set]",Il=r=>As(r)==="[object Date]",Wt=r=>typeof r=="function",Le=r=>typeof r=="string",gs=r=>typeof r=="symbol",we=r=>r!==null&&typeof r=="object",Tc=r=>we(r)&&Wt(r.then)&&Wt(r.catch),Ic=Object.prototype.toString,As=r=>Ic.call(r),mf=r=>As(r).slice(8,-1),Sc=r=>As(r)==="[object Object]",Fa=r=>Le(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,$s=La(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wo=r=>{const o=Object.create(null);return l=>o[l]||(o[l]=r(l))},Ef=/-(\w)/g,nr=wo(r=>r.replace(Ef,(o,l)=>l?l.toUpperCase():"")),wf=/\B([A-Z])/g,Fi=wo(r=>r.replace(wf,"-$1").toLowerCase()),_o=wo(r=>r.charAt(0).toUpperCase()+r.slice(1)),ca=wo(r=>r?`on${_o(r)}`:""),ps=(r,o)=>!Object.is(r,o),qs=(r,o)=>{for(let l=0;l<r.length;l++)r[l](o)},ro=(r,o,l)=>{Object.defineProperty(r,o,{configurable:!0,enumerable:!1,value:l})},io=r=>{const o=parseFloat(r);return isNaN(o)?r:o};let Sl;const ma=()=>Sl||(Sl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ka(r){if(Bt(r)){const o={};for(let l=0;l<r.length;l++){const f=r[l],d=Le(f)?bf(f):ka(f);if(d)for(const h in d)o[h]=d[h]}return o}else{if(Le(r))return r;if(we(r))return r}}const _f=/;(?![^(]*\))/g,Af=/:([^]+)/,Cf=/\/\*[^]*?\*\//g;function bf(r){const o={};return r.replace(Cf,"").split(_f).forEach(l=>{if(l){const f=l.split(Af);f.length>1&&(o[f[0].trim()]=f[1].trim())}}),o}function Ua(r){let o="";if(Le(r))o=r;else if(Bt(r))for(let l=0;l<r.length;l++){const f=Ua(r[l]);f&&(o+=f+" ")}else if(we(r))for(const l in r)r[l]&&(o+=l+" ");return o.trim()}const yf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Tf=La(yf);function Nc(r){return!!r||r===""}function If(r,o){if(r.length!==o.length)return!1;let l=!0;for(let f=0;l&&f<r.length;f++)l=Ao(r[f],o[f]);return l}function Ao(r,o){if(r===o)return!0;let l=Il(r),f=Il(o);if(l||f)return l&&f?r.getTime()===o.getTime():!1;if(l=gs(r),f=gs(o),l||f)return r===o;if(l=Bt(r),f=Bt(o),l||f)return l&&f?If(r,o):!1;if(l=we(r),f=we(o),l||f){if(!l||!f)return!1;const d=Object.keys(r).length,h=Object.keys(o).length;if(d!==h)return!1;for(const E in r){const A=r.hasOwnProperty(E),y=o.hasOwnProperty(E);if(A&&!y||!A&&y||!Ao(r[E],o[E]))return!1}}return String(r)===String(o)}function Sf(r,o){return r.findIndex(l=>Ao(l,o))}const bi=r=>Le(r)?r:r==null?"":Bt(r)||we(r)&&(r.toString===Ic||!Wt(r.toString))?JSON.stringify(r,Oc,2):String(r),Oc=(r,o)=>o&&o.__v_isRef?Oc(r,o.value):Ii(o)?{[`Map(${o.size})`]:[...o.entries()].reduce((l,[f,d])=>(l[`${f} =>`]=d,l),{})}:Eo(o)?{[`Set(${o.size})`]:[...o.values()]}:we(o)&&!Bt(o)&&!Sc(o)?String(o):o;let kn;class Nf{constructor(o=!1){this.detached=o,this._active=!0,this.effects=[],this.cleanups=[],this.parent=kn,!o&&kn&&(this.index=(kn.scopes||(kn.scopes=[])).push(this)-1)}get active(){return this._active}run(o){if(this._active){const l=kn;try{return kn=this,o()}finally{kn=l}}}on(){kn=this}off(){kn=this.parent}stop(o){if(this._active){let l,f;for(l=0,f=this.effects.length;l<f;l++)this.effects[l].stop();for(l=0,f=this.cleanups.length;l<f;l++)this.cleanups[l]();if(this.scopes)for(l=0,f=this.scopes.length;l<f;l++)this.scopes[l].stop(!0);if(!this.detached&&this.parent&&!o){const d=this.parent.scopes.pop();d&&d!==this&&(this.parent.scopes[this.index]=d,d.index=this.index)}this.parent=void 0,this._active=!1}}}function Of(r,o=kn){o&&o.active&&o.effects.push(r)}function vf(){return kn}const Va=r=>{const o=new Set(r);return o.w=0,o.n=0,o},vc=r=>(r.w&Dr)>0,Rc=r=>(r.n&Dr)>0,Rf=({deps:r})=>{if(r.length)for(let o=0;o<r.length;o++)r[o].w|=Dr},Df=r=>{const{deps:o}=r;if(o.length){let l=0;for(let f=0;f<o.length;f++){const d=o[f];vc(d)&&!Rc(d)?d.delete(r):o[l++]=d,d.w&=~Dr,d.n&=~Dr}o.length=l}},Ea=new WeakMap;let ls=0,Dr=1;const wa=30;let Vn;const ti=Symbol(""),_a=Symbol("");class Ha{constructor(o,l=null,f){this.fn=o,this.scheduler=l,this.active=!0,this.deps=[],this.parent=void 0,Of(this,f)}run(){if(!this.active)return this.fn();let o=Vn,l=vr;for(;o;){if(o===this)return;o=o.parent}try{return this.parent=Vn,Vn=this,vr=!0,Dr=1<<++ls,ls<=wa?Rf(this):Nl(this),this.fn()}finally{ls<=wa&&Df(this),Dr=1<<--ls,Vn=this.parent,vr=l,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Vn===this?this.deferStop=!0:this.active&&(Nl(this),this.onStop&&this.onStop(),this.active=!1)}}function Nl(r){const{deps:o}=r;if(o.length){for(let l=0;l<o.length;l++)o[l].delete(r);o.length=0}}let vr=!0;const Dc=[];function ki(){Dc.push(vr),vr=!1}function Ui(){const r=Dc.pop();vr=r===void 0?!0:r}function hn(r,o,l){if(vr&&Vn){let f=Ea.get(r);f||Ea.set(r,f=new Map);let d=f.get(l);d||f.set(l,d=Va()),Mc(d)}}function Mc(r,o){let l=!1;ls<=wa?Rc(r)||(r.n|=Dr,l=!vc(r)):l=!r.has(Vn),l&&(r.add(Vn),Vn.deps.push(r))}function mr(r,o,l,f,d,h){const E=Ea.get(r);if(!E)return;let A=[];if(o==="clear")A=[...E.values()];else if(l==="length"&&Bt(r)){const y=Number(f);E.forEach((m,I)=>{(I==="length"||I>=y)&&A.push(m)})}else switch(l!==void 0&&A.push(E.get(l)),o){case"add":Bt(r)?Fa(l)&&A.push(E.get("length")):(A.push(E.get(ti)),Ii(r)&&A.push(E.get(_a)));break;case"delete":Bt(r)||(A.push(E.get(ti)),Ii(r)&&A.push(E.get(_a)));break;case"set":Ii(r)&&A.push(E.get(ti));break}if(A.length===1)A[0]&&Aa(A[0]);else{const y=[];for(const m of A)m&&y.push(...m);Aa(Va(y))}}function Aa(r,o){const l=Bt(r)?r:[...r];for(const f of l)f.computed&&Ol(f);for(const f of l)f.computed||Ol(f)}function Ol(r,o){(r!==Vn||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const Mf=La("__proto__,__v_isRef,__isVue"),Lc=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(gs)),Lf=Wa(),Bf=Wa(!1,!0),Pf=Wa(!0),vl=Ff();function Ff(){const r={};return["includes","indexOf","lastIndexOf"].forEach(o=>{r[o]=function(...l){const f=oe(this);for(let h=0,E=this.length;h<E;h++)hn(f,"get",h+"");const d=f[o](...l);return d===-1||d===!1?f[o](...l.map(oe)):d}}),["push","pop","shift","unshift","splice"].forEach(o=>{r[o]=function(...l){ki();const f=oe(this)[o].apply(this,l);return Ui(),f}}),r}function kf(r){const o=oe(this);return hn(o,"has",r),o.hasOwnProperty(r)}function Wa(r=!1,o=!1){return function(f,d,h){if(d==="__v_isReactive")return!r;if(d==="__v_isReadonly")return r;if(d==="__v_isShallow")return o;if(d==="__v_raw"&&h===(r?o?t0:Uc:o?kc:Fc).get(f))return f;const E=Bt(f);if(!r){if(E&&ne(vl,d))return Reflect.get(vl,d,h);if(d==="hasOwnProperty")return kf}const A=Reflect.get(f,d,h);return(gs(d)?Lc.has(d):Mf(d))||(r||hn(f,"get",d),o)?A:qe(A)?E&&Fa(d)?A:A.value:we(A)?r?Vc(A):Ya(A):A}}const Uf=Bc(),Vf=Bc(!0);function Bc(r=!1){return function(l,f,d,h){let E=l[f];if(Oi(E)&&qe(E)&&!qe(d))return!1;if(!r&&(!so(d)&&!Oi(d)&&(E=oe(E),d=oe(d)),!Bt(l)&&qe(E)&&!qe(d)))return E.value=d,!0;const A=Bt(l)&&Fa(f)?Number(f)<l.length:ne(l,f),y=Reflect.set(l,f,d,h);return l===oe(h)&&(A?ps(d,E)&&mr(l,"set",f,d):mr(l,"add",f,d)),y}}function Hf(r,o){const l=ne(r,o);r[o];const f=Reflect.deleteProperty(r,o);return f&&l&&mr(r,"delete",o,void 0),f}function Wf(r,o){const l=Reflect.has(r,o);return(!gs(o)||!Lc.has(o))&&hn(r,"has",o),l}function Gf(r){return hn(r,"iterate",Bt(r)?"length":ti),Reflect.ownKeys(r)}const Pc={get:Lf,set:Uf,deleteProperty:Hf,has:Wf,ownKeys:Gf},Xf={get:Pf,set(r,o){return!0},deleteProperty(r,o){return!0}},Yf=Ue({},Pc,{get:Bf,set:Vf}),Ga=r=>r,Co=r=>Reflect.getPrototypeOf(r);function Gs(r,o,l=!1,f=!1){r=r.__v_raw;const d=oe(r),h=oe(o);l||(o!==h&&hn(d,"get",o),hn(d,"get",h));const{has:E}=Co(d),A=f?Ga:l?za:xs;if(E.call(d,o))return A(r.get(o));if(E.call(d,h))return A(r.get(h));r!==d&&r.get(o)}function Xs(r,o=!1){const l=this.__v_raw,f=oe(l),d=oe(r);return o||(r!==d&&hn(f,"has",r),hn(f,"has",d)),r===d?l.has(r):l.has(r)||l.has(d)}function Ys(r,o=!1){return r=r.__v_raw,!o&&hn(oe(r),"iterate",ti),Reflect.get(r,"size",r)}function Rl(r){r=oe(r);const o=oe(this);return Co(o).has.call(o,r)||(o.add(r),mr(o,"add",r,r)),this}function Dl(r,o){o=oe(o);const l=oe(this),{has:f,get:d}=Co(l);let h=f.call(l,r);h||(r=oe(r),h=f.call(l,r));const E=d.call(l,r);return l.set(r,o),h?ps(o,E)&&mr(l,"set",r,o):mr(l,"add",r,o),this}function Ml(r){const o=oe(this),{has:l,get:f}=Co(o);let d=l.call(o,r);d||(r=oe(r),d=l.call(o,r)),f&&f.call(o,r);const h=o.delete(r);return d&&mr(o,"delete",r,void 0),h}function Ll(){const r=oe(this),o=r.size!==0,l=r.clear();return o&&mr(r,"clear",void 0,void 0),l}function js(r,o){return function(f,d){const h=this,E=h.__v_raw,A=oe(E),y=o?Ga:r?za:xs;return!r&&hn(A,"iterate",ti),E.forEach((m,I)=>f.call(d,y(m),y(I),h))}}function zs(r,o,l){return function(...f){const d=this.__v_raw,h=oe(d),E=Ii(h),A=r==="entries"||r===Symbol.iterator&&E,y=r==="keys"&&E,m=d[r](...f),I=l?Ga:o?za:xs;return!o&&hn(h,"iterate",y?_a:ti),{next(){const{value:D,done:$}=m.next();return $?{value:D,done:$}:{value:A?[I(D[0]),I(D[1])]:I(D),done:$}},[Symbol.iterator](){return this}}}}function Nr(r){return function(...o){return r==="delete"?!1:this}}function jf(){const r={get(h){return Gs(this,h)},get size(){return Ys(this)},has:Xs,add:Rl,set:Dl,delete:Ml,clear:Ll,forEach:js(!1,!1)},o={get(h){return Gs(this,h,!1,!0)},get size(){return Ys(this)},has:Xs,add:Rl,set:Dl,delete:Ml,clear:Ll,forEach:js(!1,!0)},l={get(h){return Gs(this,h,!0)},get size(){return Ys(this,!0)},has(h){return Xs.call(this,h,!0)},add:Nr("add"),set:Nr("set"),delete:Nr("delete"),clear:Nr("clear"),forEach:js(!0,!1)},f={get(h){return Gs(this,h,!0,!0)},get size(){return Ys(this,!0)},has(h){return Xs.call(this,h,!0)},add:Nr("add"),set:Nr("set"),delete:Nr("delete"),clear:Nr("clear"),forEach:js(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(h=>{r[h]=zs(h,!1,!1),l[h]=zs(h,!0,!1),o[h]=zs(h,!1,!0),f[h]=zs(h,!0,!0)}),[r,l,o,f]}const[zf,Kf,Zf,$f]=jf();function Xa(r,o){const l=o?r?$f:Zf:r?Kf:zf;return(f,d,h)=>d==="__v_isReactive"?!r:d==="__v_isReadonly"?r:d==="__v_raw"?f:Reflect.get(ne(l,d)&&d in f?l:f,d,h)}const qf={get:Xa(!1,!1)},Qf={get:Xa(!1,!0)},Jf={get:Xa(!0,!1)},Fc=new WeakMap,kc=new WeakMap,Uc=new WeakMap,t0=new WeakMap;function e0(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function n0(r){return r.__v_skip||!Object.isExtensible(r)?0:e0(mf(r))}function Ya(r){return Oi(r)?r:ja(r,!1,Pc,qf,Fc)}function r0(r){return ja(r,!1,Yf,Qf,kc)}function Vc(r){return ja(r,!0,Xf,Jf,Uc)}function ja(r,o,l,f,d){if(!we(r)||r.__v_raw&&!(o&&r.__v_isReactive))return r;const h=d.get(r);if(h)return h;const E=n0(r);if(E===0)return r;const A=new Proxy(r,E===2?f:l);return d.set(r,A),A}function Si(r){return Oi(r)?Si(r.__v_raw):!!(r&&r.__v_isReactive)}function Oi(r){return!!(r&&r.__v_isReadonly)}function so(r){return!!(r&&r.__v_isShallow)}function Hc(r){return Si(r)||Oi(r)}function oe(r){const o=r&&r.__v_raw;return o?oe(o):r}function Wc(r){return ro(r,"__v_skip",!0),r}const xs=r=>we(r)?Ya(r):r,za=r=>we(r)?Vc(r):r;function Gc(r){vr&&Vn&&(r=oe(r),Mc(r.dep||(r.dep=Va())))}function Xc(r,o){r=oe(r);const l=r.dep;l&&Aa(l)}function qe(r){return!!(r&&r.__v_isRef===!0)}function ua(r){return i0(r,!1)}function i0(r,o){return qe(r)?r:new s0(r,o)}class s0{constructor(o,l){this.__v_isShallow=l,this.dep=void 0,this.__v_isRef=!0,this._rawValue=l?o:oe(o),this._value=l?o:xs(o)}get value(){return Gc(this),this._value}set value(o){const l=this.__v_isShallow||so(o)||Oi(o);o=l?o:oe(o),ps(o,this._rawValue)&&(this._rawValue=o,this._value=l?o:xs(o),Xc(this))}}function o0(r){return qe(r)?r.value:r}const a0={get:(r,o,l)=>o0(Reflect.get(r,o,l)),set:(r,o,l,f)=>{const d=r[o];return qe(d)&&!qe(l)?(d.value=l,!0):Reflect.set(r,o,l,f)}};function Yc(r){return Si(r)?r:new Proxy(r,a0)}class l0{constructor(o,l,f,d){this._setter=l,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Ha(o,()=>{this._dirty||(this._dirty=!0,Xc(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!d,this.__v_isReadonly=f}get value(){const o=oe(this);return Gc(o),(o._dirty||!o._cacheable)&&(o._dirty=!1,o._value=o.effect.run()),o._value}set value(o){this._setter(o)}}function c0(r,o,l=!1){let f,d;const h=Wt(r);return h?(f=r,d=Wn):(f=r.get,d=r.set),new l0(f,d,h||!d,l)}function Rr(r,o,l,f){let d;try{d=f?r(...f):r()}catch(h){bo(h,o,l)}return d}function Gn(r,o,l,f){if(Wt(r)){const h=Rr(r,o,l,f);return h&&Tc(h)&&h.catch(E=>{bo(E,o,l)}),h}const d=[];for(let h=0;h<r.length;h++)d.push(Gn(r[h],o,l,f));return d}function bo(r,o,l,f=!0){const d=o?o.vnode:null;if(o){let h=o.parent;const E=o.proxy,A=l;for(;h;){const m=h.ec;if(m){for(let I=0;I<m.length;I++)if(m[I](r,E,A)===!1)return}h=h.parent}const y=o.appContext.config.errorHandler;if(y){Rr(y,null,10,[r,E,A]);return}}u0(r,l,d,f)}function u0(r,o,l,f=!0){console.error(r)}let ms=!1,Ca=!1;const $e=[];let tr=0;const Ni=[];let pr=null,$r=0;const jc=Promise.resolve();let Ka=null;function f0(r){const o=Ka||jc;return r?o.then(this?r.bind(this):r):o}function h0(r){let o=tr+1,l=$e.length;for(;o<l;){const f=o+l>>>1;Es($e[f])<r?o=f+1:l=f}return o}function Za(r){(!$e.length||!$e.includes(r,ms&&r.allowRecurse?tr+1:tr))&&(r.id==null?$e.push(r):$e.splice(h0(r.id),0,r),zc())}function zc(){!ms&&!Ca&&(Ca=!0,Ka=jc.then(Zc))}function d0(r){const o=$e.indexOf(r);o>tr&&$e.splice(o,1)}function g0(r){Bt(r)?Ni.push(...r):(!pr||!pr.includes(r,r.allowRecurse?$r+1:$r))&&Ni.push(r),zc()}function Bl(r,o=ms?tr+1:0){for(;o<$e.length;o++){const l=$e[o];l&&l.pre&&($e.splice(o,1),o--,l())}}function Kc(r){if(Ni.length){const o=[...new Set(Ni)];if(Ni.length=0,pr){pr.push(...o);return}for(pr=o,pr.sort((l,f)=>Es(l)-Es(f)),$r=0;$r<pr.length;$r++)pr[$r]();pr=null,$r=0}}const Es=r=>r.id==null?1/0:r.id,p0=(r,o)=>{const l=Es(r)-Es(o);if(l===0){if(r.pre&&!o.pre)return-1;if(o.pre&&!r.pre)return 1}return l};function Zc(r){Ca=!1,ms=!0,$e.sort(p0);const o=Wn;try{for(tr=0;tr<$e.length;tr++){const l=$e[tr];l&&l.active!==!1&&Rr(l,null,14)}}finally{tr=0,$e.length=0,Kc(),ms=!1,Ka=null,($e.length||Ni.length)&&Zc()}}function x0(r,o,...l){if(r.isUnmounted)return;const f=r.vnode.props||Ee;let d=l;const h=o.startsWith("update:"),E=h&&o.slice(7);if(E&&E in f){const I=`${E==="modelValue"?"model":E}Modifiers`,{number:D,trim:$}=f[I]||Ee;$&&(d=l.map(z=>Le(z)?z.trim():z)),D&&(d=l.map(io))}let A,y=f[A=ca(o)]||f[A=ca(nr(o))];!y&&h&&(y=f[A=ca(Fi(o))]),y&&Gn(y,r,6,d);const m=f[A+"Once"];if(m){if(!r.emitted)r.emitted={};else if(r.emitted[A])return;r.emitted[A]=!0,Gn(m,r,6,d)}}function $c(r,o,l=!1){const f=o.emitsCache,d=f.get(r);if(d!==void 0)return d;const h=r.emits;let E={},A=!1;if(!Wt(r)){const y=m=>{const I=$c(m,o,!0);I&&(A=!0,Ue(E,I))};!l&&o.mixins.length&&o.mixins.forEach(y),r.extends&&y(r.extends),r.mixins&&r.mixins.forEach(y)}return!h&&!A?(we(r)&&f.set(r,null),null):(Bt(h)?h.forEach(y=>E[y]=null):Ue(E,h),we(r)&&f.set(r,E),E)}function yo(r,o){return!r||!mo(o)?!1:(o=o.slice(2).replace(/Once$/,""),ne(r,o[0].toLowerCase()+o.slice(1))||ne(r,Fi(o))||ne(r,o))}let Dn=null,To=null;function oo(r){const o=Dn;return Dn=r,To=r&&r.type.__scopeId||null,o}function m0(r){To=r}function E0(){To=null}function w0(r,o=Dn,l){if(!o||r._n)return r;const f=(...d)=>{f._d&&jl(-1);const h=oo(o);let E;try{E=r(...d)}finally{oo(h),f._d&&jl(1)}return E};return f._n=!0,f._c=!0,f._d=!0,f}function fa(r){const{type:o,vnode:l,proxy:f,withProxy:d,props:h,propsOptions:[E],slots:A,attrs:y,emit:m,render:I,renderCache:D,data:$,setupState:z,ctx:At,inheritAttrs:J}=r;let dt,bt;const ht=oo(r);try{if(l.shapeFlag&4){const Q=d||f;dt=Jn(I.call(Q,Q,D,h,z,$,At)),bt=y}else{const Q=o;dt=Jn(Q.length>1?Q(h,{attrs:y,slots:A,emit:m}):Q(h,null)),bt=o.props?y:_0(y)}}catch(Q){fs.length=0,bo(Q,r,1),dt=Mn(ri)}let at=dt;if(bt&&J!==!1){const Q=Object.keys(bt),{shapeFlag:Rt}=at;Q.length&&Rt&7&&(E&&Q.some(Ba)&&(bt=A0(bt,E)),at=vi(at,bt))}return l.dirs&&(at=vi(at),at.dirs=at.dirs?at.dirs.concat(l.dirs):l.dirs),l.transition&&(at.transition=l.transition),dt=at,oo(ht),dt}const _0=r=>{let o;for(const l in r)(l==="class"||l==="style"||mo(l))&&((o||(o={}))[l]=r[l]);return o},A0=(r,o)=>{const l={};for(const f in r)(!Ba(f)||!(f.slice(9)in o))&&(l[f]=r[f]);return l};function C0(r,o,l){const{props:f,children:d,component:h}=r,{props:E,children:A,patchFlag:y}=o,m=h.emitsOptions;if(o.dirs||o.transition)return!0;if(l&&y>=0){if(y&1024)return!0;if(y&16)return f?Pl(f,E,m):!!E;if(y&8){const I=o.dynamicProps;for(let D=0;D<I.length;D++){const $=I[D];if(E[$]!==f[$]&&!yo(m,$))return!0}}}else return(d||A)&&(!A||!A.$stable)?!0:f===E?!1:f?E?Pl(f,E,m):!0:!!E;return!1}function Pl(r,o,l){const f=Object.keys(o);if(f.length!==Object.keys(r).length)return!0;for(let d=0;d<f.length;d++){const h=f[d];if(o[h]!==r[h]&&!yo(l,h))return!0}return!1}function b0({vnode:r,parent:o},l){for(;o&&o.subTree===r;)(r=o.vnode).el=l,o=o.parent}const y0=r=>r.__isSuspense;function T0(r,o){o&&o.pendingBranch?Bt(r)?o.effects.push(...r):o.effects.push(r):g0(r)}const Ks={};function ha(r,o,l){return qc(r,o,l)}function qc(r,o,{immediate:l,deep:f,flush:d,onTrack:h,onTrigger:E}=Ee){var A;const y=vf()===((A=Ye)==null?void 0:A.scope)?Ye:null;let m,I=!1,D=!1;if(qe(r)?(m=()=>r.value,I=so(r)):Si(r)?(m=()=>r,f=!0):Bt(r)?(D=!0,I=r.some(Q=>Si(Q)||so(Q)),m=()=>r.map(Q=>{if(qe(Q))return Q.value;if(Si(Q))return Jr(Q);if(Wt(Q))return Rr(Q,y,2)})):Wt(r)?o?m=()=>Rr(r,y,2):m=()=>{if(!(y&&y.isUnmounted))return $&&$(),Gn(r,y,3,[z])}:m=Wn,o&&f){const Q=m;m=()=>Jr(Q())}let $,z=Q=>{$=ht.onStop=()=>{Rr(Q,y,4)}},At;if(_s)if(z=Wn,o?l&&Gn(o,y,3,[m(),D?[]:void 0,z]):m(),d==="sync"){const Q=yh();At=Q.__watcherHandles||(Q.__watcherHandles=[])}else return Wn;let J=D?new Array(r.length).fill(Ks):Ks;const dt=()=>{if(ht.active)if(o){const Q=ht.run();(f||I||(D?Q.some((Rt,wt)=>ps(Rt,J[wt])):ps(Q,J)))&&($&&$(),Gn(o,y,3,[Q,J===Ks?void 0:D&&J[0]===Ks?[]:J,z]),J=Q)}else ht.run()};dt.allowRecurse=!!o;let bt;d==="sync"?bt=dt:d==="post"?bt=()=>fn(dt,y&&y.suspense):(dt.pre=!0,y&&(dt.id=y.uid),bt=()=>Za(dt));const ht=new Ha(m,bt);o?l?dt():J=ht.run():d==="post"?fn(ht.run.bind(ht),y&&y.suspense):ht.run();const at=()=>{ht.stop(),y&&y.scope&&Pa(y.scope.effects,ht)};return At&&At.push(at),at}function I0(r,o,l){const f=this.proxy,d=Le(r)?r.includes(".")?Qc(f,r):()=>f[r]:r.bind(f,f);let h;Wt(o)?h=o:(h=o.handler,l=o);const E=Ye;Ri(this);const A=qc(d,h.bind(f),l);return E?Ri(E):ei(),A}function Qc(r,o){const l=o.split(".");return()=>{let f=r;for(let d=0;d<l.length&&f;d++)f=f[l[d]];return f}}function Jr(r,o){if(!we(r)||r.__v_skip||(o=o||new Set,o.has(r)))return r;if(o.add(r),qe(r))Jr(r.value,o);else if(Bt(r))for(let l=0;l<r.length;l++)Jr(r[l],o);else if(Eo(r)||Ii(r))r.forEach(l=>{Jr(l,o)});else if(Sc(r))for(const l in r)Jr(r[l],o);return r}function ao(r,o){const l=Dn;if(l===null)return r;const f=Oo(l)||l.proxy,d=r.dirs||(r.dirs=[]);for(let h=0;h<o.length;h++){let[E,A,y,m=Ee]=o[h];E&&(Wt(E)&&(E={mounted:E,updated:E}),E.deep&&Jr(A),d.push({dir:E,instance:f,value:A,oldValue:void 0,arg:y,modifiers:m}))}return r}function Kr(r,o,l,f){const d=r.dirs,h=o&&o.dirs;for(let E=0;E<d.length;E++){const A=d[E];h&&(A.oldValue=h[E].value);let y=A.dir[f];y&&(ki(),Gn(y,l,8,[r.el,A,r,o]),Ui())}}function S0(r,o){return Wt(r)?(()=>Ue({name:r.name},o,{setup:r}))():r}const Qs=r=>!!r.type.__asyncLoader,Jc=r=>r.type.__isKeepAlive;function N0(r,o){t1(r,"a",o)}function O0(r,o){t1(r,"da",o)}function t1(r,o,l=Ye){const f=r.__wdc||(r.__wdc=()=>{let d=l;for(;d;){if(d.isDeactivated)return;d=d.parent}return r()});if(Io(o,f,l),l){let d=l.parent;for(;d&&d.parent;)Jc(d.parent.vnode)&&v0(f,o,l,d),d=d.parent}}function v0(r,o,l,f){const d=Io(o,r,f,!0);$a(()=>{Pa(f[o],d)},l)}function Io(r,o,l=Ye,f=!1){if(l){const d=l[r]||(l[r]=[]),h=o.__weh||(o.__weh=(...E)=>{if(l.isUnmounted)return;ki(),Ri(l);const A=Gn(o,l,r,E);return ei(),Ui(),A});return f?d.unshift(h):d.push(h),h}}const wr=r=>(o,l=Ye)=>(!_s||r==="sp")&&Io(r,(...f)=>o(...f),l),R0=wr("bm"),e1=wr("m"),D0=wr("bu"),M0=wr("u"),L0=wr("bum"),$a=wr("um"),B0=wr("sp"),P0=wr("rtg"),F0=wr("rtc");function k0(r,o=Ye){Io("ec",r,o)}const n1="components";function U0(r,o){return H0(n1,r,!0,o)||r}const V0=Symbol.for("v-ndc");function H0(r,o,l=!0,f=!1){const d=Dn||Ye;if(d){const h=d.type;if(r===n1){const A=_h(h,!1);if(A&&(A===o||A===nr(o)||A===_o(nr(o))))return h}const E=Fl(d[r]||h[r],o)||Fl(d.appContext[r],o);return!E&&f?h:E}}function Fl(r,o){return r&&(r[o]||r[nr(o)]||r[_o(nr(o))])}function r1(r,o,l,f){let d;const h=l&&l[f];if(Bt(r)||Le(r)){d=new Array(r.length);for(let E=0,A=r.length;E<A;E++)d[E]=o(r[E],E,void 0,h&&h[E])}else if(typeof r=="number"){d=new Array(r);for(let E=0;E<r;E++)d[E]=o(E+1,E,void 0,h&&h[E])}else if(we(r))if(r[Symbol.iterator])d=Array.from(r,(E,A)=>o(E,A,void 0,h&&h[A]));else{const E=Object.keys(r);d=new Array(E.length);for(let A=0,y=E.length;A<y;A++){const m=E[A];d[A]=o(r[m],m,A,h&&h[A])}}else d=[];return l&&(l[f]=d),d}const ba=r=>r?g1(r)?Oo(r)||r.proxy:ba(r.parent):null,us=Ue(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>ba(r.parent),$root:r=>ba(r.root),$emit:r=>r.emit,$options:r=>qa(r),$forceUpdate:r=>r.f||(r.f=()=>Za(r.update)),$nextTick:r=>r.n||(r.n=f0.bind(r.proxy)),$watch:r=>I0.bind(r)}),da=(r,o)=>r!==Ee&&!r.__isScriptSetup&&ne(r,o),W0={get({_:r},o){const{ctx:l,setupState:f,data:d,props:h,accessCache:E,type:A,appContext:y}=r;let m;if(o[0]!=="$"){const z=E[o];if(z!==void 0)switch(z){case 1:return f[o];case 2:return d[o];case 4:return l[o];case 3:return h[o]}else{if(da(f,o))return E[o]=1,f[o];if(d!==Ee&&ne(d,o))return E[o]=2,d[o];if((m=r.propsOptions[0])&&ne(m,o))return E[o]=3,h[o];if(l!==Ee&&ne(l,o))return E[o]=4,l[o];ya&&(E[o]=0)}}const I=us[o];let D,$;if(I)return o==="$attrs"&&hn(r,"get",o),I(r);if((D=A.__cssModules)&&(D=D[o]))return D;if(l!==Ee&&ne(l,o))return E[o]=4,l[o];if($=y.config.globalProperties,ne($,o))return $[o]},set({_:r},o,l){const{data:f,setupState:d,ctx:h}=r;return da(d,o)?(d[o]=l,!0):f!==Ee&&ne(f,o)?(f[o]=l,!0):ne(r.props,o)||o[0]==="$"&&o.slice(1)in r?!1:(h[o]=l,!0)},has({_:{data:r,setupState:o,accessCache:l,ctx:f,appContext:d,propsOptions:h}},E){let A;return!!l[E]||r!==Ee&&ne(r,E)||da(o,E)||(A=h[0])&&ne(A,E)||ne(f,E)||ne(us,E)||ne(d.config.globalProperties,E)},defineProperty(r,o,l){return l.get!=null?r._.accessCache[o]=0:ne(l,"value")&&this.set(r,o,l.value,null),Reflect.defineProperty(r,o,l)}};function kl(r){return Bt(r)?r.reduce((o,l)=>(o[l]=null,o),{}):r}let ya=!0;function G0(r){const o=qa(r),l=r.proxy,f=r.ctx;ya=!1,o.beforeCreate&&Ul(o.beforeCreate,r,"bc");const{data:d,computed:h,methods:E,watch:A,provide:y,inject:m,created:I,beforeMount:D,mounted:$,beforeUpdate:z,updated:At,activated:J,deactivated:dt,beforeDestroy:bt,beforeUnmount:ht,destroyed:at,unmounted:Q,render:Rt,renderTracked:wt,renderTriggered:q,errorCaptured:Tt,serverPrefetch:j,expose:Pt,inheritAttrs:Dt,components:_t,directives:St,filters:re}=o;if(m&&X0(m,f,null),E)for(const ft in E){const Gt=E[ft];Wt(Gt)&&(f[ft]=Gt.bind(l))}if(d){const ft=d.call(l,l);we(ft)&&(r.data=Ya(ft))}if(ya=!0,h)for(const ft in h){const Gt=h[ft],he=Wt(Gt)?Gt.bind(l,l):Wt(Gt.get)?Gt.get.bind(l,l):Wn,Ne=!Wt(Gt)&&Wt(Gt.set)?Gt.set.bind(l):Wn,Ve=Ch({get:he,set:Ne});Object.defineProperty(f,ft,{enumerable:!0,configurable:!0,get:()=>Ve.value,set:Zt=>Ve.value=Zt})}if(A)for(const ft in A)i1(A[ft],f,l,ft);if(y){const ft=Wt(y)?y.call(l):y;Reflect.ownKeys(ft).forEach(Gt=>{$0(Gt,ft[Gt])})}I&&Ul(I,r,"c");function Mt(ft,Gt){Bt(Gt)?Gt.forEach(he=>ft(he.bind(l))):Gt&&ft(Gt.bind(l))}if(Mt(R0,D),Mt(e1,$),Mt(D0,z),Mt(M0,At),Mt(N0,J),Mt(O0,dt),Mt(k0,Tt),Mt(F0,wt),Mt(P0,q),Mt(L0,ht),Mt($a,Q),Mt(B0,j),Bt(Pt))if(Pt.length){const ft=r.exposed||(r.exposed={});Pt.forEach(Gt=>{Object.defineProperty(ft,Gt,{get:()=>l[Gt],set:he=>l[Gt]=he})})}else r.exposed||(r.exposed={});Rt&&r.render===Wn&&(r.render=Rt),Dt!=null&&(r.inheritAttrs=Dt),_t&&(r.components=_t),St&&(r.directives=St)}function X0(r,o,l=Wn){Bt(r)&&(r=Ta(r));for(const f in r){const d=r[f];let h;we(d)?"default"in d?h=Js(d.from||f,d.default,!0):h=Js(d.from||f):h=Js(d),qe(h)?Object.defineProperty(o,f,{enumerable:!0,configurable:!0,get:()=>h.value,set:E=>h.value=E}):o[f]=h}}function Ul(r,o,l){Gn(Bt(r)?r.map(f=>f.bind(o.proxy)):r.bind(o.proxy),o,l)}function i1(r,o,l,f){const d=f.includes(".")?Qc(l,f):()=>l[f];if(Le(r)){const h=o[r];Wt(h)&&ha(d,h)}else if(Wt(r))ha(d,r.bind(l));else if(we(r))if(Bt(r))r.forEach(h=>i1(h,o,l,f));else{const h=Wt(r.handler)?r.handler.bind(l):o[r.handler];Wt(h)&&ha(d,h,r)}}function qa(r){const o=r.type,{mixins:l,extends:f}=o,{mixins:d,optionsCache:h,config:{optionMergeStrategies:E}}=r.appContext,A=h.get(o);let y;return A?y=A:!d.length&&!l&&!f?y=o:(y={},d.length&&d.forEach(m=>lo(y,m,E,!0)),lo(y,o,E)),we(o)&&h.set(o,y),y}function lo(r,o,l,f=!1){const{mixins:d,extends:h}=o;h&&lo(r,h,l,!0),d&&d.forEach(E=>lo(r,E,l,!0));for(const E in o)if(!(f&&E==="expose")){const A=Y0[E]||l&&l[E];r[E]=A?A(r[E],o[E]):o[E]}return r}const Y0={data:Vl,props:Hl,emits:Hl,methods:cs,computed:cs,beforeCreate:nn,created:nn,beforeMount:nn,mounted:nn,beforeUpdate:nn,updated:nn,beforeDestroy:nn,beforeUnmount:nn,destroyed:nn,unmounted:nn,activated:nn,deactivated:nn,errorCaptured:nn,serverPrefetch:nn,components:cs,directives:cs,watch:z0,provide:Vl,inject:j0};function Vl(r,o){return o?r?function(){return Ue(Wt(r)?r.call(this,this):r,Wt(o)?o.call(this,this):o)}:o:r}function j0(r,o){return cs(Ta(r),Ta(o))}function Ta(r){if(Bt(r)){const o={};for(let l=0;l<r.length;l++)o[r[l]]=r[l];return o}return r}function nn(r,o){return r?[...new Set([].concat(r,o))]:o}function cs(r,o){return r?Ue(Object.create(null),r,o):o}function Hl(r,o){return r?Bt(r)&&Bt(o)?[...new Set([...r,...o])]:Ue(Object.create(null),kl(r),kl(o??{})):o}function z0(r,o){if(!r)return o;if(!o)return r;const l=Ue(Object.create(null),r);for(const f in o)l[f]=nn(r[f],o[f]);return l}function s1(){return{app:null,config:{isNativeTag:gf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let K0=0;function Z0(r,o){return function(f,d=null){Wt(f)||(f=Ue({},f)),d!=null&&!we(d)&&(d=null);const h=s1(),E=new Set;let A=!1;const y=h.app={_uid:K0++,_component:f,_props:d,_container:null,_context:h,_instance:null,version:Th,get config(){return h.config},set config(m){},use(m,...I){return E.has(m)||(m&&Wt(m.install)?(E.add(m),m.install(y,...I)):Wt(m)&&(E.add(m),m(y,...I))),y},mixin(m){return h.mixins.includes(m)||h.mixins.push(m),y},component(m,I){return I?(h.components[m]=I,y):h.components[m]},directive(m,I){return I?(h.directives[m]=I,y):h.directives[m]},mount(m,I,D){if(!A){const $=Mn(f,d);return $.appContext=h,I&&o?o($,m):r($,m,D),A=!0,y._container=m,m.__vue_app__=y,Oo($.component)||$.component.proxy}},unmount(){A&&(r(null,y._container),delete y._container.__vue_app__)},provide(m,I){return h.provides[m]=I,y},runWithContext(m){co=y;try{return m()}finally{co=null}}};return y}}let co=null;function $0(r,o){if(Ye){let l=Ye.provides;const f=Ye.parent&&Ye.parent.provides;f===l&&(l=Ye.provides=Object.create(f)),l[r]=o}}function Js(r,o,l=!1){const f=Ye||Dn;if(f||co){const d=f?f.parent==null?f.vnode.appContext&&f.vnode.appContext.provides:f.parent.provides:co._context.provides;if(d&&r in d)return d[r];if(arguments.length>1)return l&&Wt(o)?o.call(f&&f.proxy):o}}function q0(r,o,l,f=!1){const d={},h={};ro(h,No,1),r.propsDefaults=Object.create(null),o1(r,o,d,h);for(const E in r.propsOptions[0])E in d||(d[E]=void 0);l?r.props=f?d:r0(d):r.type.props?r.props=d:r.props=h,r.attrs=h}function Q0(r,o,l,f){const{props:d,attrs:h,vnode:{patchFlag:E}}=r,A=oe(d),[y]=r.propsOptions;let m=!1;if((f||E>0)&&!(E&16)){if(E&8){const I=r.vnode.dynamicProps;for(let D=0;D<I.length;D++){let $=I[D];if(yo(r.emitsOptions,$))continue;const z=o[$];if(y)if(ne(h,$))z!==h[$]&&(h[$]=z,m=!0);else{const At=nr($);d[At]=Ia(y,A,At,z,r,!1)}else z!==h[$]&&(h[$]=z,m=!0)}}}else{o1(r,o,d,h)&&(m=!0);let I;for(const D in A)(!o||!ne(o,D)&&((I=Fi(D))===D||!ne(o,I)))&&(y?l&&(l[D]!==void 0||l[I]!==void 0)&&(d[D]=Ia(y,A,D,void 0,r,!0)):delete d[D]);if(h!==A)for(const D in h)(!o||!ne(o,D))&&(delete h[D],m=!0)}m&&mr(r,"set","$attrs")}function o1(r,o,l,f){const[d,h]=r.propsOptions;let E=!1,A;if(o)for(let y in o){if($s(y))continue;const m=o[y];let I;d&&ne(d,I=nr(y))?!h||!h.includes(I)?l[I]=m:(A||(A={}))[I]=m:yo(r.emitsOptions,y)||(!(y in f)||m!==f[y])&&(f[y]=m,E=!0)}if(h){const y=oe(l),m=A||Ee;for(let I=0;I<h.length;I++){const D=h[I];l[D]=Ia(d,y,D,m[D],r,!ne(m,D))}}return E}function Ia(r,o,l,f,d,h){const E=r[l];if(E!=null){const A=ne(E,"default");if(A&&f===void 0){const y=E.default;if(E.type!==Function&&!E.skipFactory&&Wt(y)){const{propsDefaults:m}=d;l in m?f=m[l]:(Ri(d),f=m[l]=y.call(null,o),ei())}else f=y}E[0]&&(h&&!A?f=!1:E[1]&&(f===""||f===Fi(l))&&(f=!0))}return f}function a1(r,o,l=!1){const f=o.propsCache,d=f.get(r);if(d)return d;const h=r.props,E={},A=[];let y=!1;if(!Wt(r)){const I=D=>{y=!0;const[$,z]=a1(D,o,!0);Ue(E,$),z&&A.push(...z)};!l&&o.mixins.length&&o.mixins.forEach(I),r.extends&&I(r.extends),r.mixins&&r.mixins.forEach(I)}if(!h&&!y)return we(r)&&f.set(r,Ti),Ti;if(Bt(h))for(let I=0;I<h.length;I++){const D=nr(h[I]);Wl(D)&&(E[D]=Ee)}else if(h)for(const I in h){const D=nr(I);if(Wl(D)){const $=h[I],z=E[D]=Bt($)||Wt($)?{type:$}:Ue({},$);if(z){const At=Yl(Boolean,z.type),J=Yl(String,z.type);z[0]=At>-1,z[1]=J<0||At<J,(At>-1||ne(z,"default"))&&A.push(D)}}}const m=[E,A];return we(r)&&f.set(r,m),m}function Wl(r){return r[0]!=="$"}function Gl(r){const o=r&&r.toString().match(/^\s*(function|class) (\w+)/);return o?o[2]:r===null?"null":""}function Xl(r,o){return Gl(r)===Gl(o)}function Yl(r,o){return Bt(o)?o.findIndex(l=>Xl(l,r)):Wt(o)&&Xl(o,r)?0:-1}const l1=r=>r[0]==="_"||r==="$stable",Qa=r=>Bt(r)?r.map(Jn):[Jn(r)],J0=(r,o,l)=>{if(o._n)return o;const f=w0((...d)=>Qa(o(...d)),l);return f._c=!1,f},c1=(r,o,l)=>{const f=r._ctx;for(const d in r){if(l1(d))continue;const h=r[d];if(Wt(h))o[d]=J0(d,h,f);else if(h!=null){const E=Qa(h);o[d]=()=>E}}},u1=(r,o)=>{const l=Qa(o);r.slots.default=()=>l},th=(r,o)=>{if(r.vnode.shapeFlag&32){const l=o._;l?(r.slots=oe(o),ro(o,"_",l)):c1(o,r.slots={})}else r.slots={},o&&u1(r,o);ro(r.slots,No,1)},eh=(r,o,l)=>{const{vnode:f,slots:d}=r;let h=!0,E=Ee;if(f.shapeFlag&32){const A=o._;A?l&&A===1?h=!1:(Ue(d,o),!l&&A===1&&delete d._):(h=!o.$stable,c1(o,d)),E=o}else o&&(u1(r,o),E={default:1});if(h)for(const A in d)!l1(A)&&!(A in E)&&delete d[A]};function Sa(r,o,l,f,d=!1){if(Bt(r)){r.forEach(($,z)=>Sa($,o&&(Bt(o)?o[z]:o),l,f,d));return}if(Qs(f)&&!d)return;const h=f.shapeFlag&4?Oo(f.component)||f.component.proxy:f.el,E=d?null:h,{i:A,r:y}=r,m=o&&o.r,I=A.refs===Ee?A.refs={}:A.refs,D=A.setupState;if(m!=null&&m!==y&&(Le(m)?(I[m]=null,ne(D,m)&&(D[m]=null)):qe(m)&&(m.value=null)),Wt(y))Rr(y,A,12,[E,I]);else{const $=Le(y),z=qe(y);if($||z){const At=()=>{if(r.f){const J=$?ne(D,y)?D[y]:I[y]:y.value;d?Bt(J)&&Pa(J,h):Bt(J)?J.includes(h)||J.push(h):$?(I[y]=[h],ne(D,y)&&(D[y]=I[y])):(y.value=[h],r.k&&(I[r.k]=y.value))}else $?(I[y]=E,ne(D,y)&&(D[y]=E)):z&&(y.value=E,r.k&&(I[r.k]=E))};E?(At.id=-1,fn(At,l)):At()}}}const fn=T0;function nh(r){return rh(r)}function rh(r,o){const l=ma();l.__VUE__=!0;const{insert:f,remove:d,patchProp:h,createElement:E,createText:A,createComment:y,setText:m,setElementText:I,parentNode:D,nextSibling:$,setScopeId:z=Wn,insertStaticContent:At}=r,J=(v,M,W,Y=null,Z=null,nt=null,tt=!1,G=null,U=!!M.dynamicChildren)=>{if(v===M)return;v&&!os(v,M)&&(Y=je(v),Zt(v,Z,nt,!0),v=null),M.patchFlag===-2&&(U=!1,M.dynamicChildren=null);const{type:B,ref:Ct,shapeFlag:mt}=M;switch(B){case So:dt(v,M,W,Y);break;case ri:bt(v,M,W,Y);break;case to:v==null&&ht(M,W,Y,tt);break;case wn:_t(v,M,W,Y,Z,nt,tt,G,U);break;default:mt&1?Rt(v,M,W,Y,Z,nt,tt,G,U):mt&6?St(v,M,W,Y,Z,nt,tt,G,U):(mt&64||mt&128)&&B.process(v,M,W,Y,Z,nt,tt,G,U,Be)}Ct!=null&&Z&&Sa(Ct,v&&v.ref,nt,M||v,!M)},dt=(v,M,W,Y)=>{if(v==null)f(M.el=A(M.children),W,Y);else{const Z=M.el=v.el;M.children!==v.children&&m(Z,M.children)}},bt=(v,M,W,Y)=>{v==null?f(M.el=y(M.children||""),W,Y):M.el=v.el},ht=(v,M,W,Y)=>{[v.el,v.anchor]=At(v.children,M,W,Y,v.el,v.anchor)},at=({el:v,anchor:M},W,Y)=>{let Z;for(;v&&v!==M;)Z=$(v),f(v,W,Y),v=Z;f(M,W,Y)},Q=({el:v,anchor:M})=>{let W;for(;v&&v!==M;)W=$(v),d(v),v=W;d(M)},Rt=(v,M,W,Y,Z,nt,tt,G,U)=>{tt=tt||M.type==="svg",v==null?wt(M,W,Y,Z,nt,tt,G,U):j(v,M,Z,nt,tt,G,U)},wt=(v,M,W,Y,Z,nt,tt,G)=>{let U,B;const{type:Ct,props:mt,shapeFlag:pt,transition:Nt,dirs:Ot}=v;if(U=v.el=E(v.type,nt,mt&&mt.is,mt),pt&8?I(U,v.children):pt&16&&Tt(v.children,U,null,Y,Z,nt&&Ct!=="foreignObject",tt,G),Ot&&Kr(v,null,Y,"created"),q(U,v,v.scopeId,tt,Y),mt){for(const Ut in mt)Ut!=="value"&&!$s(Ut)&&h(U,Ut,null,mt[Ut],nt,v.children,Y,Z,gt);"value"in mt&&h(U,"value",null,mt.value),(B=mt.onVnodeBeforeMount)&&Qn(B,Y,v)}Ot&&Kr(v,null,Y,"beforeMount");const qt=(!Z||Z&&!Z.pendingBranch)&&Nt&&!Nt.persisted;qt&&Nt.beforeEnter(U),f(U,M,W),((B=mt&&mt.onVnodeMounted)||qt||Ot)&&fn(()=>{B&&Qn(B,Y,v),qt&&Nt.enter(U),Ot&&Kr(v,null,Y,"mounted")},Z)},q=(v,M,W,Y,Z)=>{if(W&&z(v,W),Y)for(let nt=0;nt<Y.length;nt++)z(v,Y[nt]);if(Z){let nt=Z.subTree;if(M===nt){const tt=Z.vnode;q(v,tt,tt.scopeId,tt.slotScopeIds,Z.parent)}}},Tt=(v,M,W,Y,Z,nt,tt,G,U=0)=>{for(let B=U;B<v.length;B++){const Ct=v[B]=G?Or(v[B]):Jn(v[B]);J(null,Ct,M,W,Y,Z,nt,tt,G)}},j=(v,M,W,Y,Z,nt,tt)=>{const G=M.el=v.el;let{patchFlag:U,dynamicChildren:B,dirs:Ct}=M;U|=v.patchFlag&16;const mt=v.props||Ee,pt=M.props||Ee;let Nt;W&&Zr(W,!1),(Nt=pt.onVnodeBeforeUpdate)&&Qn(Nt,W,M,v),Ct&&Kr(M,v,W,"beforeUpdate"),W&&Zr(W,!0);const Ot=Z&&M.type!=="foreignObject";if(B?Pt(v.dynamicChildren,B,G,W,Y,Ot,nt):tt||Gt(v,M,G,null,W,Y,Ot,nt,!1),U>0){if(U&16)Dt(G,M,mt,pt,W,Y,Z);else if(U&2&&mt.class!==pt.class&&h(G,"class",null,pt.class,Z),U&4&&h(G,"style",mt.style,pt.style,Z),U&8){const qt=M.dynamicProps;for(let Ut=0;Ut<qt.length;Ut++){const Vt=qt[Ut],ze=mt[Vt],bn=pt[Vt];(bn!==ze||Vt==="value")&&h(G,Vt,ze,bn,Z,v.children,W,Y,gt)}}U&1&&v.children!==M.children&&I(G,M.children)}else!tt&&B==null&&Dt(G,M,mt,pt,W,Y,Z);((Nt=pt.onVnodeUpdated)||Ct)&&fn(()=>{Nt&&Qn(Nt,W,M,v),Ct&&Kr(M,v,W,"updated")},Y)},Pt=(v,M,W,Y,Z,nt,tt)=>{for(let G=0;G<M.length;G++){const U=v[G],B=M[G],Ct=U.el&&(U.type===wn||!os(U,B)||U.shapeFlag&70)?D(U.el):W;J(U,B,Ct,null,Y,Z,nt,tt,!0)}},Dt=(v,M,W,Y,Z,nt,tt)=>{if(W!==Y){if(W!==Ee)for(const G in W)!$s(G)&&!(G in Y)&&h(v,G,W[G],null,tt,M.children,Z,nt,gt);for(const G in Y){if($s(G))continue;const U=Y[G],B=W[G];U!==B&&G!=="value"&&h(v,G,B,U,tt,M.children,Z,nt,gt)}"value"in Y&&h(v,"value",W.value,Y.value)}},_t=(v,M,W,Y,Z,nt,tt,G,U)=>{const B=M.el=v?v.el:A(""),Ct=M.anchor=v?v.anchor:A("");let{patchFlag:mt,dynamicChildren:pt,slotScopeIds:Nt}=M;Nt&&(G=G?G.concat(Nt):Nt),v==null?(f(B,W,Y),f(Ct,W,Y),Tt(M.children,W,Ct,Z,nt,tt,G,U)):mt>0&&mt&64&&pt&&v.dynamicChildren?(Pt(v.dynamicChildren,pt,W,Z,nt,tt,G),(M.key!=null||Z&&M===Z.subTree)&&f1(v,M,!0)):Gt(v,M,W,Ct,Z,nt,tt,G,U)},St=(v,M,W,Y,Z,nt,tt,G,U)=>{M.slotScopeIds=G,v==null?M.shapeFlag&512?Z.ctx.activate(M,W,Y,tt,U):re(M,W,Y,Z,nt,tt,U):H(v,M,U)},re=(v,M,W,Y,Z,nt,tt)=>{const G=v.component=ph(v,Y,Z);if(Jc(v)&&(G.ctx.renderer=Be),xh(G),G.asyncDep){if(Z&&Z.registerDep(G,Mt),!v.el){const U=G.subTree=Mn(ri);bt(null,U,M,W)}return}Mt(G,v,M,W,Z,nt,tt)},H=(v,M,W)=>{const Y=M.component=v.component;if(C0(v,M,W))if(Y.asyncDep&&!Y.asyncResolved){ft(Y,M,W);return}else Y.next=M,d0(Y.update),Y.update();else M.el=v.el,Y.vnode=M},Mt=(v,M,W,Y,Z,nt,tt)=>{const G=()=>{if(v.isMounted){let{next:Ct,bu:mt,u:pt,parent:Nt,vnode:Ot}=v,qt=Ct,Ut;Zr(v,!1),Ct?(Ct.el=Ot.el,ft(v,Ct,tt)):Ct=Ot,mt&&qs(mt),(Ut=Ct.props&&Ct.props.onVnodeBeforeUpdate)&&Qn(Ut,Nt,Ct,Ot),Zr(v,!0);const Vt=fa(v),ze=v.subTree;v.subTree=Vt,J(ze,Vt,D(ze.el),je(ze),v,Z,nt),Ct.el=Vt.el,qt===null&&b0(v,Vt.el),pt&&fn(pt,Z),(Ut=Ct.props&&Ct.props.onVnodeUpdated)&&fn(()=>Qn(Ut,Nt,Ct,Ot),Z)}else{let Ct;const{el:mt,props:pt}=M,{bm:Nt,m:Ot,parent:qt}=v,Ut=Qs(M);if(Zr(v,!1),Nt&&qs(Nt),!Ut&&(Ct=pt&&pt.onVnodeBeforeMount)&&Qn(Ct,qt,M),Zr(v,!0),mt&&X){const Vt=()=>{v.subTree=fa(v),X(mt,v.subTree,v,Z,null)};Ut?M.type.__asyncLoader().then(()=>!v.isUnmounted&&Vt()):Vt()}else{const Vt=v.subTree=fa(v);J(null,Vt,W,Y,v,Z,nt),M.el=Vt.el}if(Ot&&fn(Ot,Z),!Ut&&(Ct=pt&&pt.onVnodeMounted)){const Vt=M;fn(()=>Qn(Ct,qt,Vt),Z)}(M.shapeFlag&256||qt&&Qs(qt.vnode)&&qt.vnode.shapeFlag&256)&&v.a&&fn(v.a,Z),v.isMounted=!0,M=W=Y=null}},U=v.effect=new Ha(G,()=>Za(B),v.scope),B=v.update=()=>U.run();B.id=v.uid,Zr(v,!0),B()},ft=(v,M,W)=>{M.component=v;const Y=v.vnode.props;v.vnode=M,v.next=null,Q0(v,M.props,Y,W),eh(v,M.children,W),ki(),Bl(),Ui()},Gt=(v,M,W,Y,Z,nt,tt,G,U=!1)=>{const B=v&&v.children,Ct=v?v.shapeFlag:0,mt=M.children,{patchFlag:pt,shapeFlag:Nt}=M;if(pt>0){if(pt&128){Ne(B,mt,W,Y,Z,nt,tt,G,U);return}else if(pt&256){he(B,mt,W,Y,Z,nt,tt,G,U);return}}Nt&8?(Ct&16&&gt(B,Z,nt),mt!==B&&I(W,mt)):Ct&16?Nt&16?Ne(B,mt,W,Y,Z,nt,tt,G,U):gt(B,Z,nt,!0):(Ct&8&&I(W,""),Nt&16&&Tt(mt,W,Y,Z,nt,tt,G,U))},he=(v,M,W,Y,Z,nt,tt,G,U)=>{v=v||Ti,M=M||Ti;const B=v.length,Ct=M.length,mt=Math.min(B,Ct);let pt;for(pt=0;pt<mt;pt++){const Nt=M[pt]=U?Or(M[pt]):Jn(M[pt]);J(v[pt],Nt,W,null,Z,nt,tt,G,U)}B>Ct?gt(v,Z,nt,!0,!1,mt):Tt(M,W,Y,Z,nt,tt,G,U,mt)},Ne=(v,M,W,Y,Z,nt,tt,G,U)=>{let B=0;const Ct=M.length;let mt=v.length-1,pt=Ct-1;for(;B<=mt&&B<=pt;){const Nt=v[B],Ot=M[B]=U?Or(M[B]):Jn(M[B]);if(os(Nt,Ot))J(Nt,Ot,W,null,Z,nt,tt,G,U);else break;B++}for(;B<=mt&&B<=pt;){const Nt=v[mt],Ot=M[pt]=U?Or(M[pt]):Jn(M[pt]);if(os(Nt,Ot))J(Nt,Ot,W,null,Z,nt,tt,G,U);else break;mt--,pt--}if(B>mt){if(B<=pt){const Nt=pt+1,Ot=Nt<Ct?M[Nt].el:Y;for(;B<=pt;)J(null,M[B]=U?Or(M[B]):Jn(M[B]),W,Ot,Z,nt,tt,G,U),B++}}else if(B>pt)for(;B<=mt;)Zt(v[B],Z,nt,!0),B++;else{const Nt=B,Ot=B,qt=new Map;for(B=Ot;B<=pt;B++){const Kt=M[B]=U?Or(M[B]):Jn(M[B]);Kt.key!=null&&qt.set(Kt.key,B)}let Ut,Vt=0;const ze=pt-Ot+1;let bn=!1,oi=0;const ue=new Array(ze);for(B=0;B<ze;B++)ue[B]=0;for(B=Nt;B<=mt;B++){const Kt=v[B];if(Vt>=ze){Zt(Kt,Z,nt,!0);continue}let Xt;if(Kt.key!=null)Xt=qt.get(Kt.key);else for(Ut=Ot;Ut<=pt;Ut++)if(ue[Ut-Ot]===0&&os(Kt,M[Ut])){Xt=Ut;break}Xt===void 0?Zt(Kt,Z,nt,!0):(ue[Xt-Ot]=B+1,Xt>=oi?oi=Xt:bn=!0,J(Kt,M[Xt],W,null,Z,nt,tt,G,U),Vt++)}const ct=bn?ih(ue):Ti;for(Ut=ct.length-1,B=ze-1;B>=0;B--){const Kt=Ot+B,Xt=M[Kt],se=Kt+1<Ct?M[Kt+1].el:Y;ue[B]===0?J(null,Xt,W,se,Z,nt,tt,G,U):bn&&(Ut<0||B!==ct[Ut]?Ve(Xt,W,se,2):Ut--)}}},Ve=(v,M,W,Y,Z=null)=>{const{el:nt,type:tt,transition:G,children:U,shapeFlag:B}=v;if(B&6){Ve(v.component.subTree,M,W,Y);return}if(B&128){v.suspense.move(M,W,Y);return}if(B&64){tt.move(v,M,W,Be);return}if(tt===wn){f(nt,M,W);for(let mt=0;mt<U.length;mt++)Ve(U[mt],M,W,Y);f(v.anchor,M,W);return}if(tt===to){at(v,M,W);return}if(Y!==2&&B&1&&G)if(Y===0)G.beforeEnter(nt),f(nt,M,W),fn(()=>G.enter(nt),Z);else{const{leave:mt,delayLeave:pt,afterLeave:Nt}=G,Ot=()=>f(nt,M,W),qt=()=>{mt(nt,()=>{Ot(),Nt&&Nt()})};pt?pt(nt,Ot,qt):qt()}else f(nt,M,W)},Zt=(v,M,W,Y=!1,Z=!1)=>{const{type:nt,props:tt,ref:G,children:U,dynamicChildren:B,shapeFlag:Ct,patchFlag:mt,dirs:pt}=v;if(G!=null&&Sa(G,null,W,v,!0),Ct&256){M.ctx.deactivate(v);return}const Nt=Ct&1&&pt,Ot=!Qs(v);let qt;if(Ot&&(qt=tt&&tt.onVnodeBeforeUnmount)&&Qn(qt,M,v),Ct&6)We(v.component,W,Y);else{if(Ct&128){v.suspense.unmount(W,Y);return}Nt&&Kr(v,null,M,"beforeUnmount"),Ct&64?v.type.remove(v,M,W,Z,Be,Y):B&&(nt!==wn||mt>0&&mt&64)?gt(B,M,W,!1,!0):(nt===wn&&mt&384||!Z&&Ct&16)&&gt(U,M,W),Y&&He(v)}(Ot&&(qt=tt&&tt.onVnodeUnmounted)||Nt)&&fn(()=>{qt&&Qn(qt,M,v),Nt&&Kr(v,null,M,"unmounted")},W)},He=v=>{const{type:M,el:W,anchor:Y,transition:Z}=v;if(M===wn){de(W,Y);return}if(M===to){Q(v);return}const nt=()=>{d(W),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(v.shapeFlag&1&&Z&&!Z.persisted){const{leave:tt,delayLeave:G}=Z,U=()=>tt(W,nt);G?G(v.el,nt,U):U()}else nt()},de=(v,M)=>{let W;for(;v!==M;)W=$(v),d(v),v=W;d(M)},We=(v,M,W)=>{const{bum:Y,scope:Z,update:nt,subTree:tt,um:G}=v;Y&&qs(Y),Z.stop(),nt&&(nt.active=!1,Zt(tt,v,M,W)),G&&fn(G,M),fn(()=>{v.isUnmounted=!0},M),M&&M.pendingBranch&&!M.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===M.pendingId&&(M.deps--,M.deps===0&&M.resolve())},gt=(v,M,W,Y=!1,Z=!1,nt=0)=>{for(let tt=nt;tt<v.length;tt++)Zt(v[tt],M,W,Y,Z)},je=v=>v.shapeFlag&6?je(v.component.subTree):v.shapeFlag&128?v.suspense.next():$(v.anchor||v.el),Jt=(v,M,W)=>{v==null?M._vnode&&Zt(M._vnode,null,null,!0):J(M._vnode||null,v,M,null,null,null,W),Bl(),Kc(),M._vnode=v},Be={p:J,um:Zt,m:Ve,r:He,mt:re,mc:Tt,pc:Gt,pbc:Pt,n:je,o:r};let on,X;return o&&([on,X]=o(Be)),{render:Jt,hydrate:on,createApp:Z0(Jt,on)}}function Zr({effect:r,update:o},l){r.allowRecurse=o.allowRecurse=l}function f1(r,o,l=!1){const f=r.children,d=o.children;if(Bt(f)&&Bt(d))for(let h=0;h<f.length;h++){const E=f[h];let A=d[h];A.shapeFlag&1&&!A.dynamicChildren&&((A.patchFlag<=0||A.patchFlag===32)&&(A=d[h]=Or(d[h]),A.el=E.el),l||f1(E,A)),A.type===So&&(A.el=E.el)}}function ih(r){const o=r.slice(),l=[0];let f,d,h,E,A;const y=r.length;for(f=0;f<y;f++){const m=r[f];if(m!==0){if(d=l[l.length-1],r[d]<m){o[f]=d,l.push(f);continue}for(h=0,E=l.length-1;h<E;)A=h+E>>1,r[l[A]]<m?h=A+1:E=A;m<r[l[h]]&&(h>0&&(o[f]=l[h-1]),l[h]=f)}}for(h=l.length,E=l[h-1];h-- >0;)l[h]=E,E=o[E];return l}const sh=r=>r.__isTeleport,wn=Symbol.for("v-fgt"),So=Symbol.for("v-txt"),ri=Symbol.for("v-cmt"),to=Symbol.for("v-stc"),fs=[];let Hn=null;function Rn(r=!1){fs.push(Hn=r?null:[])}function oh(){fs.pop(),Hn=fs[fs.length-1]||null}let ws=1;function jl(r){ws+=r}function h1(r){return r.dynamicChildren=ws>0?Hn||Ti:null,oh(),ws>0&&Hn&&Hn.push(r),r}function Un(r,o,l,f,d,h){return h1(ot(r,o,l,f,d,h,!0))}function ah(r,o,l,f,d){return h1(Mn(r,o,l,f,d,!0))}function lh(r){return r?r.__v_isVNode===!0:!1}function os(r,o){return r.type===o.type&&r.key===o.key}const No="__vInternal",d1=({key:r})=>r??null,eo=({ref:r,ref_key:o,ref_for:l})=>(typeof r=="number"&&(r=""+r),r!=null?Le(r)||qe(r)||Wt(r)?{i:Dn,r,k:o,f:!!l}:r:null);function ot(r,o=null,l=null,f=0,d=null,h=r===wn?0:1,E=!1,A=!1){const y={__v_isVNode:!0,__v_skip:!0,type:r,props:o,key:o&&d1(o),ref:o&&eo(o),scopeId:To,slotScopeIds:null,children:l,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:f,dynamicProps:d,dynamicChildren:null,appContext:null,ctx:Dn};return A?(Ja(y,l),h&128&&r.normalize(y)):l&&(y.shapeFlag|=Le(l)?8:16),ws>0&&!E&&Hn&&(y.patchFlag>0||h&6)&&y.patchFlag!==32&&Hn.push(y),y}const Mn=ch;function ch(r,o=null,l=null,f=0,d=null,h=!1){if((!r||r===V0)&&(r=ri),lh(r)){const A=vi(r,o,!0);return l&&Ja(A,l),ws>0&&!h&&Hn&&(A.shapeFlag&6?Hn[Hn.indexOf(r)]=A:Hn.push(A)),A.patchFlag|=-2,A}if(Ah(r)&&(r=r.__vccOpts),o){o=uh(o);let{class:A,style:y}=o;A&&!Le(A)&&(o.class=Ua(A)),we(y)&&(Hc(y)&&!Bt(y)&&(y=Ue({},y)),o.style=ka(y))}const E=Le(r)?1:y0(r)?128:sh(r)?64:we(r)?4:Wt(r)?2:0;return ot(r,o,l,f,d,E,h,!0)}function uh(r){return r?Hc(r)||No in r?Ue({},r):r:null}function vi(r,o,l=!1){const{props:f,ref:d,patchFlag:h,children:E}=r,A=o?hh(f||{},o):f;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:A,key:A&&d1(A),ref:o&&o.ref?l&&d?Bt(d)?d.concat(eo(o)):[d,eo(o)]:eo(o):d,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:E,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:o&&r.type!==wn?h===-1?16:h|16:h,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&vi(r.ssContent),ssFallback:r.ssFallback&&vi(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce}}function xr(r=" ",o=0){return Mn(So,null,r,o)}function fh(r,o){const l=Mn(to,null,r);return l.staticCount=o,l}function ga(r="",o=!1){return o?(Rn(),ah(ri,null,r)):Mn(ri,null,r)}function Jn(r){return r==null||typeof r=="boolean"?Mn(ri):Bt(r)?Mn(wn,null,r.slice()):typeof r=="object"?Or(r):Mn(So,null,String(r))}function Or(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:vi(r)}function Ja(r,o){let l=0;const{shapeFlag:f}=r;if(o==null)o=null;else if(Bt(o))l=16;else if(typeof o=="object")if(f&65){const d=o.default;d&&(d._c&&(d._d=!1),Ja(r,d()),d._c&&(d._d=!0));return}else{l=32;const d=o._;!d&&!(No in o)?o._ctx=Dn:d===3&&Dn&&(Dn.slots._===1?o._=1:(o._=2,r.patchFlag|=1024))}else Wt(o)?(o={default:o,_ctx:Dn},l=32):(o=String(o),f&64?(l=16,o=[xr(o)]):l=8);r.children=o,r.shapeFlag|=l}function hh(...r){const o={};for(let l=0;l<r.length;l++){const f=r[l];for(const d in f)if(d==="class")o.class!==f.class&&(o.class=Ua([o.class,f.class]));else if(d==="style")o.style=ka([o.style,f.style]);else if(mo(d)){const h=o[d],E=f[d];E&&h!==E&&!(Bt(h)&&h.includes(E))&&(o[d]=h?[].concat(h,E):E)}else d!==""&&(o[d]=f[d])}return o}function Qn(r,o,l,f=null){Gn(r,o,7,[l,f])}const dh=s1();let gh=0;function ph(r,o,l){const f=r.type,d=(o?o.appContext:r.appContext)||dh,h={uid:gh++,vnode:r,type:f,parent:o,appContext:d,root:null,next:null,subTree:null,effect:null,update:null,scope:new Nf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:o?o.provides:Object.create(d.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:a1(f,d),emitsOptions:$c(f,d),emit:null,emitted:null,propsDefaults:Ee,inheritAttrs:f.inheritAttrs,ctx:Ee,data:Ee,props:Ee,attrs:Ee,slots:Ee,refs:Ee,setupState:Ee,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:l,suspenseId:l?l.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=o?o.root:h,h.emit=x0.bind(null,h),r.ce&&r.ce(h),h}let Ye=null,tl,_i,zl="__VUE_INSTANCE_SETTERS__";(_i=ma()[zl])||(_i=ma()[zl]=[]),_i.push(r=>Ye=r),tl=r=>{_i.length>1?_i.forEach(o=>o(r)):_i[0](r)};const Ri=r=>{tl(r),r.scope.on()},ei=()=>{Ye&&Ye.scope.off(),tl(null)};function g1(r){return r.vnode.shapeFlag&4}let _s=!1;function xh(r,o=!1){_s=o;const{props:l,children:f}=r.vnode,d=g1(r);q0(r,l,d,o),th(r,f);const h=d?mh(r,o):void 0;return _s=!1,h}function mh(r,o){const l=r.type;r.accessCache=Object.create(null),r.proxy=Wc(new Proxy(r.ctx,W0));const{setup:f}=l;if(f){const d=r.setupContext=f.length>1?wh(r):null;Ri(r),ki();const h=Rr(f,r,0,[r.props,d]);if(Ui(),ei(),Tc(h)){if(h.then(ei,ei),o)return h.then(E=>{Kl(r,E,o)}).catch(E=>{bo(E,r,0)});r.asyncDep=h}else Kl(r,h,o)}else p1(r,o)}function Kl(r,o,l){Wt(o)?r.type.__ssrInlineRender?r.ssrRender=o:r.render=o:we(o)&&(r.setupState=Yc(o)),p1(r,l)}let Zl;function p1(r,o,l){const f=r.type;if(!r.render){if(!o&&Zl&&!f.render){const d=f.template||qa(r).template;if(d){const{isCustomElement:h,compilerOptions:E}=r.appContext.config,{delimiters:A,compilerOptions:y}=f,m=Ue(Ue({isCustomElement:h,delimiters:A},E),y);f.render=Zl(d,m)}}r.render=f.render||Wn}Ri(r),ki(),G0(r),Ui(),ei()}function Eh(r){return r.attrsProxy||(r.attrsProxy=new Proxy(r.attrs,{get(o,l){return hn(r,"get","$attrs"),o[l]}}))}function wh(r){const o=l=>{r.exposed=l||{}};return{get attrs(){return Eh(r)},slots:r.slots,emit:r.emit,expose:o}}function Oo(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(Yc(Wc(r.exposed)),{get(o,l){if(l in o)return o[l];if(l in us)return us[l](r)},has(o,l){return l in o||l in us}}))}function _h(r,o=!0){return Wt(r)?r.displayName||r.name:r.name||o&&r.__name}function Ah(r){return Wt(r)&&"__vccOpts"in r}const Ch=(r,o)=>c0(r,o,_s),bh=Symbol.for("v-scx"),yh=()=>Js(bh),Th="3.3.4",Ih="http://www.w3.org/2000/svg",qr=typeof document<"u"?document:null,$l=qr&&qr.createElement("template"),Sh={insert:(r,o,l)=>{o.insertBefore(r,l||null)},remove:r=>{const o=r.parentNode;o&&o.removeChild(r)},createElement:(r,o,l,f)=>{const d=o?qr.createElementNS(Ih,r):qr.createElement(r,l?{is:l}:void 0);return r==="select"&&f&&f.multiple!=null&&d.setAttribute("multiple",f.multiple),d},createText:r=>qr.createTextNode(r),createComment:r=>qr.createComment(r),setText:(r,o)=>{r.nodeValue=o},setElementText:(r,o)=>{r.textContent=o},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>qr.querySelector(r),setScopeId(r,o){r.setAttribute(o,"")},insertStaticContent(r,o,l,f,d,h){const E=l?l.previousSibling:o.lastChild;if(d&&(d===h||d.nextSibling))for(;o.insertBefore(d.cloneNode(!0),l),!(d===h||!(d=d.nextSibling)););else{$l.innerHTML=f?`<svg>${r}</svg>`:r;const A=$l.content;if(f){const y=A.firstChild;for(;y.firstChild;)A.appendChild(y.firstChild);A.removeChild(y)}o.insertBefore(A,l)}return[E?E.nextSibling:o.firstChild,l?l.previousSibling:o.lastChild]}};function Nh(r,o,l){const f=r._vtc;f&&(o=(o?[o,...f]:[...f]).join(" ")),o==null?r.removeAttribute("class"):l?r.setAttribute("class",o):r.className=o}function Oh(r,o,l){const f=r.style,d=Le(l);if(l&&!d){if(o&&!Le(o))for(const h in o)l[h]==null&&Na(f,h,"");for(const h in l)Na(f,h,l[h])}else{const h=f.display;d?o!==l&&(f.cssText=l):o&&r.removeAttribute("style"),"_vod"in r&&(f.display=h)}}const ql=/\s*!important$/;function Na(r,o,l){if(Bt(l))l.forEach(f=>Na(r,o,f));else if(l==null&&(l=""),o.startsWith("--"))r.setProperty(o,l);else{const f=vh(r,o);ql.test(l)?r.setProperty(Fi(f),l.replace(ql,""),"important"):r[f]=l}}const Ql=["Webkit","Moz","ms"],pa={};function vh(r,o){const l=pa[o];if(l)return l;let f=nr(o);if(f!=="filter"&&f in r)return pa[o]=f;f=_o(f);for(let d=0;d<Ql.length;d++){const h=Ql[d]+f;if(h in r)return pa[o]=h}return o}const Jl="http://www.w3.org/1999/xlink";function Rh(r,o,l,f,d){if(f&&o.startsWith("xlink:"))l==null?r.removeAttributeNS(Jl,o.slice(6,o.length)):r.setAttributeNS(Jl,o,l);else{const h=Tf(o);l==null||h&&!Nc(l)?r.removeAttribute(o):r.setAttribute(o,h?"":l)}}function Dh(r,o,l,f,d,h,E){if(o==="innerHTML"||o==="textContent"){f&&E(f,d,h),r[o]=l??"";return}const A=r.tagName;if(o==="value"&&A!=="PROGRESS"&&!A.includes("-")){r._value=l;const m=A==="OPTION"?r.getAttribute("value"):r.value,I=l??"";m!==I&&(r.value=I),l==null&&r.removeAttribute(o);return}let y=!1;if(l===""||l==null){const m=typeof r[o];m==="boolean"?l=Nc(l):l==null&&m==="string"?(l="",y=!0):m==="number"&&(l=0,y=!0)}try{r[o]=l}catch{}y&&r.removeAttribute(o)}function Qr(r,o,l,f){r.addEventListener(o,l,f)}function Mh(r,o,l,f){r.removeEventListener(o,l,f)}function Lh(r,o,l,f,d=null){const h=r._vei||(r._vei={}),E=h[o];if(f&&E)E.value=f;else{const[A,y]=Bh(o);if(f){const m=h[o]=kh(f,d);Qr(r,A,m,y)}else E&&(Mh(r,A,E,y),h[o]=void 0)}}const tc=/(?:Once|Passive|Capture)$/;function Bh(r){let o;if(tc.test(r)){o={};let f;for(;f=r.match(tc);)r=r.slice(0,r.length-f[0].length),o[f[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):Fi(r.slice(2)),o]}let xa=0;const Ph=Promise.resolve(),Fh=()=>xa||(Ph.then(()=>xa=0),xa=Date.now());function kh(r,o){const l=f=>{if(!f._vts)f._vts=Date.now();else if(f._vts<=l.attached)return;Gn(Uh(f,l.value),o,5,[f])};return l.value=r,l.attached=Fh(),l}function Uh(r,o){if(Bt(o)){const l=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{l.call(r),r._stopped=!0},o.map(f=>d=>!d._stopped&&f&&f(d))}else return o}const ec=/^on[a-z]/,Vh=(r,o,l,f,d=!1,h,E,A,y)=>{o==="class"?Nh(r,f,d):o==="style"?Oh(r,l,f):mo(o)?Ba(o)||Lh(r,o,l,f,E):(o[0]==="."?(o=o.slice(1),!0):o[0]==="^"?(o=o.slice(1),!1):Hh(r,o,f,d))?Dh(r,o,f,h,E,A,y):(o==="true-value"?r._trueValue=f:o==="false-value"&&(r._falseValue=f),Rh(r,o,f,d))};function Hh(r,o,l,f){return f?!!(o==="innerHTML"||o==="textContent"||o in r&&ec.test(o)&&Wt(l)):o==="spellcheck"||o==="draggable"||o==="translate"||o==="form"||o==="list"&&r.tagName==="INPUT"||o==="type"&&r.tagName==="TEXTAREA"||ec.test(o)&&Le(l)?!1:o in r}const uo=r=>{const o=r.props["onUpdate:modelValue"]||!1;return Bt(o)?l=>qs(o,l):o};function Wh(r){r.target.composing=!0}function nc(r){const o=r.target;o.composing&&(o.composing=!1,o.dispatchEvent(new Event("input")))}const rc={created(r,{modifiers:{lazy:o,trim:l,number:f}},d){r._assign=uo(d);const h=f||d.props&&d.props.type==="number";Qr(r,o?"change":"input",E=>{if(E.target.composing)return;let A=r.value;l&&(A=A.trim()),h&&(A=io(A)),r._assign(A)}),l&&Qr(r,"change",()=>{r.value=r.value.trim()}),o||(Qr(r,"compositionstart",Wh),Qr(r,"compositionend",nc),Qr(r,"change",nc))},mounted(r,{value:o}){r.value=o??""},beforeUpdate(r,{value:o,modifiers:{lazy:l,trim:f,number:d}},h){if(r._assign=uo(h),r.composing||document.activeElement===r&&r.type!=="range"&&(l||f&&r.value.trim()===o||(d||r.type==="number")&&io(r.value)===o))return;const E=o??"";r.value!==E&&(r.value=E)}},Gh={deep:!0,created(r,{value:o,modifiers:{number:l}},f){const d=Eo(o);Qr(r,"change",()=>{const h=Array.prototype.filter.call(r.options,E=>E.selected).map(E=>l?io(fo(E)):fo(E));r._assign(r.multiple?d?new Set(h):h:h[0])}),r._assign=uo(f)},mounted(r,{value:o}){ic(r,o)},beforeUpdate(r,o,l){r._assign=uo(l)},updated(r,{value:o}){ic(r,o)}};function ic(r,o){const l=r.multiple;if(!(l&&!Bt(o)&&!Eo(o))){for(let f=0,d=r.options.length;f<d;f++){const h=r.options[f],E=fo(h);if(l)Bt(o)?h.selected=Sf(o,E)>-1:h.selected=o.has(E);else if(Ao(fo(h),o)){r.selectedIndex!==f&&(r.selectedIndex=f);return}}!l&&r.selectedIndex!==-1&&(r.selectedIndex=-1)}}function fo(r){return"_value"in r?r._value:r.value}const Xh={beforeMount(r,{value:o},{transition:l}){r._vod=r.style.display==="none"?"":r.style.display,l&&o?l.beforeEnter(r):as(r,o)},mounted(r,{value:o},{transition:l}){l&&o&&l.enter(r)},updated(r,{value:o,oldValue:l},{transition:f}){!o!=!l&&(f?o?(f.beforeEnter(r),as(r,!0),f.enter(r)):f.leave(r,()=>{as(r,!1)}):as(r,o))},beforeUnmount(r,{value:o}){as(r,o)}};function as(r,o){r.style.display=o?r._vod:"none"}const Yh=Ue({patchProp:Vh},Sh);let sc;function jh(){return sc||(sc=nh(Yh))}const zh=(...r)=>{const o=jh().createApp(...r),{mount:l}=o;return o.mount=f=>{const d=Kh(f);if(!d)return;const h=o._component;!Wt(h)&&!h.render&&!h.template&&(h.template=d.innerHTML),d.innerHTML="";const E=l(d,!1,d instanceof SVGElement);return d instanceof Element&&(d.removeAttribute("v-cloak"),d.setAttribute("data-v-app","")),E},o};function Kh(r){return Le(r)?document.querySelector(r):r}const x1=[{gtin:"5060347339978",name:"可口可樂８罐裝",price:"38.00",img:"https://api.pns.hk/medias/zoom-front-114639.jpg?context=bWFzdGVyfHBuc2hrL2ltYWdlc3wxMTIwNTB8aW1hZ2UvanBlZ3xhREpoTDJoak9DODVOVGcyTURNME16YzJOek0wTDFCT1UwaExMVEV4TkRZek9TMW1jbTl1ZEM1cWNHY3xlYmJhNzEwMmY3ZjkxZGNhODQzZWM5MDljMDYxYzlhMzg5ODhmYzdlZmVkZTRiMDIzNzhkNTc1YjZmOWQ2ODg5",batchNumber:"ABC123",serialNumber:"BCD123",expiryDate:"2023-12-31"},{gtin:"6940079079757",name:"原味玉米片",price:"42.50",img:"https://api.pns.hk/medias/CLASSIC-CORN-FLAKES-115554.jpg?context=bWFzdGVyfHBuc2hrL2ltYWdlc3wxNTA0OTB8aW1hZ2UvanBlZ3xhR0kxTDJnek1DODVNekU0TlRRM05ESXpNall5TDBOTVFWTlRTVU1nUTA5U1RpQkdURUZMUlZNdE1URTFOVFUwTG1wd1p3fDgxMGY0YTRlNDYwMGI2MDI1ZGM4OTdlOWY2NzMyZDliMjkyMGI2Yzk1Y2VkMjA1MmI2MWEwZDg3YjU0ZjA0NzU",batchNumber:"XYZ456",serialNumber:"ZYX456",expiryDate:"2024-06-30"},{gtin:"6934660555126",name:"士多啤梨雪糕家庭裝",price:"49.00",img:"https://api.pns.hk/medias/STRAWBERRY-ICE-CREAM-134317.jpg?context=bWFzdGVyfHBuc2hrL2ltYWdlc3w5Njk3M3xpbWFnZS9qcGVnfGFETmpMMmd4TVM4NU16RTVNakl3TVRFM05UTTBMMU5VVWtGWFFrVlNVbGtnU1VORklFTlNSVUZOTFRFek5ETXhOeTVxY0djfDIzZWZjMzRjMWEzMjFlYmZiYjQxZGMxYjVlMjIzMGY5NGVkNWMwYzU0ZmI1NjQ1ZWM5OTk0ZThlMDE2MzU5NTg",batchNumber:"DEF789",serialNumber:"FED789",expiryDate:"2022-09-15"},{gtin:"4897024510976",name:"低糖檸檬茶250毫升(9包裝)",price:"25.00",img:"https://api.pns.hk/medias/-LOW-SUGAR-LEMON-TEA-250ML-9PACK-355420.jpg?context=bWFzdGVyfHBuc2hrL2ltYWdlc3wxMTY1MjJ8aW1hZ2UvanBlZ3xhRGN5TDJnME5pODVNekU1TXpBMU5UYzJORGM0THlCTVQxY2dVMVZIUVZJZ1RFVk5UMDRnVkVWQklESTFNRTFNSURsUVFVTkxMVE0xTlRReU1DNXFjR2N8NjVhZWFmYzVjZTNhNThiMDQ2ZmUxZjNlY2I5YmI3NmQwN2I4MDAxNzNlY2RhYzgwZWU3M2VhNWE4NmFiMWQ1Yg",batchNumber:"GHI012",serialNumber:"IHG012",expiryDate:"2023-08-01"},{gtin:"4891338023382",name:"卡樂B薯片BBQ味105克",price:"39.90",img:"https://api.pns.hk/medias/POTATO-CHIPS-BBQ-1260o70.jpg?context=bWFzdGVyfHBuc2hrL2ltYWdlc3wxMTQ3NDZ8aW1hZ2UvanBlZ3xhRFkwTDJoaU5TODVNekU0TlRFeE5UYzFNRGN3TDFCUFZFRlVUeUJEU0VsUVV5MUNRbEV0TVRJMk1EY3dMbXB3Wnd8MzgyMzc5NmYxY2EwMzE1OTAxYzdhZjhlZWIxMTk4NmIxOWUwNjRlMTVkOWM1OWEwNWJjNTllODYyNzZmMzU3YQ",batchNumber:"JKL345",serialNumber:"LKJ345",expiryDate:"2024-03-31"},{gtin:"2000001368350",name:"UHT 牛奶",price:"60.00",img:"https://api.pns.hk/medias/zoom-front-110103.jpg?context=bWFzdGVyfHBuc2hrL2ltYWdlc3wxNDI5NjB8aW1hZ2UvanBlZ3xhRFV3TDJnME55ODVPRFF3T0RZNE9EVXhOelF5TDFCT1UwaExMVEV4TURFd015MW1jbTl1ZEM1cWNHY3xhOGNhZTgwNWZlMzg4ZDkwZjY0YTA3YTc1OWRhMzJiNTk4YjRkYWMwZWU2NTM5NzkyY2UwNjk4MjNmOTU0MDYy",batchNumber:"MNO678",serialNumber:"ONM678",expiryDate:"2023-11-30"}],Zh="/vue-bootstrap/assets/scan-f6bfbd54.mp3",el=(r,o)=>{const l=r.__vccOpts||r;for(const[f,d]of o)l[f]=d;return l},$h={data(){return{selectedDeviceId:"",videoInputDevices:[],showSourceSelectPanel:!1,rawResult:"",productData:[]}},mounted(){this.initializeCodeReader(),this.fetchData()},methods:{fetchData(){this.productData=x1},playSound(){const r=new Audio(Zh);r.addEventListener("canplaythrough",()=>{r.play(),r.removeEventListener("canplaythrough",()=>{})})},decode(){new ZXing.BrowserMultiFormatReader().decodeFromVideoDevice(this.selectedDeviceId,this.$refs.video,(o,l)=>{if(o){console.log(o);let f=new RegExp(String.fromCharCode(29),"g");this.rawResult=o.text.replace(f,"<GS>"),this.playSound(),this.$emit("scanned",this.rawResult)}l&&!(l instanceof ZXing.NotFoundException)&&(console.error(l),this.rawResult=l)})},initializeCodeReader(){const r=new ZXing.BrowserMultiFormatReader;console.log("ZXing code reader initialized"),r.getVideoInputDevices().then(o=>{this.videoInputDevices=o,this.selectedDeviceId=o[0].deviceId,this.showSourceSelectPanel=o.length>=1,this.decode(),console.log(`Started continuous decode from camera with id ${this.selectedDeviceId}`)}).catch(o=>{console.error(o)})}}},qh={class:"wrapper"},Qh={class:"container",id:"demo-content"},Jh={class:"card",style:{width:"100%"}},td={ref:"video",style:{border:"1px solid gray"}},ed={class:"card-body"},nd={class:"card-title"},rd={id:"sourceSelectPanel"},id=ot("label",{for:"sourceSelect"},"Change Camera:",-1),sd=["value"],od=ot("label",{for:"result",style:{display:"none"}},"Result:",-1),ad={style:{display:"none"}},ld=ot("span",null,"Raw output:",-1),cd={id:"result"};function ud(r,o,l,f,d,h){return Rn(),Un("div",null,[ot("main",qh,[ot("section",Qh,[ot("div",Jh,[ot("video",td,null,512),ot("div",ed,[ot("div",nd,[ao(ot("div",rd,[id,ao(ot("select",{id:"sourceSelect",class:"form-select",style:{"max-width":"400px"},"onUpdate:modelValue":o[0]||(o[0]=E=>d.selectedDeviceId=E)},[(Rn(!0),Un(wn,null,r1(d.videoInputDevices,(E,A)=>(Rn(),Un("option",{key:A,value:E.deviceId},bi(E.label),9,sd))),128))],512),[[Gh,d.selectedDeviceId]])],512),[[Xh,d.showSourceSelectPanel]])]),od,ot("pre",ad,[xr("              "),ld,xr(`
              `),ot("code",cd,bi(d.rawResult),1),xr(`
            `)])])])])])])}const fd=el($h,[["render",ud]]);var Et;(function(r){r[r.QR_CODE=0]="QR_CODE",r[r.AZTEC=1]="AZTEC",r[r.CODABAR=2]="CODABAR",r[r.CODE_39=3]="CODE_39",r[r.CODE_93=4]="CODE_93",r[r.CODE_128=5]="CODE_128",r[r.DATA_MATRIX=6]="DATA_MATRIX",r[r.MAXICODE=7]="MAXICODE",r[r.ITF=8]="ITF",r[r.EAN_13=9]="EAN_13",r[r.EAN_8=10]="EAN_8",r[r.PDF_417=11]="PDF_417",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Et||(Et={}));var oc=new Map([[Et.QR_CODE,"QR_CODE"],[Et.AZTEC,"AZTEC"],[Et.CODABAR,"CODABAR"],[Et.CODE_39,"CODE_39"],[Et.CODE_93,"CODE_93"],[Et.CODE_128,"CODE_128"],[Et.DATA_MATRIX,"DATA_MATRIX"],[Et.MAXICODE,"MAXICODE"],[Et.ITF,"ITF"],[Et.EAN_13,"EAN_13"],[Et.EAN_8,"EAN_8"],[Et.PDF_417,"PDF_417"],[Et.RSS_14,"RSS_14"],[Et.RSS_EXPANDED,"RSS_EXPANDED"],[Et.UPC_A,"UPC_A"],[Et.UPC_E,"UPC_E"],[Et.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),ac;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.URL=1]="URL"})(ac||(ac={}));function hd(r){return Object.values(Et).includes(r)}var ho;(function(r){r[r.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",r[r.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ho||(ho={}));var dd=function(){function r(){}return r.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",r.SCAN_DEFAULT_FPS=2,r.DEFAULT_DISABLE_FLIP=!1,r.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,r.DEFAULT_SUPPORTED_SCAN_TYPE=[ho.SCAN_TYPE_CAMERA,ho.SCAN_TYPE_FILE],r}(),m1=function(){function r(o,l){this.format=o,this.formatName=l}return r.prototype.toString=function(){return this.formatName},r.create=function(o){if(!oc.has(o))throw"".concat(o," not in html5QrcodeSupportedFormatsTextMap");return new r(o,oc.get(o))},r}(),lc=function(){function r(){}return r.createFromText=function(o){var l={text:o};return{decodedText:o,result:l}},r.createFromQrcodeResult=function(o){return{decodedText:o.text,result:o}},r}(),Oa;(function(r){r[r.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",r[r.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",r[r.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Oa||(Oa={}));var gd=function(){function r(){}return r.createFrom=function(o){return{errorMessage:o,type:Oa.UNKWOWN_ERROR}},r}(),pd=function(){function r(o){this.verbose=o}return r.prototype.log=function(o){this.verbose&&console.log(o)},r.prototype.warn=function(o){this.verbose&&console.warn(o)},r.prototype.logError=function(o,l){(this.verbose||l===!0)&&console.error(o)},r.prototype.logErrors=function(o){if(o.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(o)},r}();function gr(r){return typeof r>"u"||r===null}var yi=function(){function r(){}return r.codeParseError=function(o){return"QR code parse error, error = ".concat(o)},r.errorGettingUserMedia=function(o){return"Error getting userMedia, error = ".concat(o)},r.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},r.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},r.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},r.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},r.scannerPaused=function(){return"Scanner paused"},r}(),E1=function(){function r(){}return r.isMediaStreamConstraintsValid=function(o,l){if(typeof o!="object"){var f=typeof o;return l.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(f,"."),!0),!1}for(var d=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],h=new Set(d),E=Object.keys(o),A=0,y=E;A<y.length;A++){var m=y[A];if(h.has(m))return l.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},r}(),Ai=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xd(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function md(r){if(r.__esModule)return r;var o=r.default;if(typeof o=="function"){var l=function f(){return this instanceof f?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};l.prototype=o.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(r).forEach(function(f){var d=Object.getOwnPropertyDescriptor(r,f);Object.defineProperty(l,f,d.get?d:{enumerable:!0,get:function(){return r[f]}})}),l}var va={exports:{}};(function(r,o){(function(l,f){f(o)})(Ai,function(l){function f(_){return _==null}var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,t){_.__proto__=t}||function(_,t){for(var e in t)t.hasOwnProperty(e)&&(_[e]=t[e])};function h(_,t){d(_,t);function e(){this.constructor=_}_.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function E(_,t){var e=Object.setPrototypeOf;e?e(_,t):_.__proto__=t}function A(_,t){t===void 0&&(t=_.constructor);var e=Error.captureStackTrace;e&&e(_,t)}var y=function(_){h(t,_);function t(e){var n=this.constructor,i=_.call(this,e)||this;return Object.defineProperty(i,"name",{value:n.name,enumerable:!1}),E(i,n.prototype),A(i),i}return t}(Error);class m extends y{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}m.kind="Exception";class I extends m{}I.kind="ArgumentException";class D extends m{}D.kind="IllegalArgumentException";class ${constructor(t){if(this.binarizer=t,t===null)throw new D("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,e){return this.binarizer.getBlackRow(t,e)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,e,n,i){const s=this.binarizer.getLuminanceSource().crop(t,e,n,i);return new $(this.binarizer.createBinarizer(s))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new $(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new $(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class z extends m{static getChecksumInstance(){return new z}}z.kind="ChecksumException";class At{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class J{static arraycopy(t,e,n,i,s){for(;s--;)n[i++]=t[e++]}static currentTimeMillis(){return Date.now()}}class dt extends m{}dt.kind="IndexOutOfBoundsException";class bt extends dt{constructor(t=void 0,e=void 0){super(e),this.index=t,this.message=e}}bt.kind="ArrayIndexOutOfBoundsException";class ht{static fill(t,e){for(let n=0,i=t.length;n<i;n++)t[n]=e}static fillWithin(t,e,n,i){ht.rangeCheck(t.length,e,n);for(let s=e;s<n;s++)t[s]=i}static rangeCheck(t,e,n){if(e>n)throw new D("fromIndex("+e+") > toIndex("+n+")");if(e<0)throw new bt(e);if(n>t)throw new bt(n)}static asList(...t){return t}static create(t,e,n){return Array.from({length:t}).map(s=>Array.from({length:e}).fill(n))}static createInt32Array(t,e,n){return Array.from({length:t}).map(s=>Int32Array.from({length:e}).fill(n))}static equals(t,e){if(!t||!e||!t.length||!e.length||t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}static hashCode(t){if(t===null)return 0;let e=1;for(const n of t)e=31*e+n;return e}static fillUint8Array(t,e){for(let n=0;n!==t.length;n++)t[n]=e}static copyOf(t,e){return t.slice(0,e)}static copyOfUint8Array(t,e){if(t.length<=e){const n=new Uint8Array(e);return n.set(t),n}return t.slice(0,e)}static copyOfRange(t,e,n){const i=n-e,s=new Int32Array(i);return J.arraycopy(t,e,s,0,i),s}static binarySearch(t,e,n){n===void 0&&(n=ht.numberComparator);let i=0,s=t.length-1;for(;i<=s;){const a=s+i>>1,c=n(e,t[a]);if(c>0)i=a+1;else if(c<0)s=a-1;else return a}return-i-1}static numberComparator(t,e){return t-e}}class at{static numberOfTrailingZeros(t){let e;if(t===0)return 32;let n=31;return e=t<<16,e!==0&&(n-=16,t=e),e=t<<8,e!==0&&(n-=8,t=e),e=t<<4,e!==0&&(n-=4,t=e),e=t<<2,e!==0&&(n-=2,t=e),n-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let e=1;return t>>>16||(e+=16,t<<=16),t>>>24||(e+=8,t<<=8),t>>>28||(e+=4,t<<=4),t>>>30||(e+=2,t<<=2),e-=t>>>31,e}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,e){return Math.trunc(t/e)}static parseInt(t,e=void 0){return parseInt(t,e)}}at.MIN_VALUE_32_BITS=-2147483648,at.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Q{constructor(t,e){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,e==null?this.bits=Q.makeArray(t):this.bits=e)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const e=Q.makeArray(t);J.arraycopy(this.bits,0,e,0,this.bits.length),this.bits=e}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const e=this.size;if(t>=e)return e;const n=this.bits;let i=Math.floor(t/32),s=n[i];s&=~((1<<(t&31))-1);const a=n.length;for(;s===0;){if(++i===a)return e;s=n[i]}const c=i*32+at.numberOfTrailingZeros(s);return c>e?e:c}getNextUnset(t){const e=this.size;if(t>=e)return e;const n=this.bits;let i=Math.floor(t/32),s=~n[i];s&=~((1<<(t&31))-1);const a=n.length;for(;s===0;){if(++i===a)return e;s=~n[i]}const c=i*32+at.numberOfTrailingZeros(s);return c>e?e:c}setBulk(t,e){this.bits[Math.floor(t/32)]=e}setRange(t,e){if(e<t||t<0||e>this.size)throw new D;if(e===t)return;e--;const n=Math.floor(t/32),i=Math.floor(e/32),s=this.bits;for(let a=n;a<=i;a++){const c=a>n?0:t&31,g=(2<<(a<i?31:e&31))-(1<<c);s[a]|=g}}clear(){const t=this.bits.length,e=this.bits;for(let n=0;n<t;n++)e[n]=0}isRange(t,e,n){if(e<t||t<0||e>this.size)throw new D;if(e===t)return!0;e--;const i=Math.floor(t/32),s=Math.floor(e/32),a=this.bits;for(let c=i;c<=s;c++){const u=c>i?0:t&31,x=(2<<(c<s?31:e&31))-(1<<u)&4294967295;if((a[c]&x)!==(n?x:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,e){if(e<0||e>32)throw new D("Num bits must be between 0 and 32");this.ensureCapacity(this.size+e);for(let n=e;n>0;n--)this.appendBit((t>>n-1&1)===1)}appendBitArray(t){const e=t.size;this.ensureCapacity(this.size+e);for(let n=0;n<e;n++)this.appendBit(t.get(n))}xor(t){if(this.size!==t.size)throw new D("Sizes don't match");const e=this.bits;for(let n=0,i=e.length;n<i;n++)e[n]^=t.bits[n]}toBytes(t,e,n,i){for(let s=0;s<i;s++){let a=0;for(let c=0;c<8;c++)this.get(t)&&(a|=1<<7-c),t++;e[n+s]=a}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),e=Math.floor((this.size-1)/32),n=e+1,i=this.bits;for(let s=0;s<n;s++){let a=i[s];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,t[e-s]=a}if(this.size!==n*32){const s=n*32-this.size;let a=t[0]>>>s;for(let c=1;c<n;c++){const u=t[c];a|=u<<32-s,t[c-1]=a,a=u>>>s}t[n-1]=a}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof Q))return!1;const e=t;return this.size===e.size&&ht.equals(this.bits,e.bits)}hashCode(){return 31*this.size+ht.hashCode(this.bits)}toString(){let t="";for(let e=0,n=this.size;e<n;e++)e&7||(t+=" "),t+=this.get(e)?"X":".";return t}clone(){return new Q(this.size,this.bits.slice())}}var Rt;(function(_){_[_.OTHER=0]="OTHER",_[_.PURE_BARCODE=1]="PURE_BARCODE",_[_.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",_[_.TRY_HARDER=3]="TRY_HARDER",_[_.CHARACTER_SET=4]="CHARACTER_SET",_[_.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",_[_.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",_[_.ASSUME_GS1=7]="ASSUME_GS1",_[_.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",_[_.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",_[_.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Rt||(Rt={}));var wt=Rt;class q extends m{static getFormatInstance(){return new q}}q.kind="FormatException";var Tt;(function(_){_[_.Cp437=0]="Cp437",_[_.ISO8859_1=1]="ISO8859_1",_[_.ISO8859_2=2]="ISO8859_2",_[_.ISO8859_3=3]="ISO8859_3",_[_.ISO8859_4=4]="ISO8859_4",_[_.ISO8859_5=5]="ISO8859_5",_[_.ISO8859_6=6]="ISO8859_6",_[_.ISO8859_7=7]="ISO8859_7",_[_.ISO8859_8=8]="ISO8859_8",_[_.ISO8859_9=9]="ISO8859_9",_[_.ISO8859_10=10]="ISO8859_10",_[_.ISO8859_11=11]="ISO8859_11",_[_.ISO8859_13=12]="ISO8859_13",_[_.ISO8859_14=13]="ISO8859_14",_[_.ISO8859_15=14]="ISO8859_15",_[_.ISO8859_16=15]="ISO8859_16",_[_.SJIS=16]="SJIS",_[_.Cp1250=17]="Cp1250",_[_.Cp1251=18]="Cp1251",_[_.Cp1252=19]="Cp1252",_[_.Cp1256=20]="Cp1256",_[_.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",_[_.UTF8=22]="UTF8",_[_.ASCII=23]="ASCII",_[_.Big5=24]="Big5",_[_.GB18030=25]="GB18030",_[_.EUC_KR=26]="EUC_KR"})(Tt||(Tt={}));class j{constructor(t,e,n,...i){this.valueIdentifier=t,this.name=n,typeof e=="number"?this.values=Int32Array.from([e]):this.values=e,this.otherEncodingNames=i,j.VALUE_IDENTIFIER_TO_ECI.set(t,this),j.NAME_TO_ECI.set(n,this);const s=this.values;for(let a=0,c=s.length;a!==c;a++){const u=s[a];j.VALUES_TO_ECI.set(u,this)}for(const a of i)j.NAME_TO_ECI.set(a,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new q("incorect value");const e=j.VALUES_TO_ECI.get(t);if(e===void 0)throw new q("incorect value");return e}static getCharacterSetECIByName(t){const e=j.NAME_TO_ECI.get(t);if(e===void 0)throw new q("incorect value");return e}equals(t){if(!(t instanceof j))return!1;const e=t;return this.getName()===e.getName()}}j.VALUE_IDENTIFIER_TO_ECI=new Map,j.VALUES_TO_ECI=new Map,j.NAME_TO_ECI=new Map,j.Cp437=new j(Tt.Cp437,Int32Array.from([0,2]),"Cp437"),j.ISO8859_1=new j(Tt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),j.ISO8859_2=new j(Tt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),j.ISO8859_3=new j(Tt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),j.ISO8859_4=new j(Tt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),j.ISO8859_5=new j(Tt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),j.ISO8859_6=new j(Tt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),j.ISO8859_7=new j(Tt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),j.ISO8859_8=new j(Tt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),j.ISO8859_9=new j(Tt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),j.ISO8859_10=new j(Tt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),j.ISO8859_11=new j(Tt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),j.ISO8859_13=new j(Tt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),j.ISO8859_14=new j(Tt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),j.ISO8859_15=new j(Tt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),j.ISO8859_16=new j(Tt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),j.SJIS=new j(Tt.SJIS,20,"SJIS","Shift_JIS"),j.Cp1250=new j(Tt.Cp1250,21,"Cp1250","windows-1250"),j.Cp1251=new j(Tt.Cp1251,22,"Cp1251","windows-1251"),j.Cp1252=new j(Tt.Cp1252,23,"Cp1252","windows-1252"),j.Cp1256=new j(Tt.Cp1256,24,"Cp1256","windows-1256"),j.UnicodeBigUnmarked=new j(Tt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),j.UTF8=new j(Tt.UTF8,26,"UTF8","UTF-8"),j.ASCII=new j(Tt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),j.Big5=new j(Tt.Big5,28,"Big5"),j.GB18030=new j(Tt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),j.EUC_KR=new j(Tt.EUC_KR,30,"EUC_KR","EUC-KR");class Pt extends m{}Pt.kind="UnsupportedOperationException";class Dt{static decode(t,e){const n=this.encodingName(e);return this.customDecoder?this.customDecoder(t,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(t,n):new TextDecoder(n).decode(t)}static shouldDecodeOnFallback(t){return!Dt.isBrowser()&&t==="ISO-8859-1"}static encode(t,e){const n=this.encodingName(e);return this.customEncoder?this.customEncoder(t,n):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof j?t:j.getCharacterSetECIByName(t)}static decodeFallback(t,e){const n=this.encodingCharacterSet(e);if(Dt.isDecodeFallbackSupported(n)){let i="";for(let s=0,a=t.length;s<a;s++){let c=t[s].toString(16);c.length<2&&(c="0"+c),i+="%"+c}return decodeURIComponent(i)}if(n.equals(j.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Pt(`Encoding ${this.encodingName(e)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(j.UTF8)||t.equals(j.ISO8859_1)||t.equals(j.ASCII)}static encodeFallback(t){const n=btoa(unescape(encodeURIComponent(t))).split(""),i=[];for(let s=0;s<n.length;s++)i.push(n[s].charCodeAt(0));return new Uint8Array(i)}}class _t{static castAsNonUtf8Char(t,e=null){const n=e?e.getName():this.ISO88591;return Dt.decode(new Uint8Array([t]),n)}static guessEncoding(t,e){if(e!=null&&e.get(wt.CHARACTER_SET)!==void 0)return e.get(wt.CHARACTER_SET).toString();const n=t.length;let i=!0,s=!0,a=!0,c=0,u=0,g=0,x=0,w=0,b=0,S=0,R=0,L=0,P=0,V=0;const it=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let st=0;st<n&&(i||s||a);st++){const rt=t[st]&255;a&&(c>0?rt&128?c--:a=!1:rt&128&&(rt&64?(c++,rt&32?(c++,rt&16?(c++,rt&8?a=!1:x++):g++):u++):a=!1)),i&&(rt>127&&rt<160?i=!1:rt>159&&(rt<192||rt===215||rt===247)&&V++),s&&(w>0?rt<64||rt===127||rt>252?s=!1:w--:rt===128||rt===160||rt>239?s=!1:rt>160&&rt<224?(b++,R=0,S++,S>L&&(L=S)):rt>127?(w++,S=0,R++,R>P&&(P=R)):(S=0,R=0))}return a&&c>0&&(a=!1),s&&w>0&&(s=!1),a&&(it||u+g+x>0)?_t.UTF8:s&&(_t.ASSUME_SHIFT_JIS||L>=3||P>=3)?_t.SHIFT_JIS:i&&s?L===2&&b===2||V*10>=n?_t.SHIFT_JIS:_t.ISO88591:i?_t.ISO88591:s?_t.SHIFT_JIS:a?_t.UTF8:_t.PLATFORM_DEFAULT_ENCODING}static format(t,...e){let n=-1;function i(a,c,u,g,x,w){if(a==="%%")return"%";if(e[++n]===void 0)return;a=g?parseInt(g.substr(1)):void 0;let b=x?parseInt(x.substr(1)):void 0,S;switch(w){case"s":S=e[n];break;case"c":S=e[n][0];break;case"f":S=parseFloat(e[n]).toFixed(a);break;case"p":S=parseFloat(e[n]).toPrecision(a);break;case"e":S=parseFloat(e[n]).toExponential(a);break;case"x":S=parseInt(e[n]).toString(b||16);break;case"d":S=parseFloat(parseInt(e[n],b||10).toPrecision(a)).toFixed(0);break}S=typeof S=="object"?JSON.stringify(S):(+S).toString(b);let R=parseInt(u),L=u&&u[0]+""=="0"?"0":" ";for(;S.length<R;)S=c!==void 0?S+L:L+S;return S}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,i)}static getBytes(t,e){return Dt.encode(t,e)}static getCharCode(t,e=0){return t.charCodeAt(e)}static getCharAt(t){return String.fromCharCode(t)}}_t.SHIFT_JIS=j.SJIS.getName(),_t.GB2312="GB2312",_t.ISO88591=j.ISO8859_1.getName(),_t.EUC_JP="EUC_JP",_t.UTF8=j.UTF8.getName(),_t.PLATFORM_DEFAULT_ENCODING=_t.UTF8,_t.ASSUME_SHIFT_JIS=!1;class St{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=_t.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,e,n){for(let i=e;e<e+n;i++)this.append(t[i]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,e){this.value=this.value.substr(0,t)+e+this.value.substr(t+1)}substring(t,e){return this.value.substring(t,e)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,e){this.value=this.value.substr(0,t)+e+this.value.substr(t+e.length)}}class re{constructor(t,e,n,i){if(this.width=t,this.height=e,this.rowSize=n,this.bits=i,e==null&&(e=t),this.height=e,t<1||e<1)throw new D("Both dimensions must be greater than 0");n==null&&(n=Math.floor((t+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const e=t.length,n=t[0].length,i=new re(n,e);for(let s=0;s<e;s++){const a=t[s];for(let c=0;c<n;c++)a[c]&&i.set(c,s)}return i}static parseFromString(t,e,n){if(t===null)throw new D("stringRepresentation cannot be null");const i=new Array(t.length);let s=0,a=0,c=-1,u=0,g=0;for(;g<t.length;)if(t.charAt(g)===`
`||t.charAt(g)==="\r"){if(s>a){if(c===-1)c=s-a;else if(s-a!==c)throw new D("row lengths do not match");a=s,u++}g++}else if(t.substring(g,g+e.length)===e)g+=e.length,i[s]=!0,s++;else if(t.substring(g,g+n.length)===n)g+=n.length,i[s]=!1,s++;else throw new D("illegal character encountered: "+t.substring(g));if(s>a){if(c===-1)c=s-a;else if(s-a!==c)throw new D("row lengths do not match");u++}const x=new re(c,u);for(let w=0;w<s;w++)i[w]&&x.set(Math.floor(w%c),Math.floor(w/c));return x}get(t,e){const n=e*this.rowSize+Math.floor(t/32);return(this.bits[n]>>>(t&31)&1)!==0}set(t,e){const n=e*this.rowSize+Math.floor(t/32);this.bits[n]|=1<<(t&31)&4294967295}unset(t,e){const n=e*this.rowSize+Math.floor(t/32);this.bits[n]&=~(1<<(t&31)&4294967295)}flip(t,e){const n=e*this.rowSize+Math.floor(t/32);this.bits[n]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new D("input matrix dimensions do not match");const e=new Q(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits;for(let s=0,a=this.height;s<a;s++){const c=s*n,u=t.getRow(s,e).getBitArray();for(let g=0;g<n;g++)i[c+g]^=u[g]}}clear(){const t=this.bits,e=t.length;for(let n=0;n<e;n++)t[n]=0}setRegion(t,e,n,i){if(e<0||t<0)throw new D("Left and top must be nonnegative");if(i<1||n<1)throw new D("Height and width must be at least 1");const s=t+n,a=e+i;if(a>this.height||s>this.width)throw new D("The region must fit inside the matrix");const c=this.rowSize,u=this.bits;for(let g=e;g<a;g++){const x=g*c;for(let w=t;w<s;w++)u[x+Math.floor(w/32)]|=1<<(w&31)&4294967295}}getRow(t,e){e==null||e.getSize()<this.width?e=new Q(this.width):e.clear();const n=this.rowSize,i=this.bits,s=t*n;for(let a=0;a<n;a++)e.setBulk(a*32,i[s+a]);return e}setRow(t,e){J.arraycopy(e.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),e=this.getHeight();let n=new Q(t),i=new Q(t);for(let s=0,a=Math.floor((e+1)/2);s<a;s++)n=this.getRow(s,n),i=this.getRow(e-1-s,i),n.reverse(),i.reverse(),this.setRow(s,i),this.setRow(e-1-s,n)}getEnclosingRectangle(){const t=this.width,e=this.height,n=this.rowSize,i=this.bits;let s=t,a=e,c=-1,u=-1;for(let g=0;g<e;g++)for(let x=0;x<n;x++){const w=i[g*n+x];if(w!==0){if(g<a&&(a=g),g>u&&(u=g),x*32<s){let b=0;for(;!(w<<31-b&4294967295);)b++;x*32+b<s&&(s=x*32+b)}if(x*32+31>c){let b=31;for(;!(w>>>b);)b--;x*32+b>c&&(c=x*32+b)}}}return c<s||u<a?null:Int32Array.from([s,a,c-s+1,u-a+1])}getTopLeftOnBit(){const t=this.rowSize,e=this.bits;let n=0;for(;n<e.length&&e[n]===0;)n++;if(n===e.length)return null;const i=n/t;let s=n%t*32;const a=e[n];let c=0;for(;!(a<<31-c&4294967295);)c++;return s+=c,Int32Array.from([s,i])}getBottomRightOnBit(){const t=this.rowSize,e=this.bits;let n=e.length-1;for(;n>=0&&e[n]===0;)n--;if(n<0)return null;const i=Math.floor(n/t);let s=Math.floor(n%t)*32;const a=e[n];let c=31;for(;!(a>>>c);)c--;return s+=c,Int32Array.from([s,i])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof re))return!1;const e=t;return this.width===e.width&&this.height===e.height&&this.rowSize===e.rowSize&&ht.equals(this.bits,e.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+ht.hashCode(this.bits),t}toString(t="X ",e="  ",n=`
`){return this.buildToString(t,e,n)}buildToString(t,e,n){let i=new St;for(let s=0,a=this.height;s<a;s++){for(let c=0,u=this.width;c<u;c++)i.append(this.get(c,s)?t:e);i.append(n)}return i.toString()}clone(){return new re(this.width,this.height,this.rowSize,this.bits.slice())}}class H extends m{static getNotFoundInstance(){return new H}}H.kind="NotFoundException";class Mt extends At{constructor(t){super(t),this.luminances=Mt.EMPTY,this.buckets=new Int32Array(Mt.LUMINANCE_BUCKETS)}getBlackRow(t,e){const n=this.getLuminanceSource(),i=n.getWidth();e==null||e.getSize()<i?e=new Q(i):e.clear(),this.initArrays(i);const s=n.getRow(t,this.luminances),a=this.buckets;for(let u=0;u<i;u++)a[(s[u]&255)>>Mt.LUMINANCE_SHIFT]++;const c=Mt.estimateBlackPoint(a);if(i<3)for(let u=0;u<i;u++)(s[u]&255)<c&&e.set(u);else{let u=s[0]&255,g=s[1]&255;for(let x=1;x<i-1;x++){const w=s[x+1]&255;(g*4-u-w)/2<c&&e.set(x),u=g,g=w}}return e}getBlackMatrix(){const t=this.getLuminanceSource(),e=t.getWidth(),n=t.getHeight(),i=new re(e,n);this.initArrays(e);const s=this.buckets;for(let u=1;u<5;u++){const g=Math.floor(n*u/5),x=t.getRow(g,this.luminances),w=Math.floor(e*4/5);for(let b=Math.floor(e/5);b<w;b++){const S=x[b]&255;s[S>>Mt.LUMINANCE_SHIFT]++}}const a=Mt.estimateBlackPoint(s),c=t.getMatrix();for(let u=0;u<n;u++){const g=u*e;for(let x=0;x<e;x++)(c[g+x]&255)<a&&i.set(x,u)}return i}createBinarizer(t){return new Mt(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const e=this.buckets;for(let n=0;n<Mt.LUMINANCE_BUCKETS;n++)e[n]=0}static estimateBlackPoint(t){const e=t.length;let n=0,i=0,s=0;for(let x=0;x<e;x++)t[x]>s&&(i=x,s=t[x]),t[x]>n&&(n=t[x]);let a=0,c=0;for(let x=0;x<e;x++){const w=x-i,b=t[x]*w*w;b>c&&(a=x,c=b)}if(i>a){const x=i;i=a,a=x}if(a-i<=e/16)throw new H;let u=a-1,g=-1;for(let x=a-1;x>i;x--){const w=x-i,b=w*w*(a-x)*(n-t[x]);b>g&&(u=x,g=b)}return u<<Mt.LUMINANCE_SHIFT}}Mt.LUMINANCE_BITS=5,Mt.LUMINANCE_SHIFT=8-Mt.LUMINANCE_BITS,Mt.LUMINANCE_BUCKETS=1<<Mt.LUMINANCE_BITS,Mt.EMPTY=Uint8ClampedArray.from([0]);class ft extends Mt{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),e=t.getWidth(),n=t.getHeight();if(e>=ft.MINIMUM_DIMENSION&&n>=ft.MINIMUM_DIMENSION){const i=t.getMatrix();let s=e>>ft.BLOCK_SIZE_POWER;e&ft.BLOCK_SIZE_MASK&&s++;let a=n>>ft.BLOCK_SIZE_POWER;n&ft.BLOCK_SIZE_MASK&&a++;const c=ft.calculateBlackPoints(i,s,a,e,n),u=new re(e,n);ft.calculateThresholdForBlock(i,s,a,e,n,c,u),this.matrix=u}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new ft(t)}static calculateThresholdForBlock(t,e,n,i,s,a,c){const u=s-ft.BLOCK_SIZE,g=i-ft.BLOCK_SIZE;for(let x=0;x<n;x++){let w=x<<ft.BLOCK_SIZE_POWER;w>u&&(w=u);const b=ft.cap(x,2,n-3);for(let S=0;S<e;S++){let R=S<<ft.BLOCK_SIZE_POWER;R>g&&(R=g);const L=ft.cap(S,2,e-3);let P=0;for(let it=-2;it<=2;it++){const st=a[b+it];P+=st[L-2]+st[L-1]+st[L]+st[L+1]+st[L+2]}const V=P/25;ft.thresholdBlock(t,R,w,V,i,c)}}}static cap(t,e,n){return t<e?e:t>n?n:t}static thresholdBlock(t,e,n,i,s,a){for(let c=0,u=n*s+e;c<ft.BLOCK_SIZE;c++,u+=s)for(let g=0;g<ft.BLOCK_SIZE;g++)(t[u+g]&255)<=i&&a.set(e+g,n+c)}static calculateBlackPoints(t,e,n,i,s){const a=s-ft.BLOCK_SIZE,c=i-ft.BLOCK_SIZE,u=new Array(n);for(let g=0;g<n;g++){u[g]=new Int32Array(e);let x=g<<ft.BLOCK_SIZE_POWER;x>a&&(x=a);for(let w=0;w<e;w++){let b=w<<ft.BLOCK_SIZE_POWER;b>c&&(b=c);let S=0,R=255,L=0;for(let V=0,it=x*i+b;V<ft.BLOCK_SIZE;V++,it+=i){for(let st=0;st<ft.BLOCK_SIZE;st++){const rt=t[it+st]&255;S+=rt,rt<R&&(R=rt),rt>L&&(L=rt)}if(L-R>ft.MIN_DYNAMIC_RANGE)for(V++,it+=i;V<ft.BLOCK_SIZE;V++,it+=i)for(let st=0;st<ft.BLOCK_SIZE;st++)S+=t[it+st]&255}let P=S>>ft.BLOCK_SIZE_POWER*2;if(L-R<=ft.MIN_DYNAMIC_RANGE&&(P=R/2,g>0&&w>0)){const V=(u[g-1][w]+2*u[g][w-1]+u[g-1][w-1])/4;R<V&&(P=V)}u[g][w]=P}}return u}}ft.BLOCK_SIZE_POWER=3,ft.BLOCK_SIZE=1<<ft.BLOCK_SIZE_POWER,ft.BLOCK_SIZE_MASK=ft.BLOCK_SIZE-1,ft.MINIMUM_DIMENSION=ft.BLOCK_SIZE*5,ft.MIN_DYNAMIC_RANGE=24;class Gt{constructor(t,e){this.width=t,this.height=e}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,e,n,i){throw new Pt("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Pt("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Pt("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let e=new St;for(let n=0;n<this.height;n++){const i=this.getRow(n,t);for(let s=0;s<this.width;s++){const a=i[s]&255;let c;a<64?c="#":a<128?c="+":a<192?c=".":c=" ",e.append(c)}e.append(`
`)}return e.toString()}}class he extends Gt{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,e){const n=this.delegate.getRow(t,e),i=this.getWidth();for(let s=0;s<i;s++)n[s]=255-(n[s]&255);return n}getMatrix(){const t=this.delegate.getMatrix(),e=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(e);for(let i=0;i<e;i++)n[i]=255-(t[i]&255);return n}isCropSupported(){return this.delegate.isCropSupported()}crop(t,e,n,i){return new he(this.delegate.crop(t,e,n,i))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new he(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new he(this.delegate.rotateCounterClockwise45())}}class Ne extends Gt{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=Ne.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const e=t.getContext("2d").getImageData(0,0,t.width,t.height);return Ne.toGrayscaleBuffer(e.data,t.width,t.height)}static toGrayscaleBuffer(t,e,n){const i=new Uint8ClampedArray(e*n);for(let s=0,a=0,c=t.length;s<c;s+=4,a++){let u;if(t[s+3]===0)u=255;else{const x=t[s],w=t[s+1],b=t[s+2];u=306*x+601*w+117*b+512>>10}i[a]=u}return i}getRow(t,e){if(t<0||t>=this.getHeight())throw new D("Requested row is outside the image: "+t);const n=this.getWidth(),i=t*n;return e===null?e=this.buffer.slice(i,i+n):(e.length<n&&(e=new Uint8ClampedArray(n)),e.set(this.buffer.slice(i,i+n))),e}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,e,n,i){return super.crop(t,e,n,i),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const e=this.getTempCanvasElement(),n=e.getContext("2d"),i=t*Ne.DEGREE_TO_RADIANS,s=this.canvas.width,a=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(i))*s+Math.abs(Math.sin(i))*a),u=Math.ceil(Math.abs(Math.sin(i))*s+Math.abs(Math.cos(i))*a);return e.width=c,e.height=u,n.translate(c/2,u/2),n.rotate(i),n.drawImage(this.canvas,s/-2,a/-2),this.buffer=Ne.makeBufferFromCanvasImageData(e),this}invert(){return new he(this)}}Ne.DEGREE_TO_RADIANS=Math.PI/180;class Ve{constructor(t,e,n){this.deviceId=t,this.label=e,this.kind="videoinput",this.groupId=n||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Zt=(globalThis||Ai||self||window||void 0)&&(globalThis||Ai||self||window||void 0).__awaiter||function(_,t,e,n){function i(s){return s instanceof e?s:new e(function(a){a(s)})}return new(e||(e=Promise))(function(s,a){function c(x){try{g(n.next(x))}catch(w){a(w)}}function u(x){try{g(n.throw(x))}catch(w){a(w)}}function g(x){x.done?s(x.value):i(x.value).then(c,u)}g((n=n.apply(_,t||[])).next())})};class He{constructor(t,e=500,n){this.reader=t,this.timeBetweenScansMillis=e,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return Zt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),e=[];for(const n of t){const i=n.kind==="video"?"videoinput":n.kind;if(i!=="videoinput")continue;const s=n.deviceId||n.id,a=n.label||`Video device ${e.length+1}`,c=n.groupId,u={deviceId:s,label:a,kind:i,groupId:c};e.push(u)}return e})}getVideoInputDevices(){return Zt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(e=>new Ve(e.deviceId,e.label))})}findDeviceById(t){return Zt(this,void 0,void 0,function*(){const e=yield this.listVideoInputDevices();return e?e.find(n=>n.deviceId===t):null})}decodeFromInputVideoDevice(t,e){return Zt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,e)})}decodeOnceFromVideoDevice(t,e){return Zt(this,void 0,void 0,function*(){this.reset();let n;t?n={deviceId:{exact:t}}:n={facingMode:"environment"};const i={video:n};return yield this.decodeOnceFromConstraints(i,e)})}decodeOnceFromConstraints(t,e){return Zt(this,void 0,void 0,function*(){const n=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(n,e)})}decodeOnceFromStream(t,e){return Zt(this,void 0,void 0,function*(){this.reset();const n=yield this.attachStreamToVideo(t,e);return yield this.decodeOnce(n)})}decodeFromInputVideoDeviceContinuously(t,e,n){return Zt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,e,n)})}decodeFromVideoDevice(t,e,n){return Zt(this,void 0,void 0,function*(){let i;t?i={deviceId:{exact:t}}:i={facingMode:"environment"};const s={video:i};return yield this.decodeFromConstraints(s,e,n)})}decodeFromConstraints(t,e,n){return Zt(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(i,e,n)})}decodeFromStream(t,e,n){return Zt(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(t,e);return yield this.decodeContinuously(i,n)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,e){return Zt(this,void 0,void 0,function*(){const n=this.prepareVideoElement(e);return this.addVideoSource(n,t),this.videoElement=n,this.stream=t,yield this.playVideoOnLoadAsync(n),n})}playVideoOnLoadAsync(t){return new Promise((e,n)=>this.playVideoOnLoad(t,()=>e()))}playVideoOnLoad(t,e){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",e),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return Zt(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,e){const n=document.getElementById(t);if(!n)throw new I(`element with id '${t}' not found`);if(n.nodeName.toLowerCase()!==e.toLowerCase())throw new I(`element with id '${t}' must be an ${e} element`);return n}decodeFromImage(t,e){if(!t&&!e)throw new I("either imageElement with a src set or an url must be provided");return e&&!t?this.decodeFromImageUrl(e):this.decodeFromImageElement(t)}decodeFromVideo(t,e){if(!t&&!e)throw new I("Either an element with a src set or an URL must be provided");return e&&!t?this.decodeFromVideoUrl(e):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,e,n){if(t===void 0&&e===void 0)throw new I("Either an element with a src set or an URL must be provided");return e&&!t?this.decodeFromVideoUrlContinuously(e,n):this.decodeFromVideoElementContinuously(t,n)}decodeFromImageElement(t){if(!t)throw new I("An image element must be provided.");this.reset();const e=this.prepareImageElement(t);this.imageElement=e;let n;return this.isImageLoaded(e)?n=this.decodeOnce(e,!1,!0):n=this._decodeOnLoadImage(e),n}decodeFromVideoElement(t){const e=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(e)}decodeFromVideoElementContinuously(t,e){const n=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(n,e)}_decodeFromVideoElementSetup(t){if(!t)throw new I("A video element must be provided.");this.reset();const e=this.prepareVideoElement(t);return this.videoElement=e,e}decodeFromImageUrl(t){if(!t)throw new I("An URL must be provided.");this.reset();const e=this.prepareImageElement();this.imageElement=e;const n=this._decodeOnLoadImage(e);return e.src=t,n}decodeFromVideoUrl(t){if(!t)throw new I("An URL must be provided.");this.reset();const e=this.prepareVideoElement(),n=this.decodeFromVideoElement(e);return e.src=t,n}decodeFromVideoUrlContinuously(t,e){if(!t)throw new I("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,e);return n.src=t,i}_decodeOnLoadImage(t){return new Promise((e,n)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(e,n),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return Zt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,e){return Zt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,e)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let e;return typeof t>"u"&&(e=document.createElement("img"),e.width=200,e.height=200),typeof t=="string"&&(e=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(e=t),e}prepareVideoElement(t){let e;return!t&&typeof document<"u"&&(e=document.createElement("video"),e.width=200,e.height=200),typeof t=="string"&&(e=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(e=t),e.setAttribute("autoplay","true"),e.setAttribute("muted","true"),e.setAttribute("playsinline","true"),e}decodeOnce(t,e=!0,n=!0){this._stopAsyncDecode=!1;const i=(s,a)=>{if(this._stopAsyncDecode){a(new H("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const c=this.decode(t);s(c)}catch(c){const u=e&&c instanceof H,x=(c instanceof z||c instanceof q)&&n;if(u||x)return setTimeout(i,this._timeBetweenDecodingAttempts,s,a);a(c)}};return new Promise((s,a)=>i(s,a))}decodeContinuously(t,e){this._stopContinuousDecode=!1;const n=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const i=this.decode(t);e(i,null),setTimeout(n,this.timeBetweenScansMillis)}catch(i){e(null,i);const s=i instanceof z||i instanceof q,a=i instanceof H;(s||a)&&setTimeout(n,this._timeBetweenDecodingAttempts)}};n()}decode(t){const e=this.createBinaryBitmap(t);return this.decodeBitmap(e)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,e,n){e||(e={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),n||(n=this.captureCanvasContext),n.drawImage(t,e.sx,e.sy,e.sWidth,e.sHeight,e.dx,e.dy,e.dWidth,e.dHeight)}drawImageOnCanvas(t,e,n=this.captureCanvasContext){e||(e={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),n||(n=this.captureCanvasContext),n.drawImage(t,e.sx,e.sy,e.sWidth,e.sHeight,e.dx,e.dy,e.dWidth,e.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const e=this.getCaptureCanvas(t),n=new Ne(e),i=new ft(n);return new $(i)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const n=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=n}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const e=this.createCaptureCanvas(t);this.captureCanvas=e}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const e=document.createElement("canvas");let n,i;return typeof t<"u"&&(t instanceof HTMLVideoElement?(n=t.videoWidth,i=t.videoHeight):t instanceof HTMLImageElement&&(n=t.naturalWidth||t.width,i=t.naturalHeight||t.height)),e.style.width=n+"px",e.style.height=i+"px",e.width=n,e.height=i,e}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,e){try{t.srcObject=e}catch{t.src=URL.createObjectURL(e)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class de{constructor(t,e,n=e==null?0:8*e.length,i,s,a=J.currentTimeMillis()){this.text=t,this.rawBytes=e,this.numBits=n,this.resultPoints=i,this.format=s,this.timestamp=a,this.text=t,this.rawBytes=e,n==null?this.numBits=e==null?0:8*e.length:this.numBits=n,this.resultPoints=i,this.format=s,this.resultMetadata=null,a==null?this.timestamp=J.currentTimeMillis():this.timestamp=a}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,e){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,e)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const e=this.resultPoints;if(e===null)this.resultPoints=t;else if(t!==null&&t.length>0){const n=new Array(e.length+t.length);J.arraycopy(e,0,n,0,e.length),J.arraycopy(t,0,n,e.length,t.length),this.resultPoints=n}}getTimestamp(){return this.timestamp}toString(){return this.text}}var We;(function(_){_[_.AZTEC=0]="AZTEC",_[_.CODABAR=1]="CODABAR",_[_.CODE_39=2]="CODE_39",_[_.CODE_93=3]="CODE_93",_[_.CODE_128=4]="CODE_128",_[_.DATA_MATRIX=5]="DATA_MATRIX",_[_.EAN_8=6]="EAN_8",_[_.EAN_13=7]="EAN_13",_[_.ITF=8]="ITF",_[_.MAXICODE=9]="MAXICODE",_[_.PDF_417=10]="PDF_417",_[_.QR_CODE=11]="QR_CODE",_[_.RSS_14=12]="RSS_14",_[_.RSS_EXPANDED=13]="RSS_EXPANDED",_[_.UPC_A=14]="UPC_A",_[_.UPC_E=15]="UPC_E",_[_.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(We||(We={}));var gt=We,je;(function(_){_[_.OTHER=0]="OTHER",_[_.ORIENTATION=1]="ORIENTATION",_[_.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",_[_.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",_[_.ISSUE_NUMBER=4]="ISSUE_NUMBER",_[_.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",_[_.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",_[_.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",_[_.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",_[_.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",_[_.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(je||(je={}));var Jt=je;class Be{constructor(t,e,n,i,s=-1,a=-1){this.rawBytes=t,this.text=e,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=a,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class on{exp(t){return this.expTable[t]}log(t){if(t===0)throw new D;return this.logTable[t]}static addOrSubtract(t,e){return t^e}}class X{constructor(t,e){if(e.length===0)throw new D;this.field=t;const n=e.length;if(n>1&&e[0]===0){let i=1;for(;i<n&&e[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),J.arraycopy(e,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=e}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const e=this.coefficients;let n;if(t===1){n=0;for(let a=0,c=e.length;a!==c;a++){const u=e[a];n=on.addOrSubtract(n,u)}return n}n=e[0];const i=e.length,s=this.field;for(let a=1;a<i;a++)n=on.addOrSubtract(s.multiply(t,n),e[a]);return n}addOrSubtract(t){if(!this.field.equals(t.field))throw new D("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let e=this.coefficients,n=t.coefficients;if(e.length>n.length){const a=e;e=n,n=a}let i=new Int32Array(n.length);const s=n.length-e.length;J.arraycopy(n,0,i,0,s);for(let a=s;a<n.length;a++)i[a]=on.addOrSubtract(e[a-s],n[a]);return new X(this.field,i)}multiply(t){if(!this.field.equals(t.field))throw new D("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const e=this.coefficients,n=e.length,i=t.coefficients,s=i.length,a=new Int32Array(n+s-1),c=this.field;for(let u=0;u<n;u++){const g=e[u];for(let x=0;x<s;x++)a[u+x]=on.addOrSubtract(a[u+x],c.multiply(g,i[x]))}return new X(c,a)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const e=this.coefficients.length,n=this.field,i=new Int32Array(e),s=this.coefficients;for(let a=0;a<e;a++)i[a]=n.multiply(s[a],t);return new X(n,i)}multiplyByMonomial(t,e){if(t<0)throw new D;if(e===0)return this.field.getZero();const n=this.coefficients,i=n.length,s=new Int32Array(i+t),a=this.field;for(let c=0;c<i;c++)s[c]=a.multiply(n[c],e);return new X(a,s)}divide(t){if(!this.field.equals(t.field))throw new D("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new D("Divide by 0");const e=this.field;let n=e.getZero(),i=this;const s=t.getCoefficient(t.getDegree()),a=e.inverse(s);for(;i.getDegree()>=t.getDegree()&&!i.isZero();){const c=i.getDegree()-t.getDegree(),u=e.multiply(i.getCoefficient(i.getDegree()),a),g=t.multiplyByMonomial(c,u),x=e.buildMonomial(c,u);n=n.addOrSubtract(x),i=i.addOrSubtract(g)}return[n,i]}toString(){let t="";for(let e=this.getDegree();e>=0;e--){let n=this.getCoefficient(e);if(n!==0){if(n<0?(t+=" - ",n=-n):t.length>0&&(t+=" + "),e===0||n!==1){const i=this.field.log(n);i===0?t+="1":i===1?t+="a":(t+="a^",t+=i)}e!==0&&(e===1?t+="x":(t+="x^",t+=e))}}return t}}class v extends m{}v.kind="ArithmeticException";class M extends on{constructor(t,e,n){super(),this.primitive=t,this.size=e,this.generatorBase=n;const i=new Int32Array(e);let s=1;for(let c=0;c<e;c++)i[c]=s,s*=2,s>=e&&(s^=t,s&=e-1);this.expTable=i;const a=new Int32Array(e);for(let c=0;c<e-1;c++)a[i[c]]=c;this.logTable=a,this.zero=new X(this,Int32Array.from([0])),this.one=new X(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,e){if(t<0)throw new D;if(e===0)return this.zero;const n=new Int32Array(t+1);return n[0]=e,new X(this,n)}inverse(t){if(t===0)throw new v;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,e){return t===0||e===0?0:this.expTable[(this.logTable[t]+this.logTable[e])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+at.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}M.AZTEC_DATA_12=new M(4201,4096,1),M.AZTEC_DATA_10=new M(1033,1024,1),M.AZTEC_DATA_6=new M(67,64,1),M.AZTEC_PARAM=new M(19,16,1),M.QR_CODE_FIELD_256=new M(285,256,0),M.DATA_MATRIX_FIELD_256=new M(301,256,1),M.AZTEC_DATA_8=M.DATA_MATRIX_FIELD_256,M.MAXICODE_FIELD_64=M.AZTEC_DATA_6;class W extends m{}W.kind="ReedSolomonException";class Y extends m{}Y.kind="IllegalStateException";class Z{constructor(t){this.field=t}decode(t,e){const n=this.field,i=new X(n,t),s=new Int32Array(e);let a=!0;for(let S=0;S<e;S++){const R=i.evaluateAt(n.exp(S+n.getGeneratorBase()));s[s.length-1-S]=R,R!==0&&(a=!1)}if(a)return;const c=new X(n,s),u=this.runEuclideanAlgorithm(n.buildMonomial(e,1),c,e),g=u[0],x=u[1],w=this.findErrorLocations(g),b=this.findErrorMagnitudes(x,w);for(let S=0;S<w.length;S++){const R=t.length-1-n.log(w[S]);if(R<0)throw new W("Bad error location");t[R]=M.addOrSubtract(t[R],b[S])}}runEuclideanAlgorithm(t,e,n){if(t.getDegree()<e.getDegree()){const S=t;t=e,e=S}const i=this.field;let s=t,a=e,c=i.getZero(),u=i.getOne();for(;a.getDegree()>=(n/2|0);){let S=s,R=c;if(s=a,c=u,s.isZero())throw new W("r_{i-1} was zero");a=S;let L=i.getZero();const P=s.getCoefficient(s.getDegree()),V=i.inverse(P);for(;a.getDegree()>=s.getDegree()&&!a.isZero();){const it=a.getDegree()-s.getDegree(),st=i.multiply(a.getCoefficient(a.getDegree()),V);L=L.addOrSubtract(i.buildMonomial(it,st)),a=a.addOrSubtract(s.multiplyByMonomial(it,st))}if(u=L.multiply(c).addOrSubtract(R),a.getDegree()>=s.getDegree())throw new Y("Division algorithm failed to reduce polynomial?")}const g=u.getCoefficient(0);if(g===0)throw new W("sigmaTilde(0) was zero");const x=i.inverse(g),w=u.multiplyScalar(x),b=a.multiplyScalar(x);return[w,b]}findErrorLocations(t){const e=t.getDegree();if(e===1)return Int32Array.from([t.getCoefficient(1)]);const n=new Int32Array(e);let i=0;const s=this.field;for(let a=1;a<s.getSize()&&i<e;a++)t.evaluateAt(a)===0&&(n[i]=s.inverse(a),i++);if(i!==e)throw new W("Error locator degree does not match number of roots");return n}findErrorMagnitudes(t,e){const n=e.length,i=new Int32Array(n),s=this.field;for(let a=0;a<n;a++){const c=s.inverse(e[a]);let u=1;for(let g=0;g<n;g++)if(a!==g){const x=s.multiply(e[g],c),w=x&1?x&-2:x|1;u=s.multiply(u,w)}i[a]=s.multiply(t.evaluateAt(c),s.inverse(u)),s.getGeneratorBase()!==0&&(i[a]=s.multiply(i[a],c))}return i}}var nt;(function(_){_[_.UPPER=0]="UPPER",_[_.LOWER=1]="LOWER",_[_.MIXED=2]="MIXED",_[_.DIGIT=3]="DIGIT",_[_.PUNCT=4]="PUNCT",_[_.BINARY=5]="BINARY"})(nt||(nt={}));class tt{decode(t){this.ddata=t;let e=t.getBits(),n=this.extractBits(e),i=this.correctBits(n),s=tt.convertBoolArrayToByteArray(i),a=tt.getEncodedData(i),c=new Be(s,a,null,null);return c.setNumBits(i.length),c}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let e=t.length,n=nt.UPPER,i=nt.UPPER,s="",a=0;for(;a<e;)if(i===nt.BINARY){if(e-a<5)break;let c=tt.readCode(t,a,5);if(a+=5,c===0){if(e-a<11)break;c=tt.readCode(t,a,11)+31,a+=11}for(let u=0;u<c;u++){if(e-a<8){a=e;break}const g=tt.readCode(t,a,8);s+=_t.castAsNonUtf8Char(g),a+=8}i=n}else{let c=i===nt.DIGIT?4:5;if(e-a<c)break;let u=tt.readCode(t,a,c);a+=c;let g=tt.getCharacter(i,u);g.startsWith("CTRL_")?(n=i,i=tt.getTable(g.charAt(5)),g.charAt(6)==="L"&&(n=i)):(s+=g,i=n)}return s}static getTable(t){switch(t){case"L":return nt.LOWER;case"P":return nt.PUNCT;case"M":return nt.MIXED;case"D":return nt.DIGIT;case"B":return nt.BINARY;case"U":default:return nt.UPPER}}static getCharacter(t,e){switch(t){case nt.UPPER:return tt.UPPER_TABLE[e];case nt.LOWER:return tt.LOWER_TABLE[e];case nt.MIXED:return tt.MIXED_TABLE[e];case nt.PUNCT:return tt.PUNCT_TABLE[e];case nt.DIGIT:return tt.DIGIT_TABLE[e];default:throw new Y("Bad table")}}correctBits(t){let e,n;this.ddata.getNbLayers()<=2?(n=6,e=M.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,e=M.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,e=M.AZTEC_DATA_10):(n=12,e=M.AZTEC_DATA_12);let i=this.ddata.getNbDatablocks(),s=t.length/n;if(s<i)throw new q;let a=t.length%n,c=new Int32Array(s);for(let b=0;b<s;b++,a+=n)c[b]=tt.readCode(t,a,n);try{new Z(e).decode(c,s-i)}catch(b){throw new q(b)}let u=(1<<n)-1,g=0;for(let b=0;b<i;b++){let S=c[b];if(S===0||S===u)throw new q;(S===1||S===u-1)&&g++}let x=new Array(i*n-g),w=0;for(let b=0;b<i;b++){let S=c[b];if(S===1||S===u-1)x.fill(S>1,w,w+n-1),w+=n-1;else for(let R=n-1;R>=0;--R)x[w++]=(S&1<<R)!==0}return x}extractBits(t){let e=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(e?11:14)+n*4,s=new Int32Array(i),a=new Array(this.totalBitsInLayer(n,e));if(e)for(let c=0;c<s.length;c++)s[c]=c;else{let c=i+1+2*at.truncDivision(at.truncDivision(i,2)-1,15),u=i/2,g=at.truncDivision(c,2);for(let x=0;x<u;x++){let w=x+at.truncDivision(x,15);s[u-x-1]=g-w-1,s[u+x]=g+w+1}}for(let c=0,u=0;c<n;c++){let g=(n-c)*4+(e?9:12),x=c*2,w=i-1-x;for(let b=0;b<g;b++){let S=b*2;for(let R=0;R<2;R++)a[u+S+R]=t.get(s[x+R],s[x+b]),a[u+2*g+S+R]=t.get(s[x+b],s[w-R]),a[u+4*g+S+R]=t.get(s[w-R],s[w-b]),a[u+6*g+S+R]=t.get(s[w-b],s[x+R])}u+=g*8}return a}static readCode(t,e,n){let i=0;for(let s=e;s<e+n;s++)i<<=1,t[s]&&(i|=1);return i}static readByte(t,e){let n=t.length-e;return n>=8?tt.readCode(t,e,8):tt.readCode(t,e,n)<<8-n}static convertBoolArrayToByteArray(t){let e=new Uint8Array((t.length+7)/8);for(let n=0;n<e.length;n++)e[n]=tt.readByte(t,8*n);return e}totalBitsInLayer(t,e){return((e?88:112)+16*t)*t}}tt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],tt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],tt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],tt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],tt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class G{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,e,n,i){const s=t-n,a=e-i;return Math.sqrt(s*s+a*a)}static sum(t){let e=0;for(let n=0,i=t.length;n!==i;n++){const s=t[n];e+=s}return e}}class U{static floatToIntBits(t){return t}}U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class B{constructor(t,e){this.x=t,this.y=e}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof B){const e=t;return this.x===e.x&&this.y===e.y}return!1}hashCode(){return 31*U.floatToIntBits(this.x)+U.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const e=this.distance(t[0],t[1]),n=this.distance(t[1],t[2]),i=this.distance(t[0],t[2]);let s,a,c;if(n>=e&&n>=i?(a=t[0],s=t[1],c=t[2]):i>=n&&i>=e?(a=t[1],s=t[0],c=t[2]):(a=t[2],s=t[0],c=t[1]),this.crossProductZ(s,a,c)<0){const u=s;s=c,c=u}t[0]=s,t[1]=a,t[2]=c}static distance(t,e){return G.distance(t.x,t.y,e.x,e.y)}static crossProductZ(t,e,n){const i=e.x,s=e.y;return(n.x-i)*(t.y-s)-(n.y-s)*(t.x-i)}}class Ct{constructor(t,e){this.bits=t,this.points=e}getBits(){return this.bits}getPoints(){return this.points}}class mt extends Ct{constructor(t,e,n,i,s){super(t,e),this.compact=n,this.nbDatablocks=i,this.nbLayers=s}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class pt{constructor(t,e,n,i){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),e==null&&(e=pt.INIT_SIZE),n==null&&(n=t.getWidth()/2|0),i==null&&(i=t.getHeight()/2|0);const s=e/2|0;if(this.leftInit=n-s,this.rightInit=n+s,this.upInit=i-s,this.downInit=i+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new H}detect(){let t=this.leftInit,e=this.rightInit,n=this.upInit,i=this.downInit,s=!1,a=!0,c=!1,u=!1,g=!1,x=!1,w=!1;const b=this.width,S=this.height;for(;a;){a=!1;let R=!0;for(;(R||!u)&&e<b;)R=this.containsBlackPoint(n,i,e,!1),R?(e++,a=!0,u=!0):u||e++;if(e>=b){s=!0;break}let L=!0;for(;(L||!g)&&i<S;)L=this.containsBlackPoint(t,e,i,!0),L?(i++,a=!0,g=!0):g||i++;if(i>=S){s=!0;break}let P=!0;for(;(P||!x)&&t>=0;)P=this.containsBlackPoint(n,i,t,!1),P?(t--,a=!0,x=!0):x||t--;if(t<0){s=!0;break}let V=!0;for(;(V||!w)&&n>=0;)V=this.containsBlackPoint(t,e,n,!0),V?(n--,a=!0,w=!0):w||n--;if(n<0){s=!0;break}a&&(c=!0)}if(!s&&c){const R=e-t;let L=null;for(let st=1;L===null&&st<R;st++)L=this.getBlackPointOnSegment(t,i-st,t+st,i);if(L==null)throw new H;let P=null;for(let st=1;P===null&&st<R;st++)P=this.getBlackPointOnSegment(t,n+st,t+st,n);if(P==null)throw new H;let V=null;for(let st=1;V===null&&st<R;st++)V=this.getBlackPointOnSegment(e,n+st,e-st,n);if(V==null)throw new H;let it=null;for(let st=1;it===null&&st<R;st++)it=this.getBlackPointOnSegment(e,i-st,e-st,i);if(it==null)throw new H;return this.centerEdges(it,L,V,P)}else throw new H}getBlackPointOnSegment(t,e,n,i){const s=G.round(G.distance(t,e,n,i)),a=(n-t)/s,c=(i-e)/s,u=this.image;for(let g=0;g<s;g++){const x=G.round(t+g*a),w=G.round(e+g*c);if(u.get(x,w))return new B(x,w)}return null}centerEdges(t,e,n,i){const s=t.getX(),a=t.getY(),c=e.getX(),u=e.getY(),g=n.getX(),x=n.getY(),w=i.getX(),b=i.getY(),S=pt.CORR;return s<this.width/2?[new B(w-S,b+S),new B(c+S,u+S),new B(g-S,x-S),new B(s+S,a-S)]:[new B(w+S,b+S),new B(c+S,u-S),new B(g-S,x+S),new B(s-S,a-S)]}containsBlackPoint(t,e,n,i){const s=this.image;if(i){for(let a=t;a<=e;a++)if(s.get(a,n))return!0}else for(let a=t;a<=e;a++)if(s.get(n,a))return!0;return!1}}pt.INIT_SIZE=10,pt.CORR=1;class Nt{static checkAndNudgePoints(t,e){const n=t.getWidth(),i=t.getHeight();let s=!0;for(let a=0;a<e.length&&s;a+=2){const c=Math.floor(e[a]),u=Math.floor(e[a+1]);if(c<-1||c>n||u<-1||u>i)throw new H;s=!1,c===-1?(e[a]=0,s=!0):c===n&&(e[a]=n-1,s=!0),u===-1?(e[a+1]=0,s=!0):u===i&&(e[a+1]=i-1,s=!0)}s=!0;for(let a=e.length-2;a>=0&&s;a-=2){const c=Math.floor(e[a]),u=Math.floor(e[a+1]);if(c<-1||c>n||u<-1||u>i)throw new H;s=!1,c===-1?(e[a]=0,s=!0):c===n&&(e[a]=n-1,s=!0),u===-1?(e[a+1]=0,s=!0):u===i&&(e[a+1]=i-1,s=!0)}}}class Ot{constructor(t,e,n,i,s,a,c,u,g){this.a11=t,this.a21=e,this.a31=n,this.a12=i,this.a22=s,this.a32=a,this.a13=c,this.a23=u,this.a33=g}static quadrilateralToQuadrilateral(t,e,n,i,s,a,c,u,g,x,w,b,S,R,L,P){const V=Ot.quadrilateralToSquare(t,e,n,i,s,a,c,u);return Ot.squareToQuadrilateral(g,x,w,b,S,R,L,P).times(V)}transformPoints(t){const e=t.length,n=this.a11,i=this.a12,s=this.a13,a=this.a21,c=this.a22,u=this.a23,g=this.a31,x=this.a32,w=this.a33;for(let b=0;b<e;b+=2){const S=t[b],R=t[b+1],L=s*S+u*R+w;t[b]=(n*S+a*R+g)/L,t[b+1]=(i*S+c*R+x)/L}}transformPointsWithValues(t,e){const n=this.a11,i=this.a12,s=this.a13,a=this.a21,c=this.a22,u=this.a23,g=this.a31,x=this.a32,w=this.a33,b=t.length;for(let S=0;S<b;S++){const R=t[S],L=e[S],P=s*R+u*L+w;t[S]=(n*R+a*L+g)/P,e[S]=(i*R+c*L+x)/P}}static squareToQuadrilateral(t,e,n,i,s,a,c,u){const g=t-n+s-c,x=e-i+a-u;if(g===0&&x===0)return new Ot(n-t,s-n,t,i-e,a-i,e,0,0,1);{const w=n-s,b=c-s,S=i-a,R=u-a,L=w*R-b*S,P=(g*R-b*x)/L,V=(w*x-g*S)/L;return new Ot(n-t+P*n,c-t+V*c,t,i-e+P*i,u-e+V*u,e,P,V,1)}}static quadrilateralToSquare(t,e,n,i,s,a,c,u){return Ot.squareToQuadrilateral(t,e,n,i,s,a,c,u).buildAdjoint()}buildAdjoint(){return new Ot(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Ot(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class qt extends Nt{sampleGrid(t,e,n,i,s,a,c,u,g,x,w,b,S,R,L,P,V,it,st){const rt=Ot.quadrilateralToQuadrilateral(i,s,a,c,u,g,x,w,b,S,R,L,P,V,it,st);return this.sampleGridWithTransform(t,e,n,rt)}sampleGridWithTransform(t,e,n,i){if(e<=0||n<=0)throw new H;const s=new re(e,n),a=new Float32Array(2*e);for(let c=0;c<n;c++){const u=a.length,g=c+.5;for(let x=0;x<u;x+=2)a[x]=x/2+.5,a[x+1]=g;i.transformPoints(a),Nt.checkAndNudgePoints(t,a);try{for(let x=0;x<u;x+=2)t.get(Math.floor(a[x]),Math.floor(a[x+1]))&&s.set(x/2,c)}catch{throw new H}}return s}}class Ut{static setGridSampler(t){Ut.gridSampler=t}static getInstance(){return Ut.gridSampler}}Ut.gridSampler=new qt;class Vt{constructor(t,e){this.x=t,this.y=e}toResultPoint(){return new B(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ze{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let e=this.getMatrixCenter(),n=this.getBullsEyeCorners(e);if(t){let a=n[0];n[0]=n[2],n[2]=a}this.extractParameters(n);let i=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),s=this.getMatrixCornerPoints(n);return new mt(i,s,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new H;let e=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(t[0],t[1],e),this.sampleLine(t[1],t[2],e),this.sampleLine(t[2],t[3],e),this.sampleLine(t[3],t[0],e)]);this.shift=this.getRotation(n,e);let i=0;for(let a=0;a<4;a++){let c=n[(this.shift+a)%4];this.compact?(i<<=7,i+=c>>1&127):(i<<=10,i+=(c>>2&992)+(c>>1&31))}let s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)}getRotation(t,e){let n=0;t.forEach((i,s,a)=>{let c=(i>>e-2<<1)+(i&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(let i=0;i<4;i++)if(at.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new H}getCorrectedParameterData(t,e){let n,i;e?(n=7,i=2):(n=10,i=4);let s=n-i,a=new Int32Array(n);for(let u=n-1;u>=0;--u)a[u]=t&15,t>>=4;try{new Z(M.AZTEC_PARAM).decode(a,s)}catch{throw new H}let c=0;for(let u=0;u<i;u++)c=(c<<4)+a[u];return c}getBullsEyeCorners(t){let e=t,n=t,i=t,s=t,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let w=this.getFirstDifferent(e,a,1,-1),b=this.getFirstDifferent(n,a,1,1),S=this.getFirstDifferent(i,a,-1,1),R=this.getFirstDifferent(s,a,-1,-1);if(this.nbCenterLayers>2){let L=this.distancePoint(R,w)*this.nbCenterLayers/(this.distancePoint(s,e)*(this.nbCenterLayers+2));if(L<.75||L>1.25||!this.isWhiteOrBlackRectangle(w,b,S,R))break}e=w,n=b,i=S,s=R,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new H;this.compact=this.nbCenterLayers===5;let c=new B(e.getX()+.5,e.getY()-.5),u=new B(n.getX()+.5,n.getY()+.5),g=new B(i.getX()-.5,i.getY()+.5),x=new B(s.getX()-.5,s.getY()-.5);return this.expandSquare([c,u,g,x],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,e,n,i;try{let c=new pt(this.image).detect();t=c[0],e=c[1],n=c[2],i=c[3]}catch{let u=this.image.getWidth()/2,g=this.image.getHeight()/2;t=this.getFirstDifferent(new Vt(u+7,g-7),!1,1,-1).toResultPoint(),e=this.getFirstDifferent(new Vt(u+7,g+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Vt(u-7,g+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Vt(u-7,g-7),!1,-1,-1).toResultPoint()}let s=G.round((t.getX()+i.getX()+e.getX()+n.getX())/4),a=G.round((t.getY()+i.getY()+e.getY()+n.getY())/4);try{let c=new pt(this.image,15,s,a).detect();t=c[0],e=c[1],n=c[2],i=c[3]}catch{t=this.getFirstDifferent(new Vt(s+7,a-7),!1,1,-1).toResultPoint(),e=this.getFirstDifferent(new Vt(s+7,a+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Vt(s-7,a+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Vt(s-7,a-7),!1,-1,-1).toResultPoint()}return s=G.round((t.getX()+i.getX()+e.getX()+n.getX())/4),a=G.round((t.getY()+i.getY()+e.getY()+n.getY())/4),new Vt(s,a)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,e,n,i,s){let a=Ut.getInstance(),c=this.getDimension(),u=c/2-this.nbCenterLayers,g=c/2+this.nbCenterLayers;return a.sampleGrid(t,c,c,u,u,g,u,g,g,u,g,e.getX(),e.getY(),n.getX(),n.getY(),i.getX(),i.getY(),s.getX(),s.getY())}sampleLine(t,e,n){let i=0,s=this.distanceResultPoint(t,e),a=s/n,c=t.getX(),u=t.getY(),g=a*(e.getX()-t.getX())/s,x=a*(e.getY()-t.getY())/s;for(let w=0;w<n;w++)this.image.get(G.round(c+w*g),G.round(u+w*x))&&(i|=1<<n-w-1);return i}isWhiteOrBlackRectangle(t,e,n,i){let s=3;t=new Vt(t.getX()-s,t.getY()+s),e=new Vt(e.getX()-s,e.getY()-s),n=new Vt(n.getX()+s,n.getY()-s),i=new Vt(i.getX()+s,i.getY()+s);let a=this.getColor(i,t);if(a===0)return!1;let c=this.getColor(t,e);return c!==a||(c=this.getColor(e,n),c!==a)?!1:(c=this.getColor(n,i),c===a)}getColor(t,e){let n=this.distancePoint(t,e),i=(e.getX()-t.getX())/n,s=(e.getY()-t.getY())/n,a=0,c=t.getX(),u=t.getY(),g=this.image.get(t.getX(),t.getY()),x=Math.ceil(n);for(let b=0;b<x;b++)c+=i,u+=s,this.image.get(G.round(c),G.round(u))!==g&&a++;let w=a/n;return w>.1&&w<.9?0:w<=.1===g?1:-1}getFirstDifferent(t,e,n,i){let s=t.getX()+n,a=t.getY()+i;for(;this.isValid(s,a)&&this.image.get(s,a)===e;)s+=n,a+=i;for(s-=n,a-=i;this.isValid(s,a)&&this.image.get(s,a)===e;)s+=n;for(s-=n;this.isValid(s,a)&&this.image.get(s,a)===e;)a+=i;return a-=i,new Vt(s,a)}expandSquare(t,e,n){let i=n/(2*e),s=t[0].getX()-t[2].getX(),a=t[0].getY()-t[2].getY(),c=(t[0].getX()+t[2].getX())/2,u=(t[0].getY()+t[2].getY())/2,g=new B(c+i*s,u+i*a),x=new B(c-i*s,u-i*a);s=t[1].getX()-t[3].getX(),a=t[1].getY()-t[3].getY(),c=(t[1].getX()+t[3].getX())/2,u=(t[1].getY()+t[3].getY())/2;let w=new B(c+i*s,u+i*a),b=new B(c-i*s,u-i*a);return[g,w,x,b]}isValid(t,e){return t>=0&&t<this.image.getWidth()&&e>0&&e<this.image.getHeight()}isValidPoint(t){let e=G.round(t.getX()),n=G.round(t.getY());return this.isValid(e,n)}distancePoint(t,e){return G.distance(t.getX(),t.getY(),e.getX(),e.getY())}distanceResultPoint(t,e){return G.distance(t.getX(),t.getY(),e.getX(),e.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(at.truncDivision(this.nbLayers-4,8)+1)+15}}class bn{decode(t,e=null){let n=null,i=new ze(t.getBlackMatrix()),s=null,a=null;try{let x=i.detectMirror(!1);s=x.getPoints(),this.reportFoundResultPoints(e,s),a=new tt().decode(x)}catch(x){n=x}if(a==null)try{let x=i.detectMirror(!0);s=x.getPoints(),this.reportFoundResultPoints(e,s),a=new tt().decode(x)}catch(x){throw n??x}let c=new de(a.getText(),a.getRawBytes(),a.getNumBits(),s,gt.AZTEC,J.currentTimeMillis()),u=a.getByteSegments();u!=null&&c.putMetadata(Jt.BYTE_SEGMENTS,u);let g=a.getECLevel();return g!=null&&c.putMetadata(Jt.ERROR_CORRECTION_LEVEL,g),c}reportFoundResultPoints(t,e){if(t!=null){let n=t.get(wt.NEED_RESULT_POINT_CALLBACK);n!=null&&e.forEach((i,s,a)=>{n.foundPossibleResultPoint(i)})}}reset(){}}class oi extends He{constructor(t=500){super(new bn,t)}}class ue{decode(t,e){try{return this.doDecode(t,e)}catch{if(e&&e.get(wt.TRY_HARDER)===!0&&t.isRotateSupported()){const s=t.rotateCounterClockwise(),a=this.doDecode(s,e),c=a.getResultMetadata();let u=270;c!==null&&c.get(Jt.ORIENTATION)===!0&&(u=u+c.get(Jt.ORIENTATION)%360),a.putMetadata(Jt.ORIENTATION,u);const g=a.getResultPoints();if(g!==null){const x=s.getHeight();for(let w=0;w<g.length;w++)g[w]=new B(x-g[w].getY()-1,g[w].getX())}return a}else throw new H}}reset(){}doDecode(t,e){const n=t.getWidth(),i=t.getHeight();let s=new Q(n);const a=e&&e.get(wt.TRY_HARDER)===!0,c=Math.max(1,i>>(a?8:5));let u;a?u=i:u=15;const g=Math.trunc(i/2);for(let x=0;x<u;x++){const w=Math.trunc((x+1)/2),b=(x&1)===0,S=g+c*(b?w:-w);if(S<0||S>=i)break;try{s=t.getBlackRow(S,s)}catch{continue}for(let R=0;R<2;R++){if(R===1&&(s.reverse(),e&&e.get(wt.NEED_RESULT_POINT_CALLBACK)===!0)){const L=new Map;e.forEach((P,V)=>L.set(V,P)),L.delete(wt.NEED_RESULT_POINT_CALLBACK),e=L}try{const L=this.decodeRow(S,s,e);if(R===1){L.putMetadata(Jt.ORIENTATION,180);const P=L.getResultPoints();P!==null&&(P[0]=new B(n-P[0].getX()-1,P[0].getY()),P[1]=new B(n-P[1].getX()-1,P[1].getY()))}return L}catch{}}}throw new H}static recordPattern(t,e,n){const i=n.length;for(let g=0;g<i;g++)n[g]=0;const s=t.getSize();if(e>=s)throw new H;let a=!t.get(e),c=0,u=e;for(;u<s;){if(t.get(u)!==a)n[c]++;else{if(++c===i)break;n[c]=1,a=!a}u++}if(!(c===i||c===i-1&&u===s))throw new H}static recordPatternInReverse(t,e,n){let i=n.length,s=t.get(e);for(;e>0&&i>=0;)t.get(--e)!==s&&(i--,s=!s);if(i>=0)throw new H;ue.recordPattern(t,e+1,n)}static patternMatchVariance(t,e,n){const i=t.length;let s=0,a=0;for(let g=0;g<i;g++)s+=t[g],a+=e[g];if(s<a)return Number.POSITIVE_INFINITY;const c=s/a;n*=c;let u=0;for(let g=0;g<i;g++){const x=t[g],w=e[g]*c,b=x>w?x-w:w-x;if(b>n)return Number.POSITIVE_INFINITY;u+=b}return u/s}}class ct extends ue{static findStartPattern(t){const e=t.getSize(),n=t.getNextSet(0);let i=0,s=Int32Array.from([0,0,0,0,0,0]),a=n,c=!1;const u=6;for(let g=n;g<e;g++)if(t.get(g)!==c)s[i]++;else{if(i===u-1){let x=ct.MAX_AVG_VARIANCE,w=-1;for(let b=ct.CODE_START_A;b<=ct.CODE_START_C;b++){const S=ue.patternMatchVariance(s,ct.CODE_PATTERNS[b],ct.MAX_INDIVIDUAL_VARIANCE);S<x&&(x=S,w=b)}if(w>=0&&t.isRange(Math.max(0,a-(g-a)/2),a,!1))return Int32Array.from([a,g,w]);a+=s[0]+s[1],s=s.slice(2,s.length-1),s[i-1]=0,s[i]=0,i--}else i++;s[i]=1,c=!c}throw new H}static decodeCode(t,e,n){ue.recordPattern(t,n,e);let i=ct.MAX_AVG_VARIANCE,s=-1;for(let a=0;a<ct.CODE_PATTERNS.length;a++){const c=ct.CODE_PATTERNS[a],u=this.patternMatchVariance(e,c,ct.MAX_INDIVIDUAL_VARIANCE);u<i&&(i=u,s=a)}if(s>=0)return s;throw new H}decodeRow(t,e,n){const i=n&&n.get(wt.ASSUME_GS1)===!0,s=ct.findStartPattern(e),a=s[2];let c=0;const u=new Uint8Array(20);u[c++]=a;let g;switch(a){case ct.CODE_START_A:g=ct.CODE_CODE_A;break;case ct.CODE_START_B:g=ct.CODE_CODE_B;break;case ct.CODE_START_C:g=ct.CODE_CODE_C;break;default:throw new q}let x=!1,w=!1,b="",S=s[0],R=s[1];const L=Int32Array.from([0,0,0,0,0,0]);let P=0,V=0,it=a,st=0,rt=!0,jt=!1,Ft=!1;for(;!x;){const Ir=w;switch(w=!1,P=V,V=ct.decodeCode(e,L,R),u[c++]=V,V!==ct.CODE_STOP&&(rt=!0),V!==ct.CODE_STOP&&(st++,it+=st*V),S=R,R+=L.reduce((Jo,ta)=>Jo+ta,0),V){case ct.CODE_START_A:case ct.CODE_START_B:case ct.CODE_START_C:throw new q}switch(g){case ct.CODE_CODE_A:if(V<64)Ft===jt?b+=String.fromCharCode(" ".charCodeAt(0)+V):b+=String.fromCharCode(" ".charCodeAt(0)+V+128),Ft=!1;else if(V<96)Ft===jt?b+=String.fromCharCode(V-64):b+=String.fromCharCode(V+64),Ft=!1;else switch(V!==ct.CODE_STOP&&(rt=!1),V){case ct.CODE_FNC_1:i&&(b.length===0?b+="]C1":b+=String.fromCharCode(29));break;case ct.CODE_FNC_2:case ct.CODE_FNC_3:break;case ct.CODE_FNC_4_A:!jt&&Ft?(jt=!0,Ft=!1):jt&&Ft?(jt=!1,Ft=!1):Ft=!0;break;case ct.CODE_SHIFT:w=!0,g=ct.CODE_CODE_B;break;case ct.CODE_CODE_B:g=ct.CODE_CODE_B;break;case ct.CODE_CODE_C:g=ct.CODE_CODE_C;break;case ct.CODE_STOP:x=!0;break}break;case ct.CODE_CODE_B:if(V<96)Ft===jt?b+=String.fromCharCode(" ".charCodeAt(0)+V):b+=String.fromCharCode(" ".charCodeAt(0)+V+128),Ft=!1;else switch(V!==ct.CODE_STOP&&(rt=!1),V){case ct.CODE_FNC_1:i&&(b.length===0?b+="]C1":b+=String.fromCharCode(29));break;case ct.CODE_FNC_2:case ct.CODE_FNC_3:break;case ct.CODE_FNC_4_B:!jt&&Ft?(jt=!0,Ft=!1):jt&&Ft?(jt=!1,Ft=!1):Ft=!0;break;case ct.CODE_SHIFT:w=!0,g=ct.CODE_CODE_A;break;case ct.CODE_CODE_A:g=ct.CODE_CODE_A;break;case ct.CODE_CODE_C:g=ct.CODE_CODE_C;break;case ct.CODE_STOP:x=!0;break}break;case ct.CODE_CODE_C:if(V<100)V<10&&(b+="0"),b+=V;else switch(V!==ct.CODE_STOP&&(rt=!1),V){case ct.CODE_FNC_1:i&&(b.length===0?b+="]C1":b+=String.fromCharCode(29));break;case ct.CODE_CODE_A:g=ct.CODE_CODE_A;break;case ct.CODE_CODE_B:g=ct.CODE_CODE_B;break;case ct.CODE_STOP:x=!0;break}break}Ir&&(g=g===ct.CODE_CODE_A?ct.CODE_CODE_B:ct.CODE_CODE_A)}const Ke=R-S;if(R=e.getNextUnset(R),!e.isRange(R,Math.min(e.getSize(),R+(R-S)/2),!1))throw new H;if(it-=st*P,it%103!==P)throw new z;const mn=b.length;if(mn===0)throw new H;mn>0&&rt&&(g===ct.CODE_CODE_C?b=b.substring(0,mn-2):b=b.substring(0,mn-1));const Ze=(s[1]+s[0])/2,ce=S+Ke/2,Re=u.length,en=new Uint8Array(Re);for(let Ir=0;Ir<Re;Ir++)en[Ir]=u[Ir];const Tr=[new B(Ze,t),new B(ce,t)];return new de(b,en,0,Tr,gt.CODE_128,new Date().getTime())}}ct.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ct.MAX_AVG_VARIANCE=.25,ct.MAX_INDIVIDUAL_VARIANCE=.7,ct.CODE_SHIFT=98,ct.CODE_CODE_C=99,ct.CODE_CODE_B=100,ct.CODE_CODE_A=101,ct.CODE_FNC_1=102,ct.CODE_FNC_2=97,ct.CODE_FNC_3=96,ct.CODE_FNC_4_A=101,ct.CODE_FNC_4_B=100,ct.CODE_START_A=103,ct.CODE_START_B=104,ct.CODE_START_C=105,ct.CODE_STOP=106;class Kt extends ue{constructor(t=!1,e=!1){super(),this.usingCheckDigit=t,this.extendedMode=e,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,e,n){let i=this.counters;i.fill(0),this.decodeRowResult="";let s=Kt.findAsteriskPattern(e,i),a=e.getNextSet(s[1]),c=e.getSize(),u,g;do{Kt.recordPattern(e,a,i);let L=Kt.toNarrowWidePattern(i);if(L<0)throw new H;u=Kt.patternToChar(L),this.decodeRowResult+=u,g=a;for(let P of i)a+=P;a=e.getNextSet(a)}while(u!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let x=0;for(let L of i)x+=L;let w=a-g-x;if(a!==c&&w*2<x)throw new H;if(this.usingCheckDigit){let L=this.decodeRowResult.length-1,P=0;for(let V=0;V<L;V++)P+=Kt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(V));if(this.decodeRowResult.charAt(L)!==Kt.ALPHABET_STRING.charAt(P%43))throw new z;this.decodeRowResult=this.decodeRowResult.substring(0,L)}if(this.decodeRowResult.length===0)throw new H;let b;this.extendedMode?b=Kt.decodeExtended(this.decodeRowResult):b=this.decodeRowResult;let S=(s[1]+s[0])/2,R=g+x/2;return new de(b,null,0,[new B(S,t),new B(R,t)],gt.CODE_39,new Date().getTime())}static findAsteriskPattern(t,e){let n=t.getSize(),i=t.getNextSet(0),s=0,a=i,c=!1,u=e.length;for(let g=i;g<n;g++)if(t.get(g)!==c)e[s]++;else{if(s===u-1){if(this.toNarrowWidePattern(e)===Kt.ASTERISK_ENCODING&&t.isRange(Math.max(0,a-Math.floor((g-a)/2)),a,!1))return[a,g];a+=e[0]+e[1],e.copyWithin(0,2,2+s-1),e[s-1]=0,e[s]=0,s--}else s++;e[s]=1,c=!c}throw new H}static toNarrowWidePattern(t){let e=t.length,n=0,i;do{let s=2147483647;for(let u of t)u<s&&u>n&&(s=u);n=s,i=0;let a=0,c=0;for(let u=0;u<e;u++){let g=t[u];g>n&&(c|=1<<e-1-u,i++,a+=g)}if(i===3){for(let u=0;u<e&&i>0;u++){let g=t[u];if(g>n&&(i--,g*2>=a))return-1}return c}}while(i>3);return-1}static patternToChar(t){for(let e=0;e<Kt.CHARACTER_ENCODINGS.length;e++)if(Kt.CHARACTER_ENCODINGS[e]===t)return Kt.ALPHABET_STRING.charAt(e);if(t===Kt.ASTERISK_ENCODING)return"*";throw new H}static decodeExtended(t){let e=t.length,n="";for(let i=0;i<e;i++){let s=t.charAt(i);if(s==="+"||s==="$"||s==="%"||s==="/"){let a=t.charAt(i+1),c="\0";switch(s){case"+":if(a>="A"&&a<="Z")c=String.fromCharCode(a.charCodeAt(0)+32);else throw new q;break;case"$":if(a>="A"&&a<="Z")c=String.fromCharCode(a.charCodeAt(0)-64);else throw new q;break;case"%":if(a>="A"&&a<="E")c=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")c=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")c=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")c=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")c="\0";else if(a==="V")c="@";else if(a==="W")c="`";else if(a==="X"||a==="Y"||a==="Z")c="";else throw new q;break;case"/":if(a>="A"&&a<="O")c=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")c=":";else throw new q;break}n+=c,i++}else n+=s}return n}}Kt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Kt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Kt.ASTERISK_ENCODING=148;class Xt extends ue{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,e,n){let i=this.decodeStart(e),s=this.decodeEnd(e),a=new St;Xt.decodeMiddle(e,i[1],s[0],a);let c=a.toString(),u=null;n!=null&&(u=n.get(wt.ALLOWED_LENGTHS)),u==null&&(u=Xt.DEFAULT_ALLOWED_LENGTHS);let g=c.length,x=!1,w=0;for(let R of u){if(g===R){x=!0;break}R>w&&(w=R)}if(!x&&g>w&&(x=!0),!x)throw new q;const b=[new B(i[1],t),new B(s[0],t)];return new de(c,null,0,b,gt.ITF,new Date().getTime())}static decodeMiddle(t,e,n,i){let s=new Int32Array(10),a=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),a.fill(0),c.fill(0);e<n;){ue.recordPattern(t,e,s);for(let g=0;g<5;g++){let x=2*g;a[g]=s[x],c[g]=s[x+1]}let u=Xt.decodeDigit(a);i.append(u.toString()),u=this.decodeDigit(c),i.append(u.toString()),s.forEach(function(g){e+=g})}}decodeStart(t){let e=Xt.skipWhiteSpace(t),n=Xt.findGuardPattern(t,e,Xt.START_PATTERN);return this.narrowLineWidth=(n[1]-n[0])/4,this.validateQuietZone(t,n[0]),n}validateQuietZone(t,e){let n=this.narrowLineWidth*10;n=n<e?n:e;for(let i=e-1;n>0&&i>=0&&!t.get(i);i--)n--;if(n!==0)throw new H}static skipWhiteSpace(t){const e=t.getSize(),n=t.getNextSet(0);if(n===e)throw new H;return n}decodeEnd(t){t.reverse();try{let e=Xt.skipWhiteSpace(t),n;try{n=Xt.findGuardPattern(t,e,Xt.END_PATTERN_REVERSED[0])}catch(s){s instanceof H&&(n=Xt.findGuardPattern(t,e,Xt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,n[0]);let i=n[0];return n[0]=t.getSize()-n[1],n[1]=t.getSize()-i,n}finally{t.reverse()}}static findGuardPattern(t,e,n){let i=n.length,s=new Int32Array(i),a=t.getSize(),c=!1,u=0,g=e;s.fill(0);for(let x=e;x<a;x++)if(t.get(x)!==c)s[u]++;else{if(u===i-1){if(ue.patternMatchVariance(s,n,Xt.MAX_INDIVIDUAL_VARIANCE)<Xt.MAX_AVG_VARIANCE)return[g,x];g+=s[0]+s[1],J.arraycopy(s,2,s,0,u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,c=!c}throw new H}static decodeDigit(t){let e=Xt.MAX_AVG_VARIANCE,n=-1,i=Xt.PATTERNS.length;for(let s=0;s<i;s++){let a=Xt.PATTERNS[s],c=ue.patternMatchVariance(t,a,Xt.MAX_INDIVIDUAL_VARIANCE);c<e?(e=c,n=s):c===e&&(n=-1)}if(n>=0)return n%10;throw new H}}Xt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Xt.MAX_AVG_VARIANCE=.38,Xt.MAX_INDIVIDUAL_VARIANCE=.5,Xt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Xt.START_PATTERN=Int32Array.from([1,1,1,1]),Xt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class se extends ue{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let e=!1,n,i=0,s=Int32Array.from([0,0,0]);for(;!e;){s=Int32Array.from([0,0,0]),n=se.findGuardPattern(t,i,!1,this.START_END_PATTERN,s);let a=n[0];i=n[1];let c=a-(i-a);c>=0&&(e=t.isRange(c,a,!1))}return n}static checkChecksum(t){return se.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let e=t.length;if(e===0)return!1;let n=parseInt(t.charAt(e-1),10);return se.getStandardUPCEANChecksum(t.substring(0,e-1))===n}static getStandardUPCEANChecksum(t){let e=t.length,n=0;for(let i=e-1;i>=0;i-=2){let s=t.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new q;n+=s}n*=3;for(let i=e-2;i>=0;i-=2){let s=t.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new q;n+=s}return(1e3-n)%10}static decodeEnd(t,e){return se.findGuardPattern(t,e,!1,se.START_END_PATTERN,new Int32Array(se.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,e,n,i){return this.findGuardPattern(t,e,n,i,new Int32Array(i.length))}static findGuardPattern(t,e,n,i,s){let a=t.getSize();e=n?t.getNextUnset(e):t.getNextSet(e);let c=0,u=e,g=i.length,x=n;for(let w=e;w<a;w++)if(t.get(w)!==x)s[c]++;else{if(c===g-1){if(ue.patternMatchVariance(s,i,se.MAX_INDIVIDUAL_VARIANCE)<se.MAX_AVG_VARIANCE)return Int32Array.from([u,w]);u+=s[0]+s[1];let b=s.slice(2,s.length-1);for(let S=0;S<c-1;S++)s[S]=b[S];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,x=!x}throw new H}static decodeDigit(t,e,n,i){this.recordPattern(t,n,e);let s=this.MAX_AVG_VARIANCE,a=-1,c=i.length;for(let u=0;u<c;u++){let g=i[u],x=ue.patternMatchVariance(e,g,se.MAX_INDIVIDUAL_VARIANCE);x<s&&(s=x,a=u)}if(a>=0)return a;throw new H}}se.MAX_AVG_VARIANCE=.48,se.MAX_INDIVIDUAL_VARIANCE=.7,se.START_END_PATTERN=Int32Array.from([1,1,1]),se.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),se.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),se.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Lr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,e,n){let i=this.decodeRowStringBuffer,s=this.decodeMiddle(e,n,i),a=i.toString(),c=Lr.parseExtensionString(a),u=[new B((n[0]+n[1])/2,t),new B(s,t)],g=new de(a,null,0,u,gt.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&g.putAllMetadata(c),g}decodeMiddle(t,e,n){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let s=t.getSize(),a=e[1],c=0;for(let g=0;g<5&&a<s;g++){let x=se.decodeDigit(t,i,a,se.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+x%10);for(let w of i)a+=w;x>=10&&(c|=1<<4-g),g!==4&&(a=t.getNextSet(a),a=t.getNextUnset(a))}if(n.length!==5)throw new H;let u=this.determineCheckDigit(c);if(Lr.extensionChecksum(n.toString())!==u)throw new H;return a}static extensionChecksum(t){let e=t.length,n=0;for(let i=e-2;i>=0;i-=2)n+=t.charAt(i).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(let i=e-1;i>=0;i-=2)n+=t.charAt(i).charCodeAt(0)-"0".charCodeAt(0);return n*=3,n%10}determineCheckDigit(t){for(let e=0;e<10;e++)if(t===this.CHECK_DIGIT_ENCODINGS[e])return e;throw new H}static parseExtensionString(t){if(t.length!==5)return null;let e=Lr.parseExtension5String(t);return e==null?null:new Map([[Jt.SUGGESTED_PRICE,e]])}static parseExtension5String(t){let e;switch(t.charAt(0)){case"0":e="£";break;case"5":e="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}e="";break;default:e="";break}let n=parseInt(t.substring(1)),i=(n/100).toString(),s=n%100,a=s<10?"0"+s:s.toString();return e+i+"."+a}}class Xn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,e,n){let i=this.decodeRowStringBuffer,s=this.decodeMiddle(e,n,i),a=i.toString(),c=Xn.parseExtensionString(a),u=[new B((n[0]+n[1])/2,t),new B(s,t)],g=new de(a,null,0,u,gt.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&g.putAllMetadata(c),g}decodeMiddle(t,e,n){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let s=t.getSize(),a=e[1],c=0;for(let u=0;u<2&&a<s;u++){let g=se.decodeDigit(t,i,a,se.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+g%10);for(let x of i)a+=x;g>=10&&(c|=1<<1-u),u!==1&&(a=t.getNextSet(a),a=t.getNextUnset(a))}if(n.length!==2)throw new H;if(parseInt(n.toString())%4!==c)throw new H;return a}static parseExtensionString(t){return t.length!==2?null:new Map([[Jt.ISSUE_NUMBER,parseInt(t)]])}}class bs{static decodeRow(t,e,n){let i=se.findGuardPattern(e,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Lr().decodeRow(t,e,i)}catch{return new Xn().decodeRow(t,e,i)}}}bs.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class te extends se{constructor(){super(),this.decodeRowStringBuffer="",te.L_AND_G_PATTERNS=te.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let e=te.L_PATTERNS[t-10],n=new Int32Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[e.length-i-1];te.L_AND_G_PATTERNS[t]=n}}decodeRow(t,e,n){let i=te.findStartGuardPattern(e),s=n==null?null:n.get(wt.NEED_RESULT_POINT_CALLBACK);if(s!=null){const rt=new B((i[0]+i[1])/2,t);s.foundPossibleResultPoint(rt)}let a=this.decodeMiddle(e,i,this.decodeRowStringBuffer),c=a.rowOffset,u=a.resultString;if(s!=null){const rt=new B(c,t);s.foundPossibleResultPoint(rt)}let g=this.decodeEnd(e,c);if(s!=null){const rt=new B((g[0]+g[1])/2,t);s.foundPossibleResultPoint(rt)}let x=g[1],w=x+(x-g[0]);if(w>=e.getSize()||!e.isRange(x,w,!1))throw new H;let b=u.toString();if(b.length<8)throw new q;if(!te.checkChecksum(b))throw new z;let S=(i[1]+i[0])/2,R=(g[1]+g[0])/2,L=this.getBarcodeFormat(),P=[new B(S,t),new B(R,t)],V=new de(b,null,0,P,L,new Date().getTime()),it=0;try{let rt=bs.decodeRow(t,e,g[1]);V.putMetadata(Jt.UPC_EAN_EXTENSION,rt.getText()),V.putAllMetadata(rt.getResultMetadata()),V.addResultPoints(rt.getResultPoints()),it=rt.getText().length}catch{}let st=n==null?null:n.get(wt.ALLOWED_EAN_EXTENSIONS);if(st!=null){let rt=!1;for(let jt in st)if(it.toString()===jt){rt=!0;break}if(!rt)throw new H}return V}decodeEnd(t,e){return te.findGuardPattern(t,e,!1,te.START_END_PATTERN,new Int32Array(te.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return te.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let e=t.length;if(e===0)return!1;let n=parseInt(t.charAt(e-1),10);return te.getStandardUPCEANChecksum(t.substring(0,e-1))===n}static getStandardUPCEANChecksum(t){let e=t.length,n=0;for(let i=e-1;i>=0;i-=2){let s=t.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new q;n+=s}n*=3;for(let i=e-2;i>=0;i-=2){let s=t.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new q;n+=s}return(1e3-n)%10}}class ir extends te{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,e,n){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let s=t.getSize(),a=e[1],c=0;for(let g=0;g<6&&a<s;g++){let x=te.decodeDigit(t,i,a,te.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+x%10);for(let w of i)a+=w;x>=10&&(c|=1<<5-g)}n=ir.determineFirstDigit(n,c),a=te.findGuardPattern(t,a,!0,te.MIDDLE_PATTERN,new Int32Array(te.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&a<s;g++){let x=te.decodeDigit(t,i,a,te.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+x);for(let w of i)a+=w}return{rowOffset:a,resultString:n}}getBarcodeFormat(){return gt.EAN_13}static determineFirstDigit(t,e){for(let n=0;n<10;n++)if(e===this.FIRST_DIGIT_ENCODINGS[n])return t=String.fromCharCode("0".charCodeAt(0)+n)+t,t;throw new H}}ir.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ys extends te{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,e,n){const i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let s=t.getSize(),a=e[1];for(let u=0;u<4&&a<s;u++){let g=te.decodeDigit(t,i,a,te.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+g);for(let x of i)a+=x}a=te.findGuardPattern(t,a,!0,te.MIDDLE_PATTERN,new Int32Array(te.MIDDLE_PATTERN.length).fill(0))[1];for(let u=0;u<4&&a<s;u++){let g=te.decodeDigit(t,i,a,te.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+g);for(let x of i)a+=x}return{rowOffset:a,resultString:n}}getBarcodeFormat(){return gt.EAN_8}}class Ts extends te{constructor(){super(...arguments),this.ean13Reader=new ir}getBarcodeFormat(){return gt.UPC_A}decode(t,e){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,e,n){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,e,n))}decodeMiddle(t,e,n){return this.ean13Reader.decodeMiddle(t,e,n)}maybeReturnResult(t){let e=t.getText();if(e.charAt(0)==="0"){let n=new de(e.substring(1),null,null,t.getResultPoints(),gt.UPC_A);return t.getResultMetadata()!=null&&n.putAllMetadata(t.getResultMetadata()),n}else throw new H}reset(){this.ean13Reader.reset()}}class dn extends te{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,e,n){const i=this.decodeMiddleCounters.map(g=>g);i[0]=0,i[1]=0,i[2]=0,i[3]=0;const s=t.getSize();let a=e[1],c=0;for(let g=0;g<6&&a<s;g++){const x=dn.decodeDigit(t,i,a,dn.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+x%10);for(let w of i)a+=w;x>=10&&(c|=1<<5-g)}let u=dn.determineNumSysAndCheckDigit(n,c);return{rowOffset:a,resultString:u}}decodeEnd(t,e){return dn.findGuardPatternWithoutCounters(t,e,!0,dn.MIDDLE_END_PATTERN)}checkChecksum(t){return te.checkChecksum(dn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,e){for(let n=0;n<=1;n++)for(let i=0;i<10;i++)if(e===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[n][i]){let s=String.fromCharCode("0".charCodeAt(0)+n),a=String.fromCharCode("0".charCodeAt(0)+i);return s+t+a}throw H.getNotFoundInstance()}getBarcodeFormat(){return gt.UPC_E}static convertUPCEtoUPCA(t){const e=t.slice(1,7).split("").map(s=>s.charCodeAt(0)),n=new St;n.append(t.charAt(0));let i=e[5];switch(i){case 0:case 1:case 2:n.appendChars(e,0,2),n.append(i),n.append("0000"),n.appendChars(e,2,3);break;case 3:n.appendChars(e,0,3),n.append("00000"),n.appendChars(e,3,2);break;case 4:n.appendChars(e,0,4),n.append("00000"),n.append(e[4]);break;default:n.appendChars(e,0,5),n.append("0000"),n.append(i);break}return t.length>=8&&n.append(t.charAt(7)),n.toString()}}dn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Hi extends ue{constructor(t){super();let e=t==null?null:t.get(wt.POSSIBLE_FORMATS),n=[];f(e)?(n.push(new ir),n.push(new Ts),n.push(new ys),n.push(new dn)):(e.indexOf(gt.EAN_13)>-1&&n.push(new ir),e.indexOf(gt.UPC_A)>-1&&n.push(new Ts),e.indexOf(gt.EAN_8)>-1&&n.push(new ys),e.indexOf(gt.UPC_E)>-1&&n.push(new dn)),this.readers=n}decodeRow(t,e,n){for(let i of this.readers)try{const s=i.decodeRow(t,e,n),a=s.getBarcodeFormat()===gt.EAN_13&&s.getText().charAt(0)==="0",c=n==null?null:n.get(wt.POSSIBLE_FORMATS),u=c==null||c.includes(gt.UPC_A);if(a&&u){const g=s.getRawBytes(),x=new de(s.getText().substring(1),g,g?g.length:null,s.getResultPoints(),gt.UPC_A);return x.putAllMetadata(s.getResultMetadata()),x}return s}catch{}throw new H}reset(){for(let t of this.readers)t.reset()}}class Pe extends ue{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,e){for(let n=0;n<e.length;n++)if(ue.patternMatchVariance(t,e[n],Pe.MAX_INDIVIDUAL_VARIANCE)<Pe.MAX_AVG_VARIANCE)return n;throw new H}static count(t){return G.sum(new Int32Array(t))}static increment(t,e){let n=0,i=e[0];for(let s=1;s<t.length;s++)e[s]>i&&(i=e[s],n=s);t[n]++}static decrement(t,e){let n=0,i=e[0];for(let s=1;s<t.length;s++)e[s]<i&&(i=e[s],n=s);t[n]--}static isFinderPattern(t){let e=t[0]+t[1],n=e+t[2]+t[3],i=e/n;if(i>=Pe.MIN_FINDER_PATTERN_RATIO&&i<=Pe.MAX_FINDER_PATTERN_RATIO){let s=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(let c of t)c>a&&(a=c),c<s&&(s=c);return a<10*s}return!1}}Pe.MAX_AVG_VARIANCE=.2,Pe.MAX_INDIVIDUAL_VARIANCE=.45,Pe.MIN_FINDER_PATTERN_RATIO=9.5/12,Pe.MAX_FINDER_PATTERN_RATIO=12.5/14;class _r{constructor(t,e){this.value=t,this.checksumPortion=e}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof _r))return!1;const e=t;return this.value===e.value&&this.checksumPortion===e.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ai{constructor(t,e,n,i,s){this.value=t,this.startEnd=e,this.value=t,this.startEnd=e,this.resultPoints=new Array,this.resultPoints.push(new B(n,s)),this.resultPoints.push(new B(i,s))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof ai))return!1;const e=t;return this.value===e.value}hashCode(){return this.value}}class yn{constructor(){}static getRSSvalue(t,e,n){let i=0;for(let u of t)i+=u;let s=0,a=0,c=t.length;for(let u=0;u<c-1;u++){let g;for(g=1,a|=1<<u;g<t[u];g++,a&=~(1<<u)){let x=yn.combins(i-g-1,c-u-2);if(n&&a===0&&i-g-(c-u-1)>=c-u-1&&(x-=yn.combins(i-g-(c-u),c-u-2)),c-u-1>1){let w=0;for(let b=i-g-(c-u-2);b>e;b--)w+=yn.combins(i-g-b-1,c-u-3);x-=w*(c-1-u)}else i-g>e&&x--;s+=x}i-=g}return s}static combins(t,e){let n,i;t-e>e?(i=e,n=t-e):(i=t-e,n=e);let s=1,a=1;for(let c=t;c>n;c--)s*=c,a<=i&&(s/=a,a++);for(;a<=i;)s/=a,a++;return s}}class li{static buildBitArray(t){let e=t.length*2-1;t[t.length-1].getRightChar()==null&&(e-=1);let n=12*e,i=new Q(n),s=0,c=t[0].getRightChar().getValue();for(let u=11;u>=0;--u)c&1<<u&&i.set(s),s++;for(let u=1;u<t.length;++u){let g=t[u],x=g.getLeftChar().getValue();for(let w=11;w>=0;--w)x&1<<w&&i.set(s),s++;if(g.getRightChar()!=null){let w=g.getRightChar().getValue();for(let b=11;b>=0;--b)w&1<<b&&i.set(s),s++}}return i}}class sr{constructor(t,e){e?this.decodedInformation=null:(this.finished=t,this.decodedInformation=e)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Is{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Ae extends Is{constructor(t,e){super(t),this.value=e}getValue(){return this.value}isFNC1(){return this.value===Ae.FNC1}}Ae.FNC1="$";class Yn extends Is{constructor(t,e,n){super(t),n?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=e}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class an extends Is{constructor(t,e,n){if(super(t),e<0||e>10||n<0||n>10)throw new q;this.firstDigit=e,this.secondDigit=n}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===an.FNC1}isSecondDigitFNC1(){return this.secondDigit===an.FNC1}isAnyFNC1(){return this.firstDigit===an.FNC1||this.secondDigit===an.FNC1}}an.FNC1=10;class xt{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new H;let e=t.substring(0,2);for(let s of xt.TWO_DIGIT_DATA_LENGTH)if(s[0]===e)return s[1]===xt.VARIABLE_LENGTH?xt.processVariableAI(2,s[2],t):xt.processFixedAI(2,s[1],t);if(t.length<3)throw new H;let n=t.substring(0,3);for(let s of xt.THREE_DIGIT_DATA_LENGTH)if(s[0]===n)return s[1]===xt.VARIABLE_LENGTH?xt.processVariableAI(3,s[2],t):xt.processFixedAI(3,s[1],t);for(let s of xt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(s[0]===n)return s[1]===xt.VARIABLE_LENGTH?xt.processVariableAI(4,s[2],t):xt.processFixedAI(4,s[1],t);if(t.length<4)throw new H;let i=t.substring(0,4);for(let s of xt.FOUR_DIGIT_DATA_LENGTH)if(s[0]===i)return s[1]===xt.VARIABLE_LENGTH?xt.processVariableAI(4,s[2],t):xt.processFixedAI(4,s[1],t);throw new H}static processFixedAI(t,e,n){if(n.length<t)throw new H;let i=n.substring(0,t);if(n.length<t+e)throw new H;let s=n.substring(t,t+e),a=n.substring(t+e),c="("+i+")"+s,u=xt.parseFieldsInGeneralPurpose(a);return u==null?c:c+u}static processVariableAI(t,e,n){let i=n.substring(0,t),s;n.length<t+e?s=n.length:s=t+e;let a=n.substring(t,s),c=n.substring(s),u="("+i+")"+a,g=xt.parseFieldsInGeneralPurpose(c);return g==null?u:u+g}}xt.VARIABLE_LENGTH=[],xt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",xt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",xt.VARIABLE_LENGTH,20],["22",xt.VARIABLE_LENGTH,29],["30",xt.VARIABLE_LENGTH,8],["37",xt.VARIABLE_LENGTH,8],["90",xt.VARIABLE_LENGTH,30],["91",xt.VARIABLE_LENGTH,30],["92",xt.VARIABLE_LENGTH,30],["93",xt.VARIABLE_LENGTH,30],["94",xt.VARIABLE_LENGTH,30],["95",xt.VARIABLE_LENGTH,30],["96",xt.VARIABLE_LENGTH,30],["97",xt.VARIABLE_LENGTH,3],["98",xt.VARIABLE_LENGTH,30],["99",xt.VARIABLE_LENGTH,30]],xt.THREE_DIGIT_DATA_LENGTH=[["240",xt.VARIABLE_LENGTH,30],["241",xt.VARIABLE_LENGTH,30],["242",xt.VARIABLE_LENGTH,6],["250",xt.VARIABLE_LENGTH,30],["251",xt.VARIABLE_LENGTH,30],["253",xt.VARIABLE_LENGTH,17],["254",xt.VARIABLE_LENGTH,20],["400",xt.VARIABLE_LENGTH,30],["401",xt.VARIABLE_LENGTH,30],["402",17],["403",xt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",xt.VARIABLE_LENGTH,20],["421",xt.VARIABLE_LENGTH,15],["422",3],["423",xt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],xt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",xt.VARIABLE_LENGTH,15],["391",xt.VARIABLE_LENGTH,18],["392",xt.VARIABLE_LENGTH,15],["393",xt.VARIABLE_LENGTH,18],["703",xt.VARIABLE_LENGTH,30]],xt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",xt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",xt.VARIABLE_LENGTH,20],["8003",xt.VARIABLE_LENGTH,30],["8004",xt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",xt.VARIABLE_LENGTH,30],["8008",xt.VARIABLE_LENGTH,12],["8018",18],["8020",xt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",xt.VARIABLE_LENGTH,70],["8200",xt.VARIABLE_LENGTH,70]];class Ar{constructor(t){this.buffer=new St,this.information=t}decodeAllCodes(t,e){let n=e,i=null;do{let s=this.decodeGeneralPurposeField(n,i),a=xt.parseFieldsInGeneralPurpose(s.getNewString());if(a!=null&&t.append(a),s.isRemaining()?i=""+s.getRemainingValue():i=null,n===s.getNewPosition())break;n=s.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let e=t;e<t+3;++e)if(this.information.get(e))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let s=this.extractNumericValueFromBitArray(t,4);return s===0?new an(this.information.getSize(),an.FNC1,an.FNC1):new an(this.information.getSize(),s-1,an.FNC1)}let e=this.extractNumericValueFromBitArray(t,7),n=(e-8)/11,i=(e-8)%11;return new an(t+7,n,i)}extractNumericValueFromBitArray(t,e){return Ar.extractNumericValueFromBitArray(this.information,t,e)}static extractNumericValueFromBitArray(t,e,n){let i=0;for(let s=0;s<n;++s)t.get(e+s)&&(i|=1<<n-s-1);return i}decodeGeneralPurposeField(t,e){this.buffer.setLengthToZero(),e!=null&&this.buffer.append(e),this.current.setPosition(t);let n=this.parseBlocks();return n!=null&&n.isRemaining()?new Yn(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Yn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,e;do{let n=this.current.getPosition();if(this.current.isAlpha()?(e=this.parseAlphaBlock(),t=e.isFinished()):this.current.isIsoIec646()?(e=this.parseIsoIec646Block(),t=e.isFinished()):(e=this.parseNumericBlock(),t=e.isFinished()),!(n!==this.current.getPosition())&&!t)break}while(!t);return e.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let e;return t.isSecondDigitFNC1()?e=new Yn(this.current.getPosition(),this.buffer.toString()):e=new Yn(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new sr(!0,e)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let e=new Yn(this.current.getPosition(),this.buffer.toString());return new sr(!0,e)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new sr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let e=new Yn(this.current.getPosition(),this.buffer.toString());return new sr(!0,e)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new sr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let e=new Yn(this.current.getPosition(),this.buffer.toString());return new sr(!0,e)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new sr(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let e=this.extractNumericValueFromBitArray(t,5);if(e>=5&&e<16)return!0;if(t+7>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(t,7);if(n>=64&&n<116)return!0;if(t+8>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,8);return i>=232&&i<253}decodeIsoIec646(t){let e=this.extractNumericValueFromBitArray(t,5);if(e===15)return new Ae(t+5,Ae.FNC1);if(e>=5&&e<15)return new Ae(t+5,"0"+(e-5));let n=this.extractNumericValueFromBitArray(t,7);if(n>=64&&n<90)return new Ae(t+7,""+(n+1));if(n>=90&&n<116)return new Ae(t+7,""+(n+7));let i=this.extractNumericValueFromBitArray(t,8),s;switch(i){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new q}return new Ae(t+8,s)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let e=this.extractNumericValueFromBitArray(t,5);if(e>=5&&e<16)return!0;if(t+6>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(t,6);return n>=16&&n<63}decodeAlphanumeric(t){let e=this.extractNumericValueFromBitArray(t,5);if(e===15)return new Ae(t+5,Ae.FNC1);if(e>=5&&e<15)return new Ae(t+5,"0"+(e-5));let n=this.extractNumericValueFromBitArray(t,6);if(n>=32&&n<58)return new Ae(t+6,""+(n+33));let i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Y("Decoding invalid alphanumeric value: "+n)}return new Ae(t+6,i)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let e=0;e<5&&e+t<this.information.getSize();++e)if(e===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+e))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let e=t;e<t+3;++e)if(this.information.get(e))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let e=0;e<4&&e+t<this.information.getSize();++e)if(this.information.get(t+e))return!1;return!0}}class or{constructor(t){this.information=t,this.generalDecoder=new Ar(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ye extends or{constructor(t){super(t)}encodeCompressedGtin(t,e){t.append("(01)");let n=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,e,n)}encodeCompressedGtinWithoutAI(t,e,n){for(let i=0;i<4;++i){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(e+10*i,10);s/100===0&&t.append("0"),s/10===0&&t.append("0"),t.append(s)}ye.appendCheckDigit(t,n)}static appendCheckDigit(t,e){let n=0;for(let i=0;i<13;i++){let s=t.charAt(i+e).charCodeAt(0)-"0".charCodeAt(0);n+=i&1?s:3*s}n=10-n%10,n===10&&(n=0),t.append(n)}}ye.GTIN_SIZE=40;class gn extends ye{constructor(t){super(t)}parseInformation(){let t=new St;t.append("(01)");let e=t.length(),n=this.getGeneralDecoder().extractNumericValueFromBitArray(gn.HEADER_SIZE,4);return t.append(n),this.encodeCompressedGtinWithoutAI(t,gn.HEADER_SIZE+4,e),this.getGeneralDecoder().decodeAllCodes(t,gn.HEADER_SIZE+44)}}gn.HEADER_SIZE=1+1+2;class ar extends or{constructor(t){super(t)}parseInformation(){let t=new St;return this.getGeneralDecoder().decodeAllCodes(t,ar.HEADER_SIZE)}}ar.HEADER_SIZE=2+1+2;class ci extends ye{constructor(t){super(t)}encodeCompressedWeight(t,e,n){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(e,n);this.addWeightCode(t,i);let s=this.checkWeight(i),a=1e5;for(let c=0;c<5;++c)s/a===0&&t.append("0"),a/=10;t.append(s)}}class ln extends ci{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=ln.HEADER_SIZE+ci.GTIN_SIZE+ln.WEIGHT_SIZE)throw new H;let t=new St;return this.encodeCompressedGtin(t,ln.HEADER_SIZE),this.encodeCompressedWeight(t,ln.HEADER_SIZE+ci.GTIN_SIZE,ln.WEIGHT_SIZE),t.toString()}}ln.HEADER_SIZE=4+1,ln.WEIGHT_SIZE=15;class Mo extends ln{constructor(t){super(t)}addWeightCode(t,e){t.append("(3103)")}checkWeight(t){return t}}class Lo extends ln{constructor(t){super(t)}addWeightCode(t,e){e<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Tn extends ye{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Tn.HEADER_SIZE+ye.GTIN_SIZE)throw new H;let t=new St;this.encodeCompressedGtin(t,Tn.HEADER_SIZE);let e=this.getGeneralDecoder().extractNumericValueFromBitArray(Tn.HEADER_SIZE+ye.GTIN_SIZE,Tn.LAST_DIGIT_SIZE);t.append("(392"),t.append(e),t.append(")");let n=this.getGeneralDecoder().decodeGeneralPurposeField(Tn.HEADER_SIZE+ye.GTIN_SIZE+Tn.LAST_DIGIT_SIZE,null);return t.append(n.getNewString()),t.toString()}}Tn.HEADER_SIZE=5+1+2,Tn.LAST_DIGIT_SIZE=2;class Ge extends ye{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Ge.HEADER_SIZE+ye.GTIN_SIZE)throw new H;let t=new St;this.encodeCompressedGtin(t,Ge.HEADER_SIZE);let e=this.getGeneralDecoder().extractNumericValueFromBitArray(Ge.HEADER_SIZE+ye.GTIN_SIZE,Ge.LAST_DIGIT_SIZE);t.append("(393"),t.append(e),t.append(")");let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Ge.HEADER_SIZE+ye.GTIN_SIZE+Ge.LAST_DIGIT_SIZE,Ge.FIRST_THREE_DIGITS_SIZE);n/100==0&&t.append("0"),n/10==0&&t.append("0"),t.append(n);let i=this.getGeneralDecoder().decodeGeneralPurposeField(Ge.HEADER_SIZE+ye.GTIN_SIZE+Ge.LAST_DIGIT_SIZE+Ge.FIRST_THREE_DIGITS_SIZE,null);return t.append(i.getNewString()),t.toString()}}Ge.HEADER_SIZE=5+1+2,Ge.LAST_DIGIT_SIZE=2,Ge.FIRST_THREE_DIGITS_SIZE=10;class ge extends ci{constructor(t,e,n){super(t),this.dateCode=n,this.firstAIdigits=e}parseInformation(){if(this.getInformation().getSize()!=ge.HEADER_SIZE+ge.GTIN_SIZE+ge.WEIGHT_SIZE+ge.DATE_SIZE)throw new H;let t=new St;return this.encodeCompressedGtin(t,ge.HEADER_SIZE),this.encodeCompressedWeight(t,ge.HEADER_SIZE+ge.GTIN_SIZE,ge.WEIGHT_SIZE),this.encodeCompressedDate(t,ge.HEADER_SIZE+ge.GTIN_SIZE+ge.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,e){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(e,ge.DATE_SIZE);if(n==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let i=n%32;n/=32;let s=n%12+1;n/=12;let a=n;a/10==0&&t.append("0"),t.append(a),s/10==0&&t.append("0"),t.append(s),i/10==0&&t.append("0"),t.append(i)}addWeightCode(t,e){t.append("("),t.append(this.firstAIdigits),t.append(e/1e5),t.append(")")}checkWeight(t){return t%1e5}}ge.HEADER_SIZE=7+1,ge.WEIGHT_SIZE=20,ge.DATE_SIZE=16;function Ss(_){try{if(_.get(1))return new gn(_);if(!_.get(2))return new ar(_);switch(Ar.extractNumericValueFromBitArray(_,1,4)){case 4:return new Mo(_);case 5:return new Lo(_)}switch(Ar.extractNumericValueFromBitArray(_,1,5)){case 12:return new Tn(_);case 13:return new Ge(_)}switch(Ar.extractNumericValueFromBitArray(_,1,7)){case 56:return new ge(_,"310","11");case 57:return new ge(_,"320","11");case 58:return new ge(_,"310","13");case 59:return new ge(_,"320","13");case 60:return new ge(_,"310","15");case 61:return new ge(_,"320","15");case 62:return new ge(_,"310","17");case 63:return new ge(_,"320","17")}}catch(t){throw console.log(t),new Y("unknown decoder: "+_)}}class Bn{constructor(t,e,n,i){this.leftchar=t,this.rightchar=e,this.finderpattern=n,this.maybeLast=i}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,e){return t instanceof Bn?Bn.equalsOrNull(t.leftchar,e.leftchar)&&Bn.equalsOrNull(t.rightchar,e.rightchar)&&Bn.equalsOrNull(t.finderpattern,e.finderpattern):!1}static equalsOrNull(t,e){return t===null?e===null:Bn.equals(t,e)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Cr{constructor(t,e,n){this.pairs=t,this.rowNumber=e,this.wasReversed=n}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,e){return t instanceof Cr?this.checkEqualitity(t,e)&&t.wasReversed===e.wasReversed:!1}checkEqualitity(t,e){if(!t||!e)return;let n;return t.forEach((i,s)=>{e.forEach(a=>{i.getLeftChar().getValue()===a.getLeftChar().getValue()&&i.getRightChar().getValue()===a.getRightChar().getValue()&&i.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(n=!0)})}),n}}class et extends Pe{constructor(t){super(...arguments),this.pairs=new Array(et.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,e,n){this.pairs.length=0,this.startFromEven=!1;try{return et.constructResult(this.decodeRow2pairs(t,e))}catch(i){this.verbose&&console.log(i)}return this.pairs.length=0,this.startFromEven=!0,et.constructResult(this.decodeRow2pairs(t,e))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,e){let n=!1;for(;!n;)try{this.pairs.push(this.retrieveNextPair(e,this.pairs,t))}catch(s){if(s instanceof H){if(!this.pairs.length)throw new H;n=!0}}if(this.checkChecksum())return this.pairs;let i;if(this.rows.length?i=!0:i=!1,this.storeRow(t,!1),i){let s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new H}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let e=null;try{e=this.checkRows(new Array,0)}catch(n){this.verbose&&console.log(n)}return t&&(this.rows=this.rows.reverse()),e}checkRows(t,e){for(let n=e;n<this.rows.length;n++){let i=this.rows[n];this.pairs.length=0;for(let a of t)this.pairs.push(a.getPairs());if(this.pairs.push(i.getPairs()),!et.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let s=new Array(t);s.push(i);try{return this.checkRows(s,n+1)}catch(a){this.verbose&&console.log(a)}}throw new H}static isValidSequence(t){for(let e of et.FINDER_PATTERN_SEQUENCES){if(t.length>e.length)continue;let n=!0;for(let i=0;i<t.length;i++)if(t[i].getFinderPattern().getValue()!=e[i]){n=!1;break}if(n)return!0}return!1}storeRow(t,e){let n=0,i=!1,s=!1;for(;n<this.rows.length;){let a=this.rows[n];if(a.getRowNumber()>t){s=a.isEquivalent(this.pairs);break}i=a.isEquivalent(this.pairs),n++}s||i||et.isPartialRow(this.pairs,this.rows)||(this.rows.push(n,new Cr(this.pairs,t,e)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,e){for(let n of e)if(n.getPairs().length!==t.length){for(let i of n.getPairs())for(let s of t)if(Bn.equals(i,s))break}}static isPartialRow(t,e){for(let n of e){let i=!0;for(let s of t){let a=!1;for(let c of n.getPairs())if(s.equals(c)){a=!0;break}if(!a){i=!1;break}}if(i)return!0}return!1}getRows(){return this.rows}static constructResult(t){let e=li.buildBitArray(t),i=Ss(e).parseInformation(),s=t[0].getFinderPattern().getResultPoints(),a=t[t.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],a[0],a[1]];return new de(i,null,null,c,gt.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),e=t.getLeftChar(),n=t.getRightChar();if(n==null)return!1;let i=n.getChecksumPortion(),s=2;for(let c=1;c<this.pairs.size();++c){let u=this.pairs.get(c);i+=u.getLeftChar().getChecksumPortion(),s++;let g=u.getRightChar();g!=null&&(i+=g.getChecksumPortion(),s++)}return i%=211,211*(s-4)+i==e.getValue()}static getNextSecondBar(t,e){let n;return t.get(e)?(n=t.getNextUnset(e),n=t.getNextSet(n)):(n=t.getNextSet(e),n=t.getNextUnset(n)),n}retrieveNextPair(t,e,n){let i=e.length%2==0;this.startFromEven&&(i=!i);let s,a=!0,c=-1;do this.findNextPair(t,e,c),s=this.parseFoundFinderPattern(t,n,i),s==null?c=et.getNextSecondBar(t,this.startEnd[0]):a=!1;while(a);let u=this.decodeDataCharacter(t,s,i,!0);if(!this.isEmptyPair(e)&&e[e.length-1].mustBeLast())throw new H;let g;try{g=this.decodeDataCharacter(t,s,i,!1)}catch(x){g=null,this.verbose&&console.log(x)}return new Bn(u,g,s,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,e,n){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let s=t.getSize(),a;n>=0?a=n:this.isEmptyPair(e)?a=0:a=e[e.length-1].getFinderPattern().getStartEnd()[1];let c=e.length%2!=0;this.startFromEven&&(c=!c);let u=!1;for(;a<s&&(u=!t.get(a),!!u);)a++;let g=0,x=a;for(let w=a;w<s;w++)if(t.get(w)!=u)i[g]++;else{if(g==3){if(c&&et.reverseCounters(i),et.isFinderPattern(i)){this.startEnd[0]=x,this.startEnd[1]=w;return}c&&et.reverseCounters(i),x+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,g--}else g++;i[g]=1,u=!u}throw new H}static reverseCounters(t){let e=t.length;for(let n=0;n<e/2;++n){let i=t[n];t[n]=t[e-n-1],t[e-n-1]=i}}parseFoundFinderPattern(t,e,n){let i,s,a;if(n){let g=this.startEnd[0]-1;for(;g>=0&&!t.get(g);)g--;g++,i=this.startEnd[0]-g,s=g,a=this.startEnd[1]}else s=this.startEnd[0],a=t.getNextUnset(this.startEnd[1]+1),i=a-this.startEnd[1];let c=this.getDecodeFinderCounters();J.arraycopy(c,0,c,1,c.length-1),c[0]=i;let u;try{u=this.parseFinderValue(c,et.FINDER_PATTERNS)}catch{return null}return new ai(u,[s,a],s,a,e)}decodeDataCharacter(t,e,n,i){let s=this.getDataCharacterCounters();for(let ce=0;ce<s.length;ce++)s[ce]=0;if(i)et.recordPatternInReverse(t,e.getStartEnd()[0],s);else{et.recordPattern(t,e.getStartEnd()[1],s);for(let ce=0,Re=s.length-1;ce<Re;ce++,Re--){let en=s[ce];s[ce]=s[Re],s[Re]=en}}let a=17,c=G.sum(new Int32Array(s))/a,u=(e.getStartEnd()[1]-e.getStartEnd()[0])/15;if(Math.abs(c-u)/u>.3)throw new H;let g=this.getOddCounts(),x=this.getEvenCounts(),w=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let ce=0;ce<s.length;ce++){let Re=1*s[ce]/c,en=Re+.5;if(en<1){if(Re<.3)throw new H;en=1}else if(en>8){if(Re>8.7)throw new H;en=8}let Tr=ce/2;ce&1?(x[Tr]=en,b[Tr]=Re-en):(g[Tr]=en,w[Tr]=Re-en)}this.adjustOddEvenCounts(a);let S=4*e.getValue()+(n?0:2)+(i?0:1)-1,R=0,L=0;for(let ce=g.length-1;ce>=0;ce--){if(et.isNotA1left(e,n,i)){let Re=et.WEIGHTS[S][2*ce];L+=g[ce]*Re}R+=g[ce]}let P=0;for(let ce=x.length-1;ce>=0;ce--)if(et.isNotA1left(e,n,i)){let Re=et.WEIGHTS[S][2*ce+1];P+=x[ce]*Re}let V=L+P;if(R&1||R>13||R<4)throw new H;let it=(13-R)/2,st=et.SYMBOL_WIDEST[it],rt=9-st,jt=yn.getRSSvalue(g,st,!0),Ft=yn.getRSSvalue(x,rt,!1),Ke=et.EVEN_TOTAL_SUBSET[it],mn=et.GSUM[it],Ze=jt*Ke+Ft+mn;return new _r(Ze,V)}static isNotA1left(t,e,n){return!(t.getValue()==0&&e&&n)}adjustOddEvenCounts(t){let e=G.sum(new Int32Array(this.getOddCounts())),n=G.sum(new Int32Array(this.getEvenCounts())),i=!1,s=!1;e>13?s=!0:e<4&&(i=!0);let a=!1,c=!1;n>13?c=!0:n<4&&(a=!0);let u=e+n-t,g=(e&1)==1,x=(n&1)==0;if(u==1)if(g){if(x)throw new H;s=!0}else{if(!x)throw new H;c=!0}else if(u==-1)if(g){if(x)throw new H;i=!0}else{if(!x)throw new H;a=!0}else if(u==0){if(g){if(!x)throw new H;e<n?(i=!0,c=!0):(s=!0,a=!0)}else if(x)throw new H}else throw new H;if(i){if(s)throw new H;et.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&et.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(c)throw new H;et.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&et.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}et.SYMBOL_WIDEST=[7,5,4,3,1],et.EVEN_TOTAL_SUBSET=[4,20,52,104,204],et.GSUM=[0,348,1388,2948,3988],et.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],et.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],et.FINDER_PAT_A=0,et.FINDER_PAT_B=1,et.FINDER_PAT_C=2,et.FINDER_PAT_D=3,et.FINDER_PAT_E=4,et.FINDER_PAT_F=5,et.FINDER_PATTERN_SEQUENCES=[[et.FINDER_PAT_A,et.FINDER_PAT_A],[et.FINDER_PAT_A,et.FINDER_PAT_B,et.FINDER_PAT_B],[et.FINDER_PAT_A,et.FINDER_PAT_C,et.FINDER_PAT_B,et.FINDER_PAT_D],[et.FINDER_PAT_A,et.FINDER_PAT_E,et.FINDER_PAT_B,et.FINDER_PAT_D,et.FINDER_PAT_C],[et.FINDER_PAT_A,et.FINDER_PAT_E,et.FINDER_PAT_B,et.FINDER_PAT_D,et.FINDER_PAT_D,et.FINDER_PAT_F],[et.FINDER_PAT_A,et.FINDER_PAT_E,et.FINDER_PAT_B,et.FINDER_PAT_D,et.FINDER_PAT_E,et.FINDER_PAT_F,et.FINDER_PAT_F],[et.FINDER_PAT_A,et.FINDER_PAT_A,et.FINDER_PAT_B,et.FINDER_PAT_B,et.FINDER_PAT_C,et.FINDER_PAT_C,et.FINDER_PAT_D,et.FINDER_PAT_D],[et.FINDER_PAT_A,et.FINDER_PAT_A,et.FINDER_PAT_B,et.FINDER_PAT_B,et.FINDER_PAT_C,et.FINDER_PAT_C,et.FINDER_PAT_D,et.FINDER_PAT_E,et.FINDER_PAT_E],[et.FINDER_PAT_A,et.FINDER_PAT_A,et.FINDER_PAT_B,et.FINDER_PAT_B,et.FINDER_PAT_C,et.FINDER_PAT_C,et.FINDER_PAT_D,et.FINDER_PAT_E,et.FINDER_PAT_F,et.FINDER_PAT_F],[et.FINDER_PAT_A,et.FINDER_PAT_A,et.FINDER_PAT_B,et.FINDER_PAT_B,et.FINDER_PAT_C,et.FINDER_PAT_D,et.FINDER_PAT_D,et.FINDER_PAT_E,et.FINDER_PAT_E,et.FINDER_PAT_F,et.FINDER_PAT_F]],et.MAX_PAIRS=11;class Bo extends _r{constructor(t,e,n){super(t,e),this.count=0,this.finderPattern=n}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class _e extends Pe{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,e,n){const i=this.decodePair(e,!1,t,n);_e.addOrTally(this.possibleLeftPairs,i),e.reverse();let s=this.decodePair(e,!0,t,n);_e.addOrTally(this.possibleRightPairs,s),e.reverse();for(let a of this.possibleLeftPairs)if(a.getCount()>1){for(let c of this.possibleRightPairs)if(c.getCount()>1&&_e.checkChecksum(a,c))return _e.constructResult(a,c)}throw new H}static addOrTally(t,e){if(e==null)return;let n=!1;for(let i of t)if(i.getValue()===e.getValue()){i.incrementCount(),n=!0;break}n||t.push(e)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,e){let n=4537077*t.getValue()+e.getValue(),i=new String(n).toString(),s=new St;for(let g=13-i.length;g>0;g--)s.append("0");s.append(i);let a=0;for(let g=0;g<13;g++){let x=s.charAt(g).charCodeAt(0)-"0".charCodeAt(0);a+=g&1?x:3*x}a=10-a%10,a===10&&(a=0),s.append(a.toString());let c=t.getFinderPattern().getResultPoints(),u=e.getFinderPattern().getResultPoints();return new de(s.toString(),null,0,[c[0],c[1],u[0],u[1]],gt.RSS_14,new Date().getTime())}static checkChecksum(t,e){let n=(t.getChecksumPortion()+16*e.getChecksumPortion())%79,i=9*t.getFinderPattern().getValue()+e.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,n===i}decodePair(t,e,n,i){try{let s=this.findFinderPattern(t,e),a=this.parseFoundFinderPattern(t,n,e,s),c=i==null?null:i.get(wt.NEED_RESULT_POINT_CALLBACK);if(c!=null){let x=(s[0]+s[1])/2;e&&(x=t.getSize()-1-x),c.foundPossibleResultPoint(new B(x,n))}let u=this.decodeDataCharacter(t,a,!0),g=this.decodeDataCharacter(t,a,!1);return new Bo(1597*u.getValue()+g.getValue(),u.getChecksumPortion()+4*g.getChecksumPortion(),a)}catch{return null}}decodeDataCharacter(t,e,n){let i=this.getDataCharacterCounters();for(let P=0;P<i.length;P++)i[P]=0;if(n)ue.recordPatternInReverse(t,e.getStartEnd()[0],i);else{ue.recordPattern(t,e.getStartEnd()[1]+1,i);for(let P=0,V=i.length-1;P<V;P++,V--){let it=i[P];i[P]=i[V],i[V]=it}}let s=n?16:15,a=G.sum(new Int32Array(i))/s,c=this.getOddCounts(),u=this.getEvenCounts(),g=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors();for(let P=0;P<i.length;P++){let V=i[P]/a,it=Math.floor(V+.5);it<1?it=1:it>8&&(it=8);let st=Math.floor(P/2);P&1?(u[st]=it,x[st]=V-it):(c[st]=it,g[st]=V-it)}this.adjustOddEvenCounts(n,s);let w=0,b=0;for(let P=c.length-1;P>=0;P--)b*=9,b+=c[P],w+=c[P];let S=0,R=0;for(let P=u.length-1;P>=0;P--)S*=9,S+=u[P],R+=u[P];let L=b+3*S;if(n){if(w&1||w>12||w<4)throw new H;let P=(12-w)/2,V=_e.OUTSIDE_ODD_WIDEST[P],it=9-V,st=yn.getRSSvalue(c,V,!1),rt=yn.getRSSvalue(u,it,!0),jt=_e.OUTSIDE_EVEN_TOTAL_SUBSET[P],Ft=_e.OUTSIDE_GSUM[P];return new _r(st*jt+rt+Ft,L)}else{if(R&1||R>10||R<4)throw new H;let P=(10-R)/2,V=_e.INSIDE_ODD_WIDEST[P],it=9-V,st=yn.getRSSvalue(c,V,!0),rt=yn.getRSSvalue(u,it,!1),jt=_e.INSIDE_ODD_TOTAL_SUBSET[P],Ft=_e.INSIDE_GSUM[P];return new _r(rt*jt+st+Ft,L)}}findFinderPattern(t,e){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=t.getSize(),s=!1,a=0;for(;a<i&&(s=!t.get(a),e!==s);)a++;let c=0,u=a;for(let g=a;g<i;g++)if(t.get(g)!==s)n[c]++;else{if(c===3){if(Pe.isFinderPattern(n))return[u,g];u+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,c--}else c++;n[c]=1,s=!s}throw new H}parseFoundFinderPattern(t,e,n,i){let s=t.get(i[0]),a=i[0]-1;for(;a>=0&&s!==t.get(a);)a--;a++;const c=i[0]-a,u=this.getDecodeFinderCounters(),g=new Int32Array(u.length);J.arraycopy(u,0,g,1,u.length-1),g[0]=c;const x=this.parseFinderValue(g,_e.FINDER_PATTERNS);let w=a,b=i[1];return n&&(w=t.getSize()-1-w,b=t.getSize()-1-b),new ai(x,[a,i[1]],w,b,e)}adjustOddEvenCounts(t,e){let n=G.sum(new Int32Array(this.getOddCounts())),i=G.sum(new Int32Array(this.getEvenCounts())),s=!1,a=!1,c=!1,u=!1;t?(n>12?a=!0:n<4&&(s=!0),i>12?u=!0:i<4&&(c=!0)):(n>11?a=!0:n<5&&(s=!0),i>10?u=!0:i<4&&(c=!0));let g=n+i-e,x=(n&1)===(t?1:0),w=(i&1)===1;if(g===1)if(x){if(w)throw new H;a=!0}else{if(!w)throw new H;u=!0}else if(g===-1)if(x){if(w)throw new H;s=!0}else{if(!w)throw new H;c=!0}else if(g===0){if(x){if(!w)throw new H;n<i?(s=!0,u=!0):(a=!0,c=!0)}else if(w)throw new H}else throw new H;if(s){if(a)throw new H;Pe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&Pe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new H;Pe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&Pe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}_e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],_e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],_e.OUTSIDE_GSUM=[0,161,961,2015,2715],_e.INSIDE_GSUM=[0,336,1036,1516],_e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],_e.INSIDE_ODD_WIDEST=[2,4,6,8],_e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class br extends ue{constructor(t,e){super(),this.readers=[],this.verbose=e===!0;const n=t?t.get(wt.POSSIBLE_FORMATS):null,i=t&&t.get(wt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;n?((n.includes(gt.EAN_13)||n.includes(gt.UPC_A)||n.includes(gt.EAN_8)||n.includes(gt.UPC_E))&&this.readers.push(new Hi(t)),n.includes(gt.CODE_39)&&this.readers.push(new Kt(i)),n.includes(gt.CODE_128)&&this.readers.push(new ct),n.includes(gt.ITF)&&this.readers.push(new Xt),n.includes(gt.RSS_14)&&this.readers.push(new _e),n.includes(gt.RSS_EXPANDED)&&this.readers.push(new et(this.verbose))):(this.readers.push(new Hi(t)),this.readers.push(new Kt),this.readers.push(new Hi(t)),this.readers.push(new ct),this.readers.push(new Xt),this.readers.push(new _e),this.readers.push(new et(this.verbose)))}decodeRow(t,e,n){for(let i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(t,e,n)}catch{}throw new H}reset(){this.readers.forEach(t=>t.reset())}}class Po extends He{constructor(t=500,e){super(new br(e),t,e)}}class ee{constructor(t,e,n){this.ecCodewords=t,this.ecBlocks=[e],n&&this.ecBlocks.push(n)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Qt{constructor(t,e){this.count=t,this.dataCodewords=e}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class zt{constructor(t,e,n,i,s,a){this.versionNumber=t,this.symbolSizeRows=e,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=s,this.ecBlocks=a;let c=0;const u=a.getECCodewords(),g=a.getECBlocks();for(let x of g)c+=x.getCount()*(x.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,e){if(t&1||e&1)throw new q;for(let n of zt.VERSIONS)if(n.symbolSizeRows===t&&n.symbolSizeColumns===e)return n;throw new q}toString(){return""+this.versionNumber}static buildVersions(){return[new zt(1,10,10,8,8,new ee(5,new Qt(1,3))),new zt(2,12,12,10,10,new ee(7,new Qt(1,5))),new zt(3,14,14,12,12,new ee(10,new Qt(1,8))),new zt(4,16,16,14,14,new ee(12,new Qt(1,12))),new zt(5,18,18,16,16,new ee(14,new Qt(1,18))),new zt(6,20,20,18,18,new ee(18,new Qt(1,22))),new zt(7,22,22,20,20,new ee(20,new Qt(1,30))),new zt(8,24,24,22,22,new ee(24,new Qt(1,36))),new zt(9,26,26,24,24,new ee(28,new Qt(1,44))),new zt(10,32,32,14,14,new ee(36,new Qt(1,62))),new zt(11,36,36,16,16,new ee(42,new Qt(1,86))),new zt(12,40,40,18,18,new ee(48,new Qt(1,114))),new zt(13,44,44,20,20,new ee(56,new Qt(1,144))),new zt(14,48,48,22,22,new ee(68,new Qt(1,174))),new zt(15,52,52,24,24,new ee(42,new Qt(2,102))),new zt(16,64,64,14,14,new ee(56,new Qt(2,140))),new zt(17,72,72,16,16,new ee(36,new Qt(4,92))),new zt(18,80,80,18,18,new ee(48,new Qt(4,114))),new zt(19,88,88,20,20,new ee(56,new Qt(4,144))),new zt(20,96,96,22,22,new ee(68,new Qt(4,174))),new zt(21,104,104,24,24,new ee(56,new Qt(6,136))),new zt(22,120,120,18,18,new ee(68,new Qt(6,175))),new zt(23,132,132,20,20,new ee(62,new Qt(8,163))),new zt(24,144,144,22,22,new ee(62,new Qt(8,156),new Qt(2,155))),new zt(25,8,18,6,16,new ee(7,new Qt(1,5))),new zt(26,8,32,6,14,new ee(11,new Qt(1,10))),new zt(27,12,26,10,24,new ee(14,new Qt(1,16))),new zt(28,12,36,10,16,new ee(18,new Qt(1,22))),new zt(29,16,36,14,16,new ee(24,new Qt(1,32))),new zt(30,16,48,14,22,new ee(28,new Qt(1,49)))]}}zt.VERSIONS=zt.buildVersions();class Wi{constructor(t){const e=t.getHeight();if(e<8||e>144||e&1)throw new q;this.version=Wi.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new re(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const e=t.getHeight(),n=t.getWidth();return zt.getVersionForDimensions(e,n)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let e=0,n=4,i=0;const s=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth();let c=!1,u=!1,g=!1,x=!1;do if(n===s&&i===0&&!c)t[e++]=this.readCorner1(s,a)&255,n-=2,i+=2,c=!0;else if(n===s-2&&i===0&&a&3&&!u)t[e++]=this.readCorner2(s,a)&255,n-=2,i+=2,u=!0;else if(n===s+4&&i===2&&!(a&7)&&!g)t[e++]=this.readCorner3(s,a)&255,n-=2,i+=2,g=!0;else if(n===s-2&&i===0&&(a&7)===4&&!x)t[e++]=this.readCorner4(s,a)&255,n-=2,i+=2,x=!0;else{do n<s&&i>=0&&!this.readMappingMatrix.get(i,n)&&(t[e++]=this.readUtah(n,i,s,a)&255),n-=2,i+=2;while(n>=0&&i<a);n+=1,i+=3;do n>=0&&i<a&&!this.readMappingMatrix.get(i,n)&&(t[e++]=this.readUtah(n,i,s,a)&255),n+=2,i-=2;while(n<s&&i>=0);n+=3,i+=1}while(n<s||i<a);if(e!==this.version.getTotalCodewords())throw new q;return t}readModule(t,e,n,i){return t<0&&(t+=n,e+=4-(n+4&7)),e<0&&(e+=i,t+=4-(i+4&7)),this.readMappingMatrix.set(e,t),this.mappingBitMatrix.get(e,t)}readUtah(t,e,n,i){let s=0;return this.readModule(t-2,e-2,n,i)&&(s|=1),s<<=1,this.readModule(t-2,e-1,n,i)&&(s|=1),s<<=1,this.readModule(t-1,e-2,n,i)&&(s|=1),s<<=1,this.readModule(t-1,e-1,n,i)&&(s|=1),s<<=1,this.readModule(t-1,e,n,i)&&(s|=1),s<<=1,this.readModule(t,e-2,n,i)&&(s|=1),s<<=1,this.readModule(t,e-1,n,i)&&(s|=1),s<<=1,this.readModule(t,e,n,i)&&(s|=1),s}readCorner1(t,e){let n=0;return this.readModule(t-1,0,t,e)&&(n|=1),n<<=1,this.readModule(t-1,1,t,e)&&(n|=1),n<<=1,this.readModule(t-1,2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-1,t,e)&&(n|=1),n<<=1,this.readModule(1,e-1,t,e)&&(n|=1),n<<=1,this.readModule(2,e-1,t,e)&&(n|=1),n<<=1,this.readModule(3,e-1,t,e)&&(n|=1),n}readCorner2(t,e){let n=0;return this.readModule(t-3,0,t,e)&&(n|=1),n<<=1,this.readModule(t-2,0,t,e)&&(n|=1),n<<=1,this.readModule(t-1,0,t,e)&&(n|=1),n<<=1,this.readModule(0,e-4,t,e)&&(n|=1),n<<=1,this.readModule(0,e-3,t,e)&&(n|=1),n<<=1,this.readModule(0,e-2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-1,t,e)&&(n|=1),n<<=1,this.readModule(1,e-1,t,e)&&(n|=1),n}readCorner3(t,e){let n=0;return this.readModule(t-1,0,t,e)&&(n|=1),n<<=1,this.readModule(t-1,e-1,t,e)&&(n|=1),n<<=1,this.readModule(0,e-3,t,e)&&(n|=1),n<<=1,this.readModule(0,e-2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-1,t,e)&&(n|=1),n<<=1,this.readModule(1,e-3,t,e)&&(n|=1),n<<=1,this.readModule(1,e-2,t,e)&&(n|=1),n<<=1,this.readModule(1,e-1,t,e)&&(n|=1),n}readCorner4(t,e){let n=0;return this.readModule(t-3,0,t,e)&&(n|=1),n<<=1,this.readModule(t-2,0,t,e)&&(n|=1),n<<=1,this.readModule(t-1,0,t,e)&&(n|=1),n<<=1,this.readModule(0,e-2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-1,t,e)&&(n|=1),n<<=1,this.readModule(1,e-1,t,e)&&(n|=1),n<<=1,this.readModule(2,e-1,t,e)&&(n|=1),n<<=1,this.readModule(3,e-1,t,e)&&(n|=1),n}extractDataRegion(t){const e=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(t.getHeight()!==e)throw new D("Dimension of bitMatrix must match the version size");const i=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),a=e/i|0,c=n/s|0,u=a*i,g=c*s,x=new re(g,u);for(let w=0;w<a;++w){const b=w*i;for(let S=0;S<c;++S){const R=S*s;for(let L=0;L<i;++L){const P=w*(i+2)+1+L,V=b+L;for(let it=0;it<s;++it){const st=S*(s+2)+1+it;if(t.get(st,P)){const rt=R+it;x.set(rt,V)}}}}}return x}}class Gi{constructor(t,e){this.numDataCodewords=t,this.codewords=e}static getDataBlocks(t,e){const n=e.getECBlocks();let i=0;const s=n.getECBlocks();for(let L of s)i+=L.getCount();const a=new Array(i);let c=0;for(let L of s)for(let P=0;P<L.getCount();P++){const V=L.getDataCodewords(),it=n.getECCodewords()+V;a[c++]=new Gi(V,new Uint8Array(it))}const g=a[0].codewords.length-n.getECCodewords(),x=g-1;let w=0;for(let L=0;L<x;L++)for(let P=0;P<c;P++)a[P].codewords[L]=t[w++];const b=e.getVersionNumber()===24,S=b?8:c;for(let L=0;L<S;L++)a[L].codewords[g-1]=t[w++];const R=a[0].codewords.length;for(let L=g;L<R;L++)for(let P=0;P<c;P++){const V=b?(P+8)%c:P,it=b&&V>7?L-1:L;a[V].codewords[it]=t[w++]}if(w!==t.length)throw new D;return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Xi{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new D(""+t);let e=0,n=this.bitOffset,i=this.byteOffset;const s=this.bytes;if(n>0){const a=8-n,c=t<a?t:a,u=a-c,g=255>>8-c<<u;e=(s[i]&g)>>u,t-=c,n+=c,n===8&&(n=0,i++)}if(t>0){for(;t>=8;)e=e<<8|s[i]&255,i++,t-=8;if(t>0){const a=8-t,c=255>>a<<a;e=e<<t|(s[i]&c)>>a,n+=t}}return this.bitOffset=n,this.byteOffset=i,e}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Te;(function(_){_[_.PAD_ENCODE=0]="PAD_ENCODE",_[_.ASCII_ENCODE=1]="ASCII_ENCODE",_[_.C40_ENCODE=2]="C40_ENCODE",_[_.TEXT_ENCODE=3]="TEXT_ENCODE",_[_.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",_[_.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",_[_.BASE256_ENCODE=6]="BASE256_ENCODE"})(Te||(Te={}));class jn{static decode(t){const e=new Xi(t),n=new St,i=new St,s=new Array;let a=Te.ASCII_ENCODE;do if(a===Te.ASCII_ENCODE)a=this.decodeAsciiSegment(e,n,i);else{switch(a){case Te.C40_ENCODE:this.decodeC40Segment(e,n);break;case Te.TEXT_ENCODE:this.decodeTextSegment(e,n);break;case Te.ANSIX12_ENCODE:this.decodeAnsiX12Segment(e,n);break;case Te.EDIFACT_ENCODE:this.decodeEdifactSegment(e,n);break;case Te.BASE256_ENCODE:this.decodeBase256Segment(e,n,s);break;default:throw new q}a=Te.ASCII_ENCODE}while(a!==Te.PAD_ENCODE&&e.available()>0);return i.length()>0&&n.append(i.toString()),new Be(t,n.toString(),s.length===0?null:s,null)}static decodeAsciiSegment(t,e,n){let i=!1;do{let s=t.readBits(8);if(s===0)throw new q;if(s<=128)return i&&(s+=128),e.append(String.fromCharCode(s-1)),Te.ASCII_ENCODE;if(s===129)return Te.PAD_ENCODE;if(s<=229){const a=s-130;a<10&&e.append("0"),e.append(""+a)}else switch(s){case 230:return Te.C40_ENCODE;case 231:return Te.BASE256_ENCODE;case 232:e.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:i=!0;break;case 236:e.append("[)>05"),n.insert(0,"");break;case 237:e.append("[)>06"),n.insert(0,"");break;case 238:return Te.ANSIX12_ENCODE;case 239:return Te.TEXT_ENCODE;case 240:return Te.EDIFACT_ENCODE;case 241:break;default:if(s!==254||t.available()!==0)throw new q;break}}while(t.available()>0);return Te.ASCII_ENCODE}static decodeC40Segment(t,e){let n=!1;const i=[];let s=0;do{if(t.available()===8)return;const a=t.readBits(8);if(a===254)return;this.parseTwoBytes(a,t.readBits(8),i);for(let c=0;c<3;c++){const u=i[c];switch(s){case 0:if(u<3)s=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[u];n?(e.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):e.append(g)}else throw new q;break;case 1:n?(e.append(String.fromCharCode(u+128)),n=!1):e.append(String.fromCharCode(u)),s=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[u];n?(e.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):e.append(g)}else switch(u){case 27:e.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new q}s=0;break;case 3:n?(e.append(String.fromCharCode(u+224)),n=!1):e.append(String.fromCharCode(u+96)),s=0;break;default:throw new q}}}while(t.available()>0)}static decodeTextSegment(t,e){let n=!1,i=[],s=0;do{if(t.available()===8)return;const a=t.readBits(8);if(a===254)return;this.parseTwoBytes(a,t.readBits(8),i);for(let c=0;c<3;c++){const u=i[c];switch(s){case 0:if(u<3)s=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[u];n?(e.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):e.append(g)}else throw new q;break;case 1:n?(e.append(String.fromCharCode(u+128)),n=!1):e.append(String.fromCharCode(u)),s=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[u];n?(e.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):e.append(g)}else switch(u){case 27:e.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new q}s=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[u];n?(e.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):e.append(g),s=0}else throw new q;break;default:throw new q}}}while(t.available()>0)}static decodeAnsiX12Segment(t,e){const n=[];do{if(t.available()===8)return;const i=t.readBits(8);if(i===254)return;this.parseTwoBytes(i,t.readBits(8),n);for(let s=0;s<3;s++){const a=n[s];switch(a){case 0:e.append("\r");break;case 1:e.append("*");break;case 2:e.append(">");break;case 3:e.append(" ");break;default:if(a<14)e.append(String.fromCharCode(a+44));else if(a<40)e.append(String.fromCharCode(a+51));else throw new q;break}}}while(t.available()>0)}static parseTwoBytes(t,e,n){let i=(t<<8)+e-1,s=Math.floor(i/1600);n[0]=s,i-=s*1600,s=Math.floor(i/40),n[1]=s,n[2]=i-s*40}static decodeEdifactSegment(t,e){do{if(t.available()<=16)return;for(let n=0;n<4;n++){let i=t.readBits(6);if(i===31){const s=8-t.getBitOffset();s!==8&&t.readBits(s);return}i&32||(i|=64),e.append(String.fromCharCode(i))}}while(t.available()>0)}static decodeBase256Segment(t,e,n){let i=1+t.getByteOffset();const s=this.unrandomize255State(t.readBits(8),i++);let a;if(s===0?a=t.available()/8|0:s<250?a=s:a=250*(s-249)+this.unrandomize255State(t.readBits(8),i++),a<0)throw new q;const c=new Uint8Array(a);for(let u=0;u<a;u++){if(t.available()<8)throw new q;c[u]=this.unrandomize255State(t.readBits(8),i++)}n.push(c);try{e.append(Dt.decode(c,_t.ISO88591))}catch(u){throw new Y("Platform does not support required encoding: "+u.message)}}static unrandomize255State(t,e){const n=149*e%255+1,i=t-n;return i>=0?i:i+256}}jn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],jn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],jn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],jn.TEXT_SHIFT2_SET_CHARS=jn.C40_SHIFT2_SET_CHARS,jn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class Fo{constructor(){this.rsDecoder=new Z(M.DATA_MATRIX_FIELD_256)}decode(t){const e=new Wi(t),n=e.getVersion(),i=e.readCodewords(),s=Gi.getDataBlocks(i,n);let a=0;for(let g of s)a+=g.getNumDataCodewords();const c=new Uint8Array(a),u=s.length;for(let g=0;g<u;g++){const x=s[g],w=x.getCodewords(),b=x.getNumDataCodewords();this.correctErrors(w,b);for(let S=0;S<b;S++)c[S*u+g]=w[S]}return jn.decode(c)}correctErrors(t,e){const n=new Int32Array(t);try{this.rsDecoder.decode(n,t.length-e)}catch{throw new z}for(let i=0;i<e;i++)t[i]=n[i]}}class Ce{constructor(t){this.image=t,this.rectangleDetector=new pt(this.image)}detect(){const t=this.rectangleDetector.detect();let e=this.detectSolid1(t);if(e=this.detectSolid2(e),e[3]=this.correctTopRight(e),!e[3])throw new H;e=this.shiftToModuleCenter(e);const n=e[0],i=e[1],s=e[2],a=e[3];let c=this.transitionsBetween(n,a)+1,u=this.transitionsBetween(s,a)+1;(c&1)===1&&(c+=1),(u&1)===1&&(u+=1),4*c<7*u&&4*u<7*c&&(c=u=Math.max(c,u));let g=Ce.sampleGrid(this.image,n,i,s,a,c,u);return new Ct(g,[n,i,s,a])}static shiftPoint(t,e,n){let i=(e.getX()-t.getX())/(n+1),s=(e.getY()-t.getY())/(n+1);return new B(t.getX()+i,t.getY()+s)}static moveAway(t,e,n){let i=t.getX(),s=t.getY();return i<e?i-=1:i+=1,s<n?s-=1:s+=1,new B(i,s)}detectSolid1(t){let e=t[0],n=t[1],i=t[3],s=t[2],a=this.transitionsBetween(e,n),c=this.transitionsBetween(n,i),u=this.transitionsBetween(i,s),g=this.transitionsBetween(s,e),x=a,w=[s,e,n,i];return x>c&&(x=c,w[0]=e,w[1]=n,w[2]=i,w[3]=s),x>u&&(x=u,w[0]=n,w[1]=i,w[2]=s,w[3]=e),x>g&&(w[0]=i,w[1]=s,w[2]=e,w[3]=n),w}detectSolid2(t){let e=t[0],n=t[1],i=t[2],s=t[3],a=this.transitionsBetween(e,s),c=Ce.shiftPoint(n,i,(a+1)*4),u=Ce.shiftPoint(i,n,(a+1)*4),g=this.transitionsBetween(c,e),x=this.transitionsBetween(u,s);return g<x?(t[0]=e,t[1]=n,t[2]=i,t[3]=s):(t[0]=n,t[1]=i,t[2]=s,t[3]=e),t}correctTopRight(t){let e=t[0],n=t[1],i=t[2],s=t[3],a=this.transitionsBetween(e,s),c=this.transitionsBetween(n,s),u=Ce.shiftPoint(e,n,(c+1)*4),g=Ce.shiftPoint(i,n,(a+1)*4);a=this.transitionsBetween(u,s),c=this.transitionsBetween(g,s);let x=new B(s.getX()+(i.getX()-n.getX())/(a+1),s.getY()+(i.getY()-n.getY())/(a+1)),w=new B(s.getX()+(e.getX()-n.getX())/(c+1),s.getY()+(e.getY()-n.getY())/(c+1));if(!this.isValid(x))return this.isValid(w)?w:null;if(!this.isValid(w))return x;let b=this.transitionsBetween(u,x)+this.transitionsBetween(g,x),S=this.transitionsBetween(u,w)+this.transitionsBetween(g,w);return b>S?x:w}shiftToModuleCenter(t){let e=t[0],n=t[1],i=t[2],s=t[3],a=this.transitionsBetween(e,s)+1,c=this.transitionsBetween(i,s)+1,u=Ce.shiftPoint(e,n,c*4),g=Ce.shiftPoint(i,n,a*4);a=this.transitionsBetween(u,s)+1,c=this.transitionsBetween(g,s)+1,(a&1)===1&&(a+=1),(c&1)===1&&(c+=1);let x=(e.getX()+n.getX()+i.getX()+s.getX())/4,w=(e.getY()+n.getY()+i.getY()+s.getY())/4;e=Ce.moveAway(e,x,w),n=Ce.moveAway(n,x,w),i=Ce.moveAway(i,x,w),s=Ce.moveAway(s,x,w);let b,S;return u=Ce.shiftPoint(e,n,c*4),u=Ce.shiftPoint(u,s,a*4),b=Ce.shiftPoint(n,e,c*4),b=Ce.shiftPoint(b,i,a*4),g=Ce.shiftPoint(i,s,c*4),g=Ce.shiftPoint(g,n,a*4),S=Ce.shiftPoint(s,i,c*4),S=Ce.shiftPoint(S,e,a*4),[u,b,g,S]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,e,n,i,s,a,c){return Ut.getInstance().sampleGrid(t,a,c,.5,.5,a-.5,.5,a-.5,c-.5,.5,c-.5,e.getX(),e.getY(),s.getX(),s.getY(),i.getX(),i.getY(),n.getX(),n.getY())}transitionsBetween(t,e){let n=Math.trunc(t.getX()),i=Math.trunc(t.getY()),s=Math.trunc(e.getX()),a=Math.trunc(e.getY()),c=Math.abs(a-i)>Math.abs(s-n);if(c){let L=n;n=i,i=L,L=s,s=a,a=L}let u=Math.abs(s-n),g=Math.abs(a-i),x=-u/2,w=i<a?1:-1,b=n<s?1:-1,S=0,R=this.image.get(c?i:n,c?n:i);for(let L=n,P=i;L!==s;L+=b){let V=this.image.get(c?P:L,c?L:P);if(V!==R&&(S++,R=V),x+=g,x>0){if(P===a)break;P+=w,x-=u}}return S}}class Qe{constructor(){this.decoder=new Fo}decode(t,e=null){let n,i;if(e!=null&&e.has(wt.PURE_BARCODE)){const g=Qe.extractPureBits(t.getBlackMatrix());n=this.decoder.decode(g),i=Qe.NO_POINTS}else{const g=new Ce(t.getBlackMatrix()).detect();n=this.decoder.decode(g.getBits()),i=g.getPoints()}const s=n.getRawBytes(),a=new de(n.getText(),s,8*s.length,i,gt.DATA_MATRIX,J.currentTimeMillis()),c=n.getByteSegments();c!=null&&a.putMetadata(Jt.BYTE_SEGMENTS,c);const u=n.getECLevel();return u!=null&&a.putMetadata(Jt.ERROR_CORRECTION_LEVEL,u),a}reset(){}static extractPureBits(t){const e=t.getTopLeftOnBit(),n=t.getBottomRightOnBit();if(e==null||n==null)throw new H;const i=this.moduleSize(e,t);let s=e[1];const a=n[1];let c=e[0];const g=(n[0]-c+1)/i,x=(a-s+1)/i;if(g<=0||x<=0)throw new H;const w=i/2;s+=w,c+=w;const b=new re(g,x);for(let S=0;S<x;S++){const R=s+S*i;for(let L=0;L<g;L++)t.get(c+L*i,R)&&b.set(L,S)}return b}static moduleSize(t,e){const n=e.getWidth();let i=t[0];const s=t[1];for(;i<n&&e.get(i,s);)i++;if(i===n)throw new H;const a=i-t[0];if(a===0)throw new H;return a}}Qe.NO_POINTS=[];class ko extends He{constructor(t=500){super(new Qe,t)}}var Br;(function(_){_[_.L=0]="L",_[_.M=1]="M",_[_.Q=2]="Q",_[_.H=3]="H"})(Br||(Br={}));class ie{constructor(t,e,n){this.value=t,this.stringValue=e,this.bits=n,ie.FOR_BITS.set(n,this),ie.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return ie.L;case"M":return ie.M;case"Q":return ie.Q;case"H":return ie.H;default:throw new I(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof ie))return!1;const e=t;return this.value===e.value}static forBits(t){if(t<0||t>=ie.FOR_BITS.size)throw new D;return ie.FOR_BITS.get(t)}}ie.FOR_BITS=new Map,ie.FOR_VALUE=new Map,ie.L=new ie(Br.L,"L",1),ie.M=new ie(Br.M,"M",0),ie.Q=new ie(Br.Q,"Q",3),ie.H=new ie(Br.H,"H",2);class Fe{constructor(t){this.errorCorrectionLevel=ie.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,e){return at.bitCount(t^e)}static decodeFormatInformation(t,e){const n=Fe.doDecodeFormatInformation(t,e);return n!==null?n:Fe.doDecodeFormatInformation(t^Fe.FORMAT_INFO_MASK_QR,e^Fe.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,e){let n=Number.MAX_SAFE_INTEGER,i=0;for(const s of Fe.FORMAT_INFO_DECODE_LOOKUP){const a=s[0];if(a===t||a===e)return new Fe(s[1]);let c=Fe.numBitsDiffering(t,a);c<n&&(i=s[1],n=c),t!==e&&(c=Fe.numBitsDiffering(e,a),c<n&&(i=s[1],n=c))}return n<=3?new Fe(i):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Fe))return!1;const e=t;return this.errorCorrectionLevel===e.errorCorrectionLevel&&this.dataMask===e.dataMask}}Fe.FORMAT_INFO_MASK_QR=21522,Fe.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class F{constructor(t,...e){this.ecCodewordsPerBlock=t,this.ecBlocks=e}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const e=this.ecBlocks;for(const n of e)t+=n.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class T{constructor(t,e){this.count=t,this.dataCodewords=e}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class yt{constructor(t,e,...n){this.versionNumber=t,this.alignmentPatternCenters=e,this.ecBlocks=n;let i=0;const s=n[0].getECCodewordsPerBlock(),a=n[0].getECBlocks();for(const c of a)i+=c.getCount()*(c.getDataCodewords()+s);this.totalCodewords=i}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new q;try{return this.getVersionForNumber((t-17)/4)}catch{throw new q}}static getVersionForNumber(t){if(t<1||t>40)throw new D;return yt.VERSIONS[t-1]}static decodeVersionInformation(t){let e=Number.MAX_SAFE_INTEGER,n=0;for(let i=0;i<yt.VERSION_DECODE_INFO.length;i++){const s=yt.VERSION_DECODE_INFO[i];if(s===t)return yt.getVersionForNumber(i+7);const a=Fe.numBitsDiffering(t,s);a<e&&(n=i+7,e=a)}return e<=3?yt.getVersionForNumber(n):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),e=new re(t);e.setRegion(0,0,9,9),e.setRegion(t-8,0,8,9),e.setRegion(0,t-8,9,8);const n=this.alignmentPatternCenters.length;for(let i=0;i<n;i++){const s=this.alignmentPatternCenters[i]-2;for(let a=0;a<n;a++)i===0&&(a===0||a===n-1)||i===n-1&&a===0||e.setRegion(this.alignmentPatternCenters[a]-2,s,5,5)}return e.setRegion(6,9,1,t-17),e.setRegion(9,6,t-17,1),this.versionNumber>6&&(e.setRegion(t-11,0,3,6),e.setRegion(0,t-11,6,3)),e}toString(){return""+this.versionNumber}}yt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),yt.VERSIONS=[new yt(1,new Int32Array(0),new F(7,new T(1,19)),new F(10,new T(1,16)),new F(13,new T(1,13)),new F(17,new T(1,9))),new yt(2,Int32Array.from([6,18]),new F(10,new T(1,34)),new F(16,new T(1,28)),new F(22,new T(1,22)),new F(28,new T(1,16))),new yt(3,Int32Array.from([6,22]),new F(15,new T(1,55)),new F(26,new T(1,44)),new F(18,new T(2,17)),new F(22,new T(2,13))),new yt(4,Int32Array.from([6,26]),new F(20,new T(1,80)),new F(18,new T(2,32)),new F(26,new T(2,24)),new F(16,new T(4,9))),new yt(5,Int32Array.from([6,30]),new F(26,new T(1,108)),new F(24,new T(2,43)),new F(18,new T(2,15),new T(2,16)),new F(22,new T(2,11),new T(2,12))),new yt(6,Int32Array.from([6,34]),new F(18,new T(2,68)),new F(16,new T(4,27)),new F(24,new T(4,19)),new F(28,new T(4,15))),new yt(7,Int32Array.from([6,22,38]),new F(20,new T(2,78)),new F(18,new T(4,31)),new F(18,new T(2,14),new T(4,15)),new F(26,new T(4,13),new T(1,14))),new yt(8,Int32Array.from([6,24,42]),new F(24,new T(2,97)),new F(22,new T(2,38),new T(2,39)),new F(22,new T(4,18),new T(2,19)),new F(26,new T(4,14),new T(2,15))),new yt(9,Int32Array.from([6,26,46]),new F(30,new T(2,116)),new F(22,new T(3,36),new T(2,37)),new F(20,new T(4,16),new T(4,17)),new F(24,new T(4,12),new T(4,13))),new yt(10,Int32Array.from([6,28,50]),new F(18,new T(2,68),new T(2,69)),new F(26,new T(4,43),new T(1,44)),new F(24,new T(6,19),new T(2,20)),new F(28,new T(6,15),new T(2,16))),new yt(11,Int32Array.from([6,30,54]),new F(20,new T(4,81)),new F(30,new T(1,50),new T(4,51)),new F(28,new T(4,22),new T(4,23)),new F(24,new T(3,12),new T(8,13))),new yt(12,Int32Array.from([6,32,58]),new F(24,new T(2,92),new T(2,93)),new F(22,new T(6,36),new T(2,37)),new F(26,new T(4,20),new T(6,21)),new F(28,new T(7,14),new T(4,15))),new yt(13,Int32Array.from([6,34,62]),new F(26,new T(4,107)),new F(22,new T(8,37),new T(1,38)),new F(24,new T(8,20),new T(4,21)),new F(22,new T(12,11),new T(4,12))),new yt(14,Int32Array.from([6,26,46,66]),new F(30,new T(3,115),new T(1,116)),new F(24,new T(4,40),new T(5,41)),new F(20,new T(11,16),new T(5,17)),new F(24,new T(11,12),new T(5,13))),new yt(15,Int32Array.from([6,26,48,70]),new F(22,new T(5,87),new T(1,88)),new F(24,new T(5,41),new T(5,42)),new F(30,new T(5,24),new T(7,25)),new F(24,new T(11,12),new T(7,13))),new yt(16,Int32Array.from([6,26,50,74]),new F(24,new T(5,98),new T(1,99)),new F(28,new T(7,45),new T(3,46)),new F(24,new T(15,19),new T(2,20)),new F(30,new T(3,15),new T(13,16))),new yt(17,Int32Array.from([6,30,54,78]),new F(28,new T(1,107),new T(5,108)),new F(28,new T(10,46),new T(1,47)),new F(28,new T(1,22),new T(15,23)),new F(28,new T(2,14),new T(17,15))),new yt(18,Int32Array.from([6,30,56,82]),new F(30,new T(5,120),new T(1,121)),new F(26,new T(9,43),new T(4,44)),new F(28,new T(17,22),new T(1,23)),new F(28,new T(2,14),new T(19,15))),new yt(19,Int32Array.from([6,30,58,86]),new F(28,new T(3,113),new T(4,114)),new F(26,new T(3,44),new T(11,45)),new F(26,new T(17,21),new T(4,22)),new F(26,new T(9,13),new T(16,14))),new yt(20,Int32Array.from([6,34,62,90]),new F(28,new T(3,107),new T(5,108)),new F(26,new T(3,41),new T(13,42)),new F(30,new T(15,24),new T(5,25)),new F(28,new T(15,15),new T(10,16))),new yt(21,Int32Array.from([6,28,50,72,94]),new F(28,new T(4,116),new T(4,117)),new F(26,new T(17,42)),new F(28,new T(17,22),new T(6,23)),new F(30,new T(19,16),new T(6,17))),new yt(22,Int32Array.from([6,26,50,74,98]),new F(28,new T(2,111),new T(7,112)),new F(28,new T(17,46)),new F(30,new T(7,24),new T(16,25)),new F(24,new T(34,13))),new yt(23,Int32Array.from([6,30,54,78,102]),new F(30,new T(4,121),new T(5,122)),new F(28,new T(4,47),new T(14,48)),new F(30,new T(11,24),new T(14,25)),new F(30,new T(16,15),new T(14,16))),new yt(24,Int32Array.from([6,28,54,80,106]),new F(30,new T(6,117),new T(4,118)),new F(28,new T(6,45),new T(14,46)),new F(30,new T(11,24),new T(16,25)),new F(30,new T(30,16),new T(2,17))),new yt(25,Int32Array.from([6,32,58,84,110]),new F(26,new T(8,106),new T(4,107)),new F(28,new T(8,47),new T(13,48)),new F(30,new T(7,24),new T(22,25)),new F(30,new T(22,15),new T(13,16))),new yt(26,Int32Array.from([6,30,58,86,114]),new F(28,new T(10,114),new T(2,115)),new F(28,new T(19,46),new T(4,47)),new F(28,new T(28,22),new T(6,23)),new F(30,new T(33,16),new T(4,17))),new yt(27,Int32Array.from([6,34,62,90,118]),new F(30,new T(8,122),new T(4,123)),new F(28,new T(22,45),new T(3,46)),new F(30,new T(8,23),new T(26,24)),new F(30,new T(12,15),new T(28,16))),new yt(28,Int32Array.from([6,26,50,74,98,122]),new F(30,new T(3,117),new T(10,118)),new F(28,new T(3,45),new T(23,46)),new F(30,new T(4,24),new T(31,25)),new F(30,new T(11,15),new T(31,16))),new yt(29,Int32Array.from([6,30,54,78,102,126]),new F(30,new T(7,116),new T(7,117)),new F(28,new T(21,45),new T(7,46)),new F(30,new T(1,23),new T(37,24)),new F(30,new T(19,15),new T(26,16))),new yt(30,Int32Array.from([6,26,52,78,104,130]),new F(30,new T(5,115),new T(10,116)),new F(28,new T(19,47),new T(10,48)),new F(30,new T(15,24),new T(25,25)),new F(30,new T(23,15),new T(25,16))),new yt(31,Int32Array.from([6,30,56,82,108,134]),new F(30,new T(13,115),new T(3,116)),new F(28,new T(2,46),new T(29,47)),new F(30,new T(42,24),new T(1,25)),new F(30,new T(23,15),new T(28,16))),new yt(32,Int32Array.from([6,34,60,86,112,138]),new F(30,new T(17,115)),new F(28,new T(10,46),new T(23,47)),new F(30,new T(10,24),new T(35,25)),new F(30,new T(19,15),new T(35,16))),new yt(33,Int32Array.from([6,30,58,86,114,142]),new F(30,new T(17,115),new T(1,116)),new F(28,new T(14,46),new T(21,47)),new F(30,new T(29,24),new T(19,25)),new F(30,new T(11,15),new T(46,16))),new yt(34,Int32Array.from([6,34,62,90,118,146]),new F(30,new T(13,115),new T(6,116)),new F(28,new T(14,46),new T(23,47)),new F(30,new T(44,24),new T(7,25)),new F(30,new T(59,16),new T(1,17))),new yt(35,Int32Array.from([6,30,54,78,102,126,150]),new F(30,new T(12,121),new T(7,122)),new F(28,new T(12,47),new T(26,48)),new F(30,new T(39,24),new T(14,25)),new F(30,new T(22,15),new T(41,16))),new yt(36,Int32Array.from([6,24,50,76,102,128,154]),new F(30,new T(6,121),new T(14,122)),new F(28,new T(6,47),new T(34,48)),new F(30,new T(46,24),new T(10,25)),new F(30,new T(2,15),new T(64,16))),new yt(37,Int32Array.from([6,28,54,80,106,132,158]),new F(30,new T(17,122),new T(4,123)),new F(28,new T(29,46),new T(14,47)),new F(30,new T(49,24),new T(10,25)),new F(30,new T(24,15),new T(46,16))),new yt(38,Int32Array.from([6,32,58,84,110,136,162]),new F(30,new T(4,122),new T(18,123)),new F(28,new T(13,46),new T(32,47)),new F(30,new T(48,24),new T(14,25)),new F(30,new T(42,15),new T(32,16))),new yt(39,Int32Array.from([6,26,54,82,110,138,166]),new F(30,new T(20,117),new T(4,118)),new F(28,new T(40,47),new T(7,48)),new F(30,new T(43,24),new T(22,25)),new F(30,new T(10,15),new T(67,16))),new yt(40,Int32Array.from([6,30,58,86,114,142,170]),new F(30,new T(19,118),new T(6,119)),new F(28,new T(18,47),new T(31,48)),new F(30,new T(34,24),new T(34,25)),new F(30,new T(20,15),new T(61,16)))];var Oe;(function(_){_[_.DATA_MASK_000=0]="DATA_MASK_000",_[_.DATA_MASK_001=1]="DATA_MASK_001",_[_.DATA_MASK_010=2]="DATA_MASK_010",_[_.DATA_MASK_011=3]="DATA_MASK_011",_[_.DATA_MASK_100=4]="DATA_MASK_100",_[_.DATA_MASK_101=5]="DATA_MASK_101",_[_.DATA_MASK_110=6]="DATA_MASK_110",_[_.DATA_MASK_111=7]="DATA_MASK_111"})(Oe||(Oe={}));class cn{constructor(t,e){this.value=t,this.isMasked=e}unmaskBitMatrix(t,e){for(let n=0;n<e;n++)for(let i=0;i<e;i++)this.isMasked(n,i)&&t.flip(i,n)}}cn.values=new Map([[Oe.DATA_MASK_000,new cn(Oe.DATA_MASK_000,(_,t)=>(_+t&1)===0)],[Oe.DATA_MASK_001,new cn(Oe.DATA_MASK_001,(_,t)=>(_&1)===0)],[Oe.DATA_MASK_010,new cn(Oe.DATA_MASK_010,(_,t)=>t%3===0)],[Oe.DATA_MASK_011,new cn(Oe.DATA_MASK_011,(_,t)=>(_+t)%3===0)],[Oe.DATA_MASK_100,new cn(Oe.DATA_MASK_100,(_,t)=>(Math.floor(_/2)+Math.floor(t/3)&1)===0)],[Oe.DATA_MASK_101,new cn(Oe.DATA_MASK_101,(_,t)=>_*t%6===0)],[Oe.DATA_MASK_110,new cn(Oe.DATA_MASK_110,(_,t)=>_*t%6<3)],[Oe.DATA_MASK_111,new cn(Oe.DATA_MASK_111,(_,t)=>(_+t+_*t%3&1)===0)]]);class Yi{constructor(t){const e=t.getHeight();if(e<21||(e&3)!==1)throw new q;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let s=0;s<6;s++)t=this.copyBit(s,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let s=5;s>=0;s--)t=this.copyBit(8,s,t);const e=this.bitMatrix.getHeight();let n=0;const i=e-7;for(let s=e-1;s>=i;s--)n=this.copyBit(8,s,n);for(let s=e-8;s<e;s++)n=this.copyBit(s,8,n);if(this.parsedFormatInfo=Fe.decodeFormatInformation(t,n),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new q}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),e=Math.floor((t-17)/4);if(e<=6)return yt.getVersionForNumber(e);let n=0;const i=t-11;for(let a=5;a>=0;a--)for(let c=t-9;c>=i;c--)n=this.copyBit(c,a,n);let s=yt.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;n=0;for(let a=5;a>=0;a--)for(let c=t-9;c>=i;c--)n=this.copyBit(a,c,n);if(s=yt.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;throw new q}copyBit(t,e,n){return(this.isMirror?this.bitMatrix.get(e,t):this.bitMatrix.get(t,e))?n<<1|1:n<<1}readCodewords(){const t=this.readFormatInformation(),e=this.readVersion(),n=cn.values.get(t.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);const s=e.buildFunctionPattern();let a=!0;const c=new Uint8Array(e.getTotalCodewords());let u=0,g=0,x=0;for(let w=i-1;w>0;w-=2){w===6&&w--;for(let b=0;b<i;b++){const S=a?i-1-b:b;for(let R=0;R<2;R++)s.get(w-R,S)||(x++,g<<=1,this.bitMatrix.get(w-R,S)&&(g|=1),x===8&&(c[u++]=g,x=0,g=0))}a=!a}if(u!==e.getTotalCodewords())throw new q;return c}remask(){if(this.parsedFormatInfo===null)return;const t=cn.values[this.parsedFormatInfo.getDataMask()],e=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,e)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let e=0,n=t.getWidth();e<n;e++)for(let i=e+1,s=t.getHeight();i<s;i++)t.get(e,i)!==t.get(i,e)&&(t.flip(i,e),t.flip(e,i))}}class zn{constructor(t,e){this.numDataCodewords=t,this.codewords=e}static getDataBlocks(t,e,n){if(t.length!==e.getTotalCodewords())throw new D;const i=e.getECBlocksForLevel(n);let s=0;const a=i.getECBlocks();for(const R of a)s+=R.getCount();const c=new Array(s);let u=0;for(const R of a)for(let L=0;L<R.getCount();L++){const P=R.getDataCodewords(),V=i.getECCodewordsPerBlock()+P;c[u++]=new zn(P,new Uint8Array(V))}const g=c[0].codewords.length;let x=c.length-1;for(;x>=0&&c[x].codewords.length!==g;)x--;x++;const w=g-i.getECCodewordsPerBlock();let b=0;for(let R=0;R<w;R++)for(let L=0;L<u;L++)c[L].codewords[R]=t[b++];for(let R=x;R<u;R++)c[R].codewords[w]=t[b++];const S=c[0].codewords.length;for(let R=w;R<S;R++)for(let L=0;L<u;L++){const P=L<x?R:R+1;c[L].codewords[P]=t[b++]}return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Xe;(function(_){_[_.TERMINATOR=0]="TERMINATOR",_[_.NUMERIC=1]="NUMERIC",_[_.ALPHANUMERIC=2]="ALPHANUMERIC",_[_.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",_[_.BYTE=4]="BYTE",_[_.ECI=5]="ECI",_[_.KANJI=6]="KANJI",_[_.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",_[_.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",_[_.HANZI=9]="HANZI"})(Xe||(Xe={}));class It{constructor(t,e,n,i){this.value=t,this.stringValue=e,this.characterCountBitsForVersions=n,this.bits=i,It.FOR_BITS.set(i,this),It.FOR_VALUE.set(t,this)}static forBits(t){const e=It.FOR_BITS.get(t);if(e===void 0)throw new D;return e}getCharacterCountBits(t){const e=t.getVersionNumber();let n;return e<=9?n=0:e<=26?n=1:n=2,this.characterCountBitsForVersions[n]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof It))return!1;const e=t;return this.value===e.value}toString(){return this.stringValue}}It.FOR_BITS=new Map,It.FOR_VALUE=new Map,It.TERMINATOR=new It(Xe.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),It.NUMERIC=new It(Xe.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),It.ALPHANUMERIC=new It(Xe.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),It.STRUCTURED_APPEND=new It(Xe.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),It.BYTE=new It(Xe.BYTE,"BYTE",Int32Array.from([8,16,16]),4),It.ECI=new It(Xe.ECI,"ECI",Int32Array.from([0,0,0]),7),It.KANJI=new It(Xe.KANJI,"KANJI",Int32Array.from([8,10,12]),8),It.FNC1_FIRST_POSITION=new It(Xe.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),It.FNC1_SECOND_POSITION=new It(Xe.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),It.HANZI=new It(Xe.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class pe{static decode(t,e,n,i){const s=new Xi(t);let a=new St;const c=new Array;let u=-1,g=-1;try{let x=null,w=!1,b;do{if(s.available()<4)b=It.TERMINATOR;else{const S=s.readBits(4);b=It.forBits(S)}switch(b){case It.TERMINATOR:break;case It.FNC1_FIRST_POSITION:case It.FNC1_SECOND_POSITION:w=!0;break;case It.STRUCTURED_APPEND:if(s.available()<16)throw new q;u=s.readBits(8),g=s.readBits(8);break;case It.ECI:const S=pe.parseECIValue(s);if(x=j.getCharacterSetECIByValue(S),x===null)throw new q;break;case It.HANZI:const R=s.readBits(4),L=s.readBits(b.getCharacterCountBits(e));R===pe.GB2312_SUBSET&&pe.decodeHanziSegment(s,a,L);break;default:const P=s.readBits(b.getCharacterCountBits(e));switch(b){case It.NUMERIC:pe.decodeNumericSegment(s,a,P);break;case It.ALPHANUMERIC:pe.decodeAlphanumericSegment(s,a,P,w);break;case It.BYTE:pe.decodeByteSegment(s,a,P,x,c,i);break;case It.KANJI:pe.decodeKanjiSegment(s,a,P);break;default:throw new q}break}}while(b!==It.TERMINATOR)}catch{throw new q}return new Be(t,a.toString(),c.length===0?null:c,n===null?null:n.toString(),u,g)}static decodeHanziSegment(t,e,n){if(n*13>t.available())throw new q;const i=new Uint8Array(2*n);let s=0;for(;n>0;){const a=t.readBits(13);let c=a/96<<8&4294967295|a%96;c<959?c+=41377:c+=42657,i[s]=c>>8&255,i[s+1]=c&255,s+=2,n--}try{e.append(Dt.decode(i,_t.GB2312))}catch(a){throw new q(a)}}static decodeKanjiSegment(t,e,n){if(n*13>t.available())throw new q;const i=new Uint8Array(2*n);let s=0;for(;n>0;){const a=t.readBits(13);let c=a/192<<8&4294967295|a%192;c<7936?c+=33088:c+=49472,i[s]=c>>8,i[s+1]=c,s+=2,n--}try{e.append(Dt.decode(i,_t.SHIFT_JIS))}catch(a){throw new q(a)}}static decodeByteSegment(t,e,n,i,s,a){if(8*n>t.available())throw new q;const c=new Uint8Array(n);for(let g=0;g<n;g++)c[g]=t.readBits(8);let u;i===null?u=_t.guessEncoding(c,a):u=i.getName();try{e.append(Dt.decode(c,u))}catch(g){throw new q(g)}s.push(c)}static toAlphaNumericChar(t){if(t>=pe.ALPHANUMERIC_CHARS.length)throw new q;return pe.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,e,n,i){const s=e.length();for(;n>1;){if(t.available()<11)throw new q;const a=t.readBits(11);e.append(pe.toAlphaNumericChar(Math.floor(a/45))),e.append(pe.toAlphaNumericChar(a%45)),n-=2}if(n===1){if(t.available()<6)throw new q;e.append(pe.toAlphaNumericChar(t.readBits(6)))}if(i)for(let a=s;a<e.length();a++)e.charAt(a)==="%"&&(a<e.length()-1&&e.charAt(a+1)==="%"?e.deleteCharAt(a+1):e.setCharAt(a,String.fromCharCode(29)))}static decodeNumericSegment(t,e,n){for(;n>=3;){if(t.available()<10)throw new q;const i=t.readBits(10);if(i>=1e3)throw new q;e.append(pe.toAlphaNumericChar(Math.floor(i/100))),e.append(pe.toAlphaNumericChar(Math.floor(i/10)%10)),e.append(pe.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(t.available()<7)throw new q;const i=t.readBits(7);if(i>=100)throw new q;e.append(pe.toAlphaNumericChar(Math.floor(i/10))),e.append(pe.toAlphaNumericChar(i%10))}else if(n===1){if(t.available()<4)throw new q;const i=t.readBits(4);if(i>=10)throw new q;e.append(pe.toAlphaNumericChar(i))}}static parseECIValue(t){const e=t.readBits(8);if(!(e&128))return e&127;if((e&192)===128){const n=t.readBits(8);return(e&63)<<8&4294967295|n}if((e&224)===192){const n=t.readBits(16);return(e&31)<<16&4294967295|n}throw new q}}pe.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",pe.GB2312_SUBSET=1;class Ns{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const e=t[0];t[0]=t[2],t[2]=e}}class Uo{constructor(){this.rsDecoder=new Z(M.QR_CODE_FIELD_256)}decodeBooleanArray(t,e){return this.decodeBitMatrix(re.parseFromBooleanArray(t),e)}decodeBitMatrix(t,e){const n=new Yi(t);let i=null;try{return this.decodeBitMatrixParser(n,e)}catch(s){i=s}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();const s=this.decodeBitMatrixParser(n,e);return s.setOther(new Ns(!0)),s}catch(s){throw i!==null?i:s}}decodeBitMatrixParser(t,e){const n=t.readVersion(),i=t.readFormatInformation().getErrorCorrectionLevel(),s=t.readCodewords(),a=zn.getDataBlocks(s,n,i);let c=0;for(const x of a)c+=x.getNumDataCodewords();const u=new Uint8Array(c);let g=0;for(const x of a){const w=x.getCodewords(),b=x.getNumDataCodewords();this.correctErrors(w,b);for(let S=0;S<b;S++)u[g++]=w[S]}return pe.decode(u,n,i,e)}correctErrors(t,e){const n=new Int32Array(t);try{this.rsDecoder.decode(n,t.length-e)}catch{throw new z}for(let i=0;i<e;i++)t[i]=n[i]}}class ji extends B{constructor(t,e,n){super(t,e),this.estimatedModuleSize=n}aboutEquals(t,e,n){if(Math.abs(e-this.getY())<=t&&Math.abs(n-this.getX())<=t){const i=Math.abs(t-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1}combineEstimate(t,e,n){const i=(this.getX()+e)/2,s=(this.getY()+t)/2,a=(this.estimatedModuleSize+n)/2;return new ji(i,s,a)}}class ui{constructor(t,e,n,i,s,a,c){this.image=t,this.startX=e,this.startY=n,this.width=i,this.height=s,this.moduleSize=a,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,e=this.height,n=this.width,i=t+n,s=this.startY+e/2,a=new Int32Array(3),c=this.image;for(let u=0;u<e;u++){const g=s+(u&1?-Math.floor((u+1)/2):Math.floor((u+1)/2));a[0]=0,a[1]=0,a[2]=0;let x=t;for(;x<i&&!c.get(x,g);)x++;let w=0;for(;x<i;){if(c.get(x,g))if(w===1)a[1]++;else if(w===2){if(this.foundPatternCross(a)){const b=this.handlePossibleCenter(a,g,x);if(b!==null)return b}a[0]=a[2],a[1]=1,a[2]=0,w=1}else a[++w]++;else w===1&&w++,a[w]++;x++}if(this.foundPatternCross(a)){const b=this.handlePossibleCenter(a,g,i);if(b!==null)return b}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new H}static centerFromEnd(t,e){return e-t[2]-t[1]/2}foundPatternCross(t){const e=this.moduleSize,n=e/2;for(let i=0;i<3;i++)if(Math.abs(e-t[i])>=n)return!1;return!0}crossCheckVertical(t,e,n,i){const s=this.image,a=s.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;let u=t;for(;u>=0&&s.get(e,u)&&c[1]<=n;)c[1]++,u--;if(u<0||c[1]>n)return NaN;for(;u>=0&&!s.get(e,u)&&c[0]<=n;)c[0]++,u--;if(c[0]>n)return NaN;for(u=t+1;u<a&&s.get(e,u)&&c[1]<=n;)c[1]++,u++;if(u===a||c[1]>n)return NaN;for(;u<a&&!s.get(e,u)&&c[2]<=n;)c[2]++,u++;if(c[2]>n)return NaN;const g=c[0]+c[1]+c[2];return 5*Math.abs(g-i)>=2*i?NaN:this.foundPatternCross(c)?ui.centerFromEnd(c,u):NaN}handlePossibleCenter(t,e,n){const i=t[0]+t[1]+t[2],s=ui.centerFromEnd(t,n),a=this.crossCheckVertical(e,s,2*t[1],i);if(!isNaN(a)){const c=(t[0]+t[1]+t[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(c,a,s))return g.combineEstimate(a,s,c);const u=new ji(s,a,c);this.possibleCenters.push(u),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(u)}return null}}class Pr extends B{constructor(t,e,n,i){super(t,e),this.estimatedModuleSize=n,this.count=i,i===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,e,n){if(Math.abs(e-this.getY())<=t&&Math.abs(n-this.getX())<=t){const i=Math.abs(t-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1}combineEstimate(t,e,n){const i=this.count+1,s=(this.count*this.getX()+e)/i,a=(this.count*this.getY()+t)/i,c=(this.count*this.estimatedModuleSize+n)/i;return new Pr(s,a,c,i)}}class Vo{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class ve{constructor(t,e){this.image=t,this.resultPointCallback=e,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=e}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const e=t!=null&&t.get(wt.TRY_HARDER)!==void 0,n=t!=null&&t.get(wt.PURE_BARCODE)!==void 0,i=this.image,s=i.getHeight(),a=i.getWidth();let c=Math.floor(3*s/(4*ve.MAX_MODULES));(c<ve.MIN_SKIP||e)&&(c=ve.MIN_SKIP);let u=!1;const g=new Int32Array(5);for(let w=c-1;w<s&&!u;w+=c){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let b=0;for(let S=0;S<a;S++)if(i.get(S,w))(b&1)===1&&b++,g[b]++;else if(b&1)g[b]++;else if(b===4)if(ve.foundPatternCross(g)){if(this.handlePossibleCenter(g,w,S,n)===!0)if(c=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{const L=this.findRowSkip();L>g[2]&&(w+=L-g[2]-c,S=a-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,b=3;continue}b=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,b=3;else g[++b]++;ve.foundPatternCross(g)&&this.handlePossibleCenter(g,w,a,n)===!0&&(c=g[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}const x=this.selectBestPatterns();return B.orderBestPatterns(x),new Vo(x)}static centerFromEnd(t,e){return e-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let e=0;for(let s=0;s<5;s++){const a=t[s];if(a===0)return!1;e+=a}if(e<7)return!1;const n=e/7,i=n/2;return Math.abs(n-t[0])<i&&Math.abs(n-t[1])<i&&Math.abs(3*n-t[2])<3*i&&Math.abs(n-t[3])<i&&Math.abs(n-t[4])<i}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,e,n,i){const s=this.getCrossCheckStateCount();let a=0;const c=this.image;for(;t>=a&&e>=a&&c.get(e-a,t-a);)s[2]++,a++;if(t<a||e<a)return!1;for(;t>=a&&e>=a&&!c.get(e-a,t-a)&&s[1]<=n;)s[1]++,a++;if(t<a||e<a||s[1]>n)return!1;for(;t>=a&&e>=a&&c.get(e-a,t-a)&&s[0]<=n;)s[0]++,a++;if(s[0]>n)return!1;const u=c.getHeight(),g=c.getWidth();for(a=1;t+a<u&&e+a<g&&c.get(e+a,t+a);)s[2]++,a++;if(t+a>=u||e+a>=g)return!1;for(;t+a<u&&e+a<g&&!c.get(e+a,t+a)&&s[3]<n;)s[3]++,a++;if(t+a>=u||e+a>=g||s[3]>=n)return!1;for(;t+a<u&&e+a<g&&c.get(e+a,t+a)&&s[4]<n;)s[4]++,a++;if(s[4]>=n)return!1;const x=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(x-i)<2*i&&ve.foundPatternCross(s)}crossCheckVertical(t,e,n,i){const s=this.image,a=s.getHeight(),c=this.getCrossCheckStateCount();let u=t;for(;u>=0&&s.get(e,u);)c[2]++,u--;if(u<0)return NaN;for(;u>=0&&!s.get(e,u)&&c[1]<=n;)c[1]++,u--;if(u<0||c[1]>n)return NaN;for(;u>=0&&s.get(e,u)&&c[0]<=n;)c[0]++,u--;if(c[0]>n)return NaN;for(u=t+1;u<a&&s.get(e,u);)c[2]++,u++;if(u===a)return NaN;for(;u<a&&!s.get(e,u)&&c[3]<n;)c[3]++,u++;if(u===a||c[3]>=n)return NaN;for(;u<a&&s.get(e,u)&&c[4]<n;)c[4]++,u++;if(c[4]>=n)return NaN;const g=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(g-i)>=2*i?NaN:ve.foundPatternCross(c)?ve.centerFromEnd(c,u):NaN}crossCheckHorizontal(t,e,n,i){const s=this.image,a=s.getWidth(),c=this.getCrossCheckStateCount();let u=t;for(;u>=0&&s.get(u,e);)c[2]++,u--;if(u<0)return NaN;for(;u>=0&&!s.get(u,e)&&c[1]<=n;)c[1]++,u--;if(u<0||c[1]>n)return NaN;for(;u>=0&&s.get(u,e)&&c[0]<=n;)c[0]++,u--;if(c[0]>n)return NaN;for(u=t+1;u<a&&s.get(u,e);)c[2]++,u++;if(u===a)return NaN;for(;u<a&&!s.get(u,e)&&c[3]<n;)c[3]++,u++;if(u===a||c[3]>=n)return NaN;for(;u<a&&s.get(u,e)&&c[4]<n;)c[4]++,u++;if(c[4]>=n)return NaN;const g=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(g-i)>=i?NaN:ve.foundPatternCross(c)?ve.centerFromEnd(c,u):NaN}handlePossibleCenter(t,e,n,i){const s=t[0]+t[1]+t[2]+t[3]+t[4];let a=ve.centerFromEnd(t,n),c=this.crossCheckVertical(e,Math.floor(a),t[2],s);if(!isNaN(c)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(c),t[2],s),!isNaN(a)&&(!i||this.crossCheckDiagonal(Math.floor(c),Math.floor(a),t[2],s)))){const u=s/7;let g=!1;const x=this.possibleCenters;for(let w=0,b=x.length;w<b;w++){const S=x[w];if(S.aboutEquals(u,c,a)){x[w]=S.combineEstimate(c,a,u),g=!0;break}}if(!g){const w=new Pr(a,c,u);x.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let e=null;for(const n of this.possibleCenters)if(n.getCount()>=ve.CENTER_QUORUM)if(e==null)e=n;else return this.hasSkipped=!0,Math.floor((Math.abs(e.getX()-n.getX())-Math.abs(e.getY()-n.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,e=0;const n=this.possibleCenters.length;for(const a of this.possibleCenters)a.getCount()>=ve.CENTER_QUORUM&&(t++,e+=a.getEstimatedModuleSize());if(t<3)return!1;const i=e/n;let s=0;for(const a of this.possibleCenters)s+=Math.abs(a.getEstimatedModuleSize()-i);return s<=.05*e}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new H;const e=this.possibleCenters;let n;if(t>3){let i=0,s=0;for(const u of this.possibleCenters){const g=u.getEstimatedModuleSize();i+=g,s+=g*g}n=i/t;let a=Math.sqrt(s/t-n*n);e.sort((u,g)=>{const x=Math.abs(g.getEstimatedModuleSize()-n),w=Math.abs(u.getEstimatedModuleSize()-n);return x<w?-1:x>w?1:0});const c=Math.max(.2*n,a);for(let u=0;u<e.length&&e.length>3;u++){const g=e[u];Math.abs(g.getEstimatedModuleSize()-n)>c&&(e.splice(u,1),u--)}}if(e.length>3){let i=0;for(const s of e)i+=s.getEstimatedModuleSize();n=i/e.length,e.sort((s,a)=>{if(a.getCount()===s.getCount()){const c=Math.abs(a.getEstimatedModuleSize()-n),u=Math.abs(s.getEstimatedModuleSize()-n);return c<u?1:c>u?-1:0}else return a.getCount()-s.getCount()}),e.splice(3)}return[e[0],e[1],e[2]]}}ve.CENTER_QUORUM=2,ve.MIN_SKIP=3,ve.MAX_MODULES=57;class In{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(wt.NEED_RESULT_POINT_CALLBACK);const n=new ve(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(n)}processFinderPatternInfo(t){const e=t.getTopLeft(),n=t.getTopRight(),i=t.getBottomLeft(),s=this.calculateModuleSize(e,n,i);if(s<1)throw new H("No pattern found in proccess finder.");const a=In.computeDimension(e,n,i,s),c=yt.getProvisionalVersionForDimension(a),u=c.getDimensionForVersion()-7;let g=null;if(c.getAlignmentPatternCenters().length>0){const S=n.getX()-e.getX()+i.getX(),R=n.getY()-e.getY()+i.getY(),L=1-3/u,P=Math.floor(e.getX()+L*(S-e.getX())),V=Math.floor(e.getY()+L*(R-e.getY()));for(let it=4;it<=16;it<<=1)try{g=this.findAlignmentInRegion(s,P,V,it);break}catch(st){if(!(st instanceof H))throw st}}const x=In.createTransform(e,n,i,g,a),w=In.sampleGrid(this.image,x,a);let b;return g===null?b=[i,e,n]:b=[i,e,n,g],new Ct(w,b)}static createTransform(t,e,n,i,s){const a=s-3.5;let c,u,g,x;return i!==null?(c=i.getX(),u=i.getY(),g=a-3,x=g):(c=e.getX()-t.getX()+n.getX(),u=e.getY()-t.getY()+n.getY(),g=a,x=a),Ot.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,g,x,3.5,a,t.getX(),t.getY(),e.getX(),e.getY(),c,u,n.getX(),n.getY())}static sampleGrid(t,e,n){return Ut.getInstance().sampleGridWithTransform(t,n,n,e)}static computeDimension(t,e,n,i){const s=G.round(B.distance(t,e)/i),a=G.round(B.distance(t,n)/i);let c=Math.floor((s+a)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new H("Dimensions could be not found.")}return c}calculateModuleSize(t,e,n){return(this.calculateModuleSizeOneWay(t,e)+this.calculateModuleSizeOneWay(t,n))/2}calculateModuleSizeOneWay(t,e){const n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14}sizeOfBlackWhiteBlackRunBothWays(t,e,n,i){let s=this.sizeOfBlackWhiteBlackRun(t,e,n,i),a=1,c=t-(n-t);c<0?(a=t/(t-c),c=0):c>=this.image.getWidth()&&(a=(this.image.getWidth()-1-t)/(c-t),c=this.image.getWidth()-1);let u=Math.floor(e-(i-e)*a);return a=1,u<0?(a=e/(e-u),u=0):u>=this.image.getHeight()&&(a=(this.image.getHeight()-1-e)/(u-e),u=this.image.getHeight()-1),c=Math.floor(t+(c-t)*a),s+=this.sizeOfBlackWhiteBlackRun(t,e,c,u),s-1}sizeOfBlackWhiteBlackRun(t,e,n,i){const s=Math.abs(i-e)>Math.abs(n-t);if(s){let S=t;t=e,e=S,S=n,n=i,i=S}const a=Math.abs(n-t),c=Math.abs(i-e);let u=-a/2;const g=t<n?1:-1,x=e<i?1:-1;let w=0;const b=n+g;for(let S=t,R=e;S!==b;S+=g){const L=s?R:S,P=s?S:R;if(w===1===this.image.get(L,P)){if(w===2)return G.distance(S,R,t,e);w++}if(u+=c,u>0){if(R===i)break;R+=x,u-=a}}return w===2?G.distance(n+g,i,t,e):NaN}findAlignmentInRegion(t,e,n,i){const s=Math.floor(i*t),a=Math.max(0,e-s),c=Math.min(this.image.getWidth()-1,e+s);if(c-a<t*3)throw new H("Alignment top exceeds estimated module size.");const u=Math.max(0,n-s),g=Math.min(this.image.getHeight()-1,n+s);if(g-u<t*3)throw new H("Alignment bottom exceeds estimated module size.");return new ui(this.image,a,u,c-a,g-u,t,this.resultPointCallback).find()}}class Pn{constructor(){this.decoder=new Uo}getDecoder(){return this.decoder}decode(t,e){let n,i;if(e!=null&&e.get(wt.PURE_BARCODE)!==void 0){const u=Pn.extractPureBits(t.getBlackMatrix());n=this.decoder.decodeBitMatrix(u,e),i=Pn.NO_POINTS}else{const u=new In(t.getBlackMatrix()).detect(e);n=this.decoder.decodeBitMatrix(u.getBits(),e),i=u.getPoints()}n.getOther()instanceof Ns&&n.getOther().applyMirroredCorrection(i);const s=new de(n.getText(),n.getRawBytes(),void 0,i,gt.QR_CODE,void 0),a=n.getByteSegments();a!==null&&s.putMetadata(Jt.BYTE_SEGMENTS,a);const c=n.getECLevel();return c!==null&&s.putMetadata(Jt.ERROR_CORRECTION_LEVEL,c),n.hasStructuredAppend()&&(s.putMetadata(Jt.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(Jt.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s}reset(){}static extractPureBits(t){const e=t.getTopLeftOnBit(),n=t.getBottomRightOnBit();if(e===null||n===null)throw new H;const i=this.moduleSize(e,t);let s=e[1],a=n[1],c=e[0],u=n[0];if(c>=u||s>=a)throw new H;if(a-s!==u-c&&(u=c+(a-s),u>=t.getWidth()))throw new H;const g=Math.round((u-c+1)/i),x=Math.round((a-s+1)/i);if(g<=0||x<=0)throw new H;if(x!==g)throw new H;const w=Math.floor(i/2);s+=w,c+=w;const b=c+Math.floor((g-1)*i)-u;if(b>0){if(b>w)throw new H;c-=b}const S=s+Math.floor((x-1)*i)-a;if(S>0){if(S>w)throw new H;s-=S}const R=new re(g,x);for(let L=0;L<x;L++){const P=s+Math.floor(L*i);for(let V=0;V<g;V++)t.get(c+Math.floor(V*i),P)&&R.set(V,L)}return R}static moduleSize(t,e){const n=e.getHeight(),i=e.getWidth();let s=t[0],a=t[1],c=!0,u=0;for(;s<i&&a<n;){if(c!==e.get(s,a)){if(++u===5)break;c=!c}s++,a++}if(s===i||a===n)throw new H;return(s-t[0])/7}}Pn.NO_POINTS=new Array;class Lt{PDF417Common(){}static getBitCountSum(t){return G.sum(t)}static toIntArray(t){if(t==null||!t.length)return Lt.EMPTY_INT_ARRAY;const e=new Int32Array(t.length);let n=0;for(const i of t)e[n++]=i;return e}static getCodeword(t){const e=ht.binarySearch(Lt.SYMBOL_TABLE,t&262143);return e<0?-1:(Lt.CODEWORD_TABLE[e]-1)%Lt.NUMBER_OF_CODEWORDS}}Lt.NUMBER_OF_CODEWORDS=929,Lt.MAX_CODEWORDS_IN_BARCODE=Lt.NUMBER_OF_CODEWORDS-1,Lt.MIN_ROWS_IN_BARCODE=3,Lt.MAX_ROWS_IN_BARCODE=90,Lt.MODULES_IN_CODEWORD=17,Lt.MODULES_IN_STOP_PATTERN=18,Lt.BARS_IN_MODULE=8,Lt.EMPTY_INT_ARRAY=new Int32Array([]),Lt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Lt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class lr{constructor(t,e){this.bits=t,this.points=e}getBits(){return this.bits}getPoints(){return this.points}}class kt{static detectMultiple(t,e,n){let i=t.getBlackMatrix(),s=kt.detect(n,i);return s.length||(i=i.clone(),i.rotate180(),s=kt.detect(n,i)),new lr(i,s)}static detect(t,e){const n=new Array;let i=0,s=0,a=!1;for(;i<e.getHeight();){const c=kt.findVertices(e,i,s);if(c[0]==null&&c[3]==null){if(!a)break;a=!1,s=0;for(const u of n)u[1]!=null&&(i=Math.trunc(Math.max(i,u[1].getY()))),u[3]!=null&&(i=Math.max(i,Math.trunc(u[3].getY())));i+=kt.ROW_STEP;continue}if(a=!0,n.push(c),!t)break;c[2]!=null?(s=Math.trunc(c[2].getX()),i=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),i=Math.trunc(c[4].getY()))}return n}static findVertices(t,e,n){const i=t.getHeight(),s=t.getWidth(),a=new Array(8);return kt.copyToResult(a,kt.findRowsWithPattern(t,i,s,e,n,kt.START_PATTERN),kt.INDEXES_START_PATTERN),a[4]!=null&&(n=Math.trunc(a[4].getX()),e=Math.trunc(a[4].getY())),kt.copyToResult(a,kt.findRowsWithPattern(t,i,s,e,n,kt.STOP_PATTERN),kt.INDEXES_STOP_PATTERN),a}static copyToResult(t,e,n){for(let i=0;i<n.length;i++)t[n[i]]=e[i]}static findRowsWithPattern(t,e,n,i,s,a){const c=new Array(4);let u=!1;const g=new Int32Array(a.length);for(;i<e;i+=kt.ROW_STEP){let w=kt.findGuardPattern(t,s,i,n,!1,a,g);if(w!=null){for(;i>0;){const b=kt.findGuardPattern(t,s,--i,n,!1,a,g);if(b!=null)w=b;else{i++;break}}c[0]=new B(w[0],i),c[1]=new B(w[1],i),u=!0;break}}let x=i+1;if(u){let w=0,b=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);for(;x<e;x++){const S=kt.findGuardPattern(t,b[0],x,n,!1,a,g);if(S!=null&&Math.abs(b[0]-S[0])<kt.MAX_PATTERN_DRIFT&&Math.abs(b[1]-S[1])<kt.MAX_PATTERN_DRIFT)b=S,w=0;else{if(w>kt.SKIPPED_ROW_COUNT_MAX)break;w++}}x-=w+1,c[2]=new B(b[0],x),c[3]=new B(b[1],x)}return x-i<kt.BARCODE_MIN_HEIGHT&&ht.fill(c,null),c}static findGuardPattern(t,e,n,i,s,a,c){ht.fillWithin(c,0,c.length,0);let u=e,g=0;for(;t.get(u,n)&&u>0&&g++<kt.MAX_PIXEL_DRIFT;)u--;let x=u,w=0,b=a.length;for(let S=s;x<i;x++)if(t.get(x,n)!==S)c[w]++;else{if(w===b-1){if(kt.patternMatchVariance(c,a,kt.MAX_INDIVIDUAL_VARIANCE)<kt.MAX_AVG_VARIANCE)return new Int32Array([u,x]);u+=c[0]+c[1],J.arraycopy(c,2,c,0,w-1),c[w-1]=0,c[w]=0,w--}else w++;c[w]=1,S=!S}return w===b-1&&kt.patternMatchVariance(c,a,kt.MAX_INDIVIDUAL_VARIANCE)<kt.MAX_AVG_VARIANCE?new Int32Array([u,x-1]):null}static patternMatchVariance(t,e,n){let i=t.length,s=0,a=0;for(let g=0;g<i;g++)s+=t[g],a+=e[g];if(s<a)return 1/0;let c=s/a;n*=c;let u=0;for(let g=0;g<i;g++){let x=t[g],w=e[g]*c,b=x>w?x-w:w-x;if(b>n)return 1/0;u+=b}return u/s}}kt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),kt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),kt.MAX_AVG_VARIANCE=.42,kt.MAX_INDIVIDUAL_VARIANCE=.8,kt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),kt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),kt.MAX_PIXEL_DRIFT=3,kt.MAX_PATTERN_DRIFT=5,kt.SKIPPED_ROW_COUNT_MAX=25,kt.ROW_STEP=5,kt.BARCODE_MIN_HEIGHT=10;class De{constructor(t,e){if(e.length===0)throw new D;this.field=t;let n=e.length;if(n>1&&e[0]===0){let i=1;for(;i<n&&e[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),J.arraycopy(e,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=e}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let i=0;for(let s of this.coefficients)i=this.field.add(i,s);return i}let e=this.coefficients[0],n=this.coefficients.length;for(let i=1;i<n;i++)e=this.field.add(this.field.multiply(t,e),this.coefficients[i]);return e}add(t){if(!this.field.equals(t.field))throw new D("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let e=this.coefficients,n=t.coefficients;if(e.length>n.length){let a=e;e=n,n=a}let i=new Int32Array(n.length),s=n.length-e.length;J.arraycopy(n,0,i,0,s);for(let a=s;a<n.length;a++)i[a]=this.field.add(e[a-s],n[a]);return new De(this.field,i)}subtract(t){if(!this.field.equals(t.field))throw new D("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof De?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new D("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new De(this.field,new Int32Array([0]));let e=this.coefficients,n=e.length,i=t.coefficients,s=i.length,a=new Int32Array(n+s-1);for(let c=0;c<n;c++){let u=e[c];for(let g=0;g<s;g++)a[c+g]=this.field.add(a[c+g],this.field.multiply(u,i[g]))}return new De(this.field,a)}negative(){let t=this.coefficients.length,e=new Int32Array(t);for(let n=0;n<t;n++)e[n]=this.field.subtract(0,this.coefficients[n]);return new De(this.field,e)}multiplyScalar(t){if(t===0)return new De(this.field,new Int32Array([0]));if(t===1)return this;let e=this.coefficients.length,n=new Int32Array(e);for(let i=0;i<e;i++)n[i]=this.field.multiply(this.coefficients[i],t);return new De(this.field,n)}multiplyByMonomial(t,e){if(t<0)throw new D;if(e===0)return new De(this.field,new Int32Array([0]));let n=this.coefficients.length,i=new Int32Array(n+t);for(let s=0;s<n;s++)i[s]=this.field.multiply(this.coefficients[s],e);return new De(this.field,i)}toString(){let t=new St;for(let e=this.getDegree();e>=0;e--){let n=this.getCoefficient(e);n!==0&&(n<0?(t.append(" - "),n=-n):t.length()>0&&t.append(" + "),(e===0||n!==1)&&t.append(n),e!==0&&(e===1?t.append("x"):(t.append("x^"),t.append(e))))}return t.toString()}}class Os{add(t,e){return(t+e)%this.modulus}subtract(t,e){return(this.modulus+t-e)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new D;return this.logTable[t]}inverse(t){if(t===0)throw new v;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,e){return t===0||e===0?0:this.expTable[(this.logTable[t]+this.logTable[e])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class zi extends Os{constructor(t,e){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let n=1;for(let i=0;i<t;i++)this.expTable[i]=n,n=n*e%t;for(let i=0;i<t-1;i++)this.logTable[this.expTable[i]]=i;this.zero=new De(this,new Int32Array([0])),this.one=new De(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,e){if(t<0)throw new D;if(e===0)return this.zero;let n=new Int32Array(t+1);return n[0]=e,new De(this,n)}}zi.PDF417_GF=new zi(Lt.NUMBER_OF_CODEWORDS,3);class Ki{constructor(){this.field=zi.PDF417_GF}decode(t,e,n){let i=new De(this.field,t),s=new Int32Array(e),a=!1;for(let R=e;R>0;R--){let L=i.evaluateAt(this.field.exp(R));s[e-R]=L,L!==0&&(a=!0)}if(!a)return 0;let c=this.field.getOne();if(n!=null)for(const R of n){let L=this.field.exp(t.length-1-R),P=new De(this.field,new Int32Array([this.field.subtract(0,L),1]));c=c.multiply(P)}let u=new De(this.field,s),g=this.runEuclideanAlgorithm(this.field.buildMonomial(e,1),u,e),x=g[0],w=g[1],b=this.findErrorLocations(x),S=this.findErrorMagnitudes(w,x,b);for(let R=0;R<b.length;R++){let L=t.length-1-this.field.log(b[R]);if(L<0)throw z.getChecksumInstance();t[L]=this.field.subtract(t[L],S[R])}return b.length}runEuclideanAlgorithm(t,e,n){if(t.getDegree()<e.getDegree()){let b=t;t=e,e=b}let i=t,s=e,a=this.field.getZero(),c=this.field.getOne();for(;s.getDegree()>=Math.round(n/2);){let b=i,S=a;if(i=s,a=c,i.isZero())throw z.getChecksumInstance();s=b;let R=this.field.getZero(),L=i.getCoefficient(i.getDegree()),P=this.field.inverse(L);for(;s.getDegree()>=i.getDegree()&&!s.isZero();){let V=s.getDegree()-i.getDegree(),it=this.field.multiply(s.getCoefficient(s.getDegree()),P);R=R.add(this.field.buildMonomial(V,it)),s=s.subtract(i.multiplyByMonomial(V,it))}c=R.multiply(a).subtract(S).negative()}let u=c.getCoefficient(0);if(u===0)throw z.getChecksumInstance();let g=this.field.inverse(u),x=c.multiply(g),w=s.multiply(g);return[x,w]}findErrorLocations(t){let e=t.getDegree(),n=new Int32Array(e),i=0;for(let s=1;s<this.field.getSize()&&i<e;s++)t.evaluateAt(s)===0&&(n[i]=this.field.inverse(s),i++);if(i!==e)throw z.getChecksumInstance();return n}findErrorMagnitudes(t,e,n){let i=e.getDegree(),s=new Int32Array(i);for(let g=1;g<=i;g++)s[i-g]=this.field.multiply(g,e.getCoefficient(g));let a=new De(this.field,s),c=n.length,u=new Int32Array(c);for(let g=0;g<c;g++){let x=this.field.inverse(n[g]),w=this.field.subtract(0,t.evaluateAt(x)),b=this.field.inverse(a.evaluateAt(x));u[g]=this.field.multiply(w,b)}return u}}class cr{constructor(t,e,n,i,s){t instanceof cr?this.constructor_2(t):this.constructor_1(t,e,n,i,s)}constructor_1(t,e,n,i,s){const a=e==null||n==null,c=i==null||s==null;if(a&&c)throw new H;a?(e=new B(0,i.getY()),n=new B(0,s.getY())):c&&(i=new B(t.getWidth()-1,e.getY()),s=new B(t.getWidth()-1,n.getY())),this.image=t,this.topLeft=e,this.bottomLeft=n,this.topRight=i,this.bottomRight=s,this.minX=Math.trunc(Math.min(e.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),s.getX())),this.minY=Math.trunc(Math.min(e.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),s.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,e){return t==null?e:e==null?t:new cr(t.image,t.topLeft,t.bottomLeft,e.topRight,e.bottomRight)}addMissingRows(t,e,n){let i=this.topLeft,s=this.bottomLeft,a=this.topRight,c=this.bottomRight;if(t>0){let u=n?this.topLeft:this.topRight,g=Math.trunc(u.getY()-t);g<0&&(g=0);let x=new B(u.getX(),g);n?i=x:a=x}if(e>0){let u=n?this.bottomLeft:this.bottomRight,g=Math.trunc(u.getY()+e);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let x=new B(u.getX(),g);n?s=x:c=x}return new cr(this.image,i,s,a,c)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ho{constructor(t,e,n,i){this.columnCount=t,this.errorCorrectionLevel=i,this.rowCountUpperPart=e,this.rowCountLowerPart=n,this.rowCount=e+n}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Fr{constructor(){this.buffer=""}static form(t,e){let n=-1;function i(a,c,u,g,x,w){if(a==="%%")return"%";if(e[++n]===void 0)return;a=g?parseInt(g.substr(1)):void 0;let b=x?parseInt(x.substr(1)):void 0,S;switch(w){case"s":S=e[n];break;case"c":S=e[n][0];break;case"f":S=parseFloat(e[n]).toFixed(a);break;case"p":S=parseFloat(e[n]).toPrecision(a);break;case"e":S=parseFloat(e[n]).toExponential(a);break;case"x":S=parseInt(e[n]).toString(b||16);break;case"d":S=parseFloat(parseInt(e[n],b||10).toPrecision(a)).toFixed(0);break}S=typeof S=="object"?JSON.stringify(S):(+S).toString(b);let R=parseInt(u),L=u&&u[0]+""=="0"?"0":" ";for(;S.length<R;)S=c!==void 0?S+L:L+S;return S}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,i)}format(t,...e){this.buffer+=Fr.form(t,e)}toString(){return this.buffer}}class kr{constructor(t){this.boundingBox=new cr(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let e=this.getCodeword(t);if(e!=null)return e;for(let n=1;n<kr.MAX_NEARBY_DISTANCE;n++){let i=this.imageRowToCodewordIndex(t)-n;if(i>=0&&(e=this.codewords[i],e!=null)||(i=this.imageRowToCodewordIndex(t)+n,i<this.codewords.length&&(e=this.codewords[i],e!=null)))return e}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,e){this.codewords[this.imageRowToCodewordIndex(t)]=e}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Fr;let e=0;for(const n of this.codewords){if(n==null){t.format("%3d:    |   %n",e++);continue}t.format("%3d: %3d|%3d%n",e++,n.getRowNumber(),n.getValue())}return t.toString()}}kr.MAX_NEARBY_DISTANCE=5;class Ur{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let e=this.values.get(t);e==null&&(e=0),e++,this.values.set(t,e)}getValue(){let t=-1,e=new Array;for(const[n,i]of this.values.entries()){const s={getKey:()=>n,getValue:()=>i};s.getValue()>t?(t=s.getValue(),e=[],e.push(s.getKey())):s.getValue()===t&&e.push(s.getKey())}return Lt.toIntArray(e)}getConfidence(t){return this.values.get(t)}}class Zi extends kr{constructor(t,e){super(t),this._isLeft=e}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let e=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(e,t);let n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),s=this._isLeft?n.getBottomLeft():n.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=-1,g=1,x=0;for(let w=a;w<c;w++){if(e[w]==null)continue;let b=e[w],S=b.getRowNumber()-u;if(S===0)x++;else if(S===1)g=Math.max(g,x),x=1,u=b.getRowNumber();else if(S<0||b.getRowNumber()>=t.getRowCount()||S>w)e[w]=null;else{let R;g>2?R=(g-2)*S:R=S;let L=R>=w;for(let P=1;P<=R&&!L;P++)L=e[w-P]!=null;L?e[w]=null:(u=b.getRowNumber(),x=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let e=new Int32Array(t.getRowCount());for(let n of this.getCodewords())if(n!=null){let i=n.getRowNumber();if(i>=e.length)continue;e[i]++}return e}adjustIncompleteIndicatorColumnRowNumbers(t){let e=this.getBoundingBox(),n=this._isLeft?e.getTopLeft():e.getTopRight(),i=this._isLeft?e.getBottomLeft():e.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(n.getY())),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.getCodewords(),u=-1;for(let g=s;g<a;g++){if(c[g]==null)continue;let x=c[g];x.setRowNumberAsRowIndicatorColumn();let w=x.getRowNumber()-u;w===0||(w===1?u=x.getRowNumber():x.getRowNumber()>=t.getRowCount()?c[g]=null:u=x.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),e=new Ur,n=new Ur,i=new Ur,s=new Ur;for(let c of t){if(c==null)continue;c.setRowNumberAsRowIndicatorColumn();let u=c.getValue()%30,g=c.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:n.setValue(u*3+1);break;case 1:s.setValue(u/3),i.setValue(u%3);break;case 2:e.setValue(u+1);break}}if(e.getValue().length===0||n.getValue().length===0||i.getValue().length===0||s.getValue().length===0||e.getValue()[0]<1||n.getValue()[0]+i.getValue()[0]<Lt.MIN_ROWS_IN_BARCODE||n.getValue()[0]+i.getValue()[0]>Lt.MAX_ROWS_IN_BARCODE)return null;let a=new Ho(e.getValue()[0],n.getValue()[0],i.getValue()[0],s.getValue()[0]);return this.removeIncorrectCodewords(t,a),a}removeIncorrectCodewords(t,e){for(let n=0;n<t.length;n++){let i=t[n];if(t[n]==null)continue;let s=i.getValue()%30,a=i.getRowNumber();if(a>e.getRowCount()){t[n]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:s*3+1!==e.getRowCountUpperPart()&&(t[n]=null);break;case 1:(Math.trunc(s/3)!==e.getErrorCorrectionLevel()||s%3!==e.getRowCountLowerPart())&&(t[n]=null);break;case 2:s+1!==e.getColumnCount()&&(t[n]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class yr{constructor(t,e){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=e,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Lt.MAX_CODEWORDS_IN_BARCODE,e;do e=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<e);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let e=1;e<this.barcodeColumnCount+1;e++){let n=this.detectionResultColumns[e].getCodewords();for(let i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(e,i,n))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),e=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<t.length;n++)if(t[n]!=null&&e[n]!=null&&t[n].getRowNumber()===e[n].getRowNumber())for(let i=1;i<=this.barcodeColumnCount;i++){let s=this.detectionResultColumns[i].getCodewords()[n];s!=null&&(s.setRowNumber(t[n].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,e=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<e.length;n++){if(e[n]==null)continue;let i=e[n].getRowNumber(),s=0;for(let a=this.barcodeColumnCount+1;a>0&&s<this.ADJUST_ROW_NUMBER_SKIP;a--){let c=this.detectionResultColumns[a].getCodewords()[n];c!=null&&(s=yr.adjustRowNumberIfValid(i,s,c),c.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,e=this.detectionResultColumns[0].getCodewords();for(let n=0;n<e.length;n++){if(e[n]==null)continue;let i=e[n].getRowNumber(),s=0;for(let a=1;a<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;a++){let c=this.detectionResultColumns[a].getCodewords()[n];c!=null&&(s=yr.adjustRowNumberIfValid(i,s,c),c.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,e,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(t)?(n.setRowNumber(t),e=0):++e),e}adjustRowNumbers(t,e,n){if(!this.detectionResultColumns[t-1])return;let i=n[e],s=this.detectionResultColumns[t-1].getCodewords(),a=s;this.detectionResultColumns[t+1]!=null&&(a=this.detectionResultColumns[t+1].getCodewords());let c=new Array(14);c[2]=s[e],c[3]=a[e],e>0&&(c[0]=n[e-1],c[4]=s[e-1],c[5]=a[e-1]),e>1&&(c[8]=n[e-2],c[10]=s[e-2],c[11]=a[e-2]),e<n.length-1&&(c[1]=n[e+1],c[6]=s[e+1],c[7]=a[e+1]),e<n.length-2&&(c[9]=n[e+2],c[12]=s[e+2],c[13]=a[e+2]);for(let u of c)if(yr.adjustRowNumber(i,u))return}static adjustRowNumber(t,e){return e==null?!1:e.hasValidRowNumber()&&e.getBucket()===t.getBucket()?(t.setRowNumber(e.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,e){this.detectionResultColumns[t]=e}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let e=new Fr;for(let n=0;n<t.getCodewords().length;n++){e.format("CW %3d:",n);for(let i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){e.format("    |   ");continue}let s=this.detectionResultColumns[i].getCodewords()[n];if(s==null){e.format("    |   ");continue}e.format(" %3d|%3d",s.getRowNumber(),s.getValue())}e.format("%n")}return e.toString()}}class Vr{constructor(t,e,n,i){this.rowNumber=Vr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(e),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Vr.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Vr.BARCODE_ROW_UNKNOWN=-1;class Ie{static initialize(){for(let t=0;t<Lt.SYMBOL_TABLE.length;t++){let e=Lt.SYMBOL_TABLE[t],n=e&1;for(let i=0;i<Lt.BARS_IN_MODULE;i++){let s=0;for(;(e&1)===n;)s+=1,e>>=1;n=e&1,Ie.RATIOS_TABLE[t]||(Ie.RATIOS_TABLE[t]=new Array(Lt.BARS_IN_MODULE)),Ie.RATIOS_TABLE[t][Lt.BARS_IN_MODULE-i-1]=Math.fround(s/Lt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let e=Ie.getDecodedCodewordValue(Ie.sampleBitCounts(t));return e!==-1?e:Ie.getClosestDecodedValue(t)}static sampleBitCounts(t){let e=G.sum(t),n=new Int32Array(Lt.BARS_IN_MODULE),i=0,s=0;for(let a=0;a<Lt.MODULES_IN_CODEWORD;a++){let c=e/(2*Lt.MODULES_IN_CODEWORD)+a*e/Lt.MODULES_IN_CODEWORD;s+t[i]<=c&&(s+=t[i],i++),n[i]++}return n}static getDecodedCodewordValue(t){let e=Ie.getBitValue(t);return Lt.getCodeword(e)===-1?-1:e}static getBitValue(t){let e=0;for(let n=0;n<t.length;n++)for(let i=0;i<t[n];i++)e=e<<1|(n%2===0?1:0);return Math.trunc(e)}static getClosestDecodedValue(t){let e=G.sum(t),n=new Array(Lt.BARS_IN_MODULE);if(e>1)for(let a=0;a<n.length;a++)n[a]=Math.fround(t[a]/e);let i=U.MAX_VALUE,s=-1;this.bSymbolTableReady||Ie.initialize();for(let a=0;a<Ie.RATIOS_TABLE.length;a++){let c=0,u=Ie.RATIOS_TABLE[a];for(let g=0;g<Lt.BARS_IN_MODULE;g++){let x=Math.fround(u[g]-n[g]);if(c+=Math.fround(x*x),c>=i)break}c<i&&(i=c,s=Lt.SYMBOL_TABLE[a])}return s}}Ie.bSymbolTableReady=!1,Ie.RATIOS_TABLE=new Array(Lt.SYMBOL_TABLE.length).map(_=>new Array(Lt.BARS_IN_MODULE));class vs{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Rs{static parseLong(t,e=void 0){return parseInt(t,e)}}class Ds extends m{}Ds.kind="NullPointerException";class Wo{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,e,n){if(t==null)throw new Ds;if(e<0||e>t.length||n<0||e+n>t.length||e+n<0)throw new dt;if(n===0)return;for(let i=0;i<n;i++)this.write(t[e+i])}flush(){}close(){}}class Go extends m{}class ur extends Wo{constructor(t=32){if(super(),this.count=0,t<0)throw new D("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let n=this.buf.length<<1;if(n-t<0&&(n=t),n<0){if(t<0)throw new Go;n=at.MAX_VALUE}this.buf=ht.copyOfUint8Array(this.buf,n)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,e,n){if(e<0||e>t.length||n<0||e+n-t.length>0)throw new dt;this.ensureCapacity(this.count+n),J.arraycopy(t,e,this.buf,this.count,n),this.count+=n}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return ht.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var ae;(function(_){_[_.ALPHA=0]="ALPHA",_[_.LOWER=1]="LOWER",_[_.MIXED=2]="MIXED",_[_.PUNCT=3]="PUNCT",_[_.ALPHA_SHIFT=4]="ALPHA_SHIFT",_[_.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ae||(ae={}));function Hr(){if(typeof window<"u")return window.BigInt||null;if(typeof Ai<"u")return Ai.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let fi;function Kn(_){if(typeof fi>"u"&&(fi=Hr()),fi===null)throw new Error("BigInt is not supported!");return fi(_)}function Xo(){let _=[];_[0]=Kn(1);let t=Kn(900);_[1]=t;for(let e=2;e<16;e++)_[e]=_[e-1]*t;return _}class k{static decode(t,e){let n=new St(""),i=j.ISO8859_1;n.enableDecoding(i);let s=1,a=t[s++],c=new vs;for(;s<t[0];){switch(a){case k.TEXT_COMPACTION_MODE_LATCH:s=k.textCompaction(t,s,n);break;case k.BYTE_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH_6:s=k.byteCompaction(a,t,i,s,n);break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[s++]);break;case k.NUMERIC_COMPACTION_MODE_LATCH:s=k.numericCompaction(t,s,n);break;case k.ECI_CHARSET:j.getCharacterSetECIByValue(t[s++]);break;case k.ECI_GENERAL_PURPOSE:s+=2;break;case k.ECI_USER_DEFINED:s++;break;case k.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=k.decodeMacroBlock(t,s,c);break;case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case k.MACRO_PDF417_TERMINATOR:throw new q;default:s--,s=k.textCompaction(t,s,n);break}if(s<t.length)a=t[s++];else throw q.getFormatInstance()}if(n.length()===0)throw q.getFormatInstance();let u=new Be(null,n.toString(),null,e);return u.setOther(c),u}static decodeMacroBlock(t,e,n){if(e+k.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw q.getFormatInstance();let i=new Int32Array(k.NUMBER_OF_SEQUENCE_CODEWORDS);for(let c=0;c<k.NUMBER_OF_SEQUENCE_CODEWORDS;c++,e++)i[c]=t[e];n.setSegmentIndex(at.parseInt(k.decodeBase900toBase10(i,k.NUMBER_OF_SEQUENCE_CODEWORDS)));let s=new St;e=k.textCompaction(t,e,s),n.setFileId(s.toString());let a=-1;for(t[e]===k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=e+1);e<t[0];)switch(t[e]){case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e++,t[e]){case k.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let c=new St;e=k.textCompaction(t,e+1,c),n.setFileName(c.toString());break;case k.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let u=new St;e=k.textCompaction(t,e+1,u),n.setSender(u.toString());break;case k.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new St;e=k.textCompaction(t,e+1,g),n.setAddressee(g.toString());break;case k.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let x=new St;e=k.numericCompaction(t,e+1,x),n.setSegmentCount(at.parseInt(x.toString()));break;case k.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let w=new St;e=k.numericCompaction(t,e+1,w),n.setTimestamp(Rs.parseLong(w.toString()));break;case k.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let b=new St;e=k.numericCompaction(t,e+1,b),n.setChecksum(at.parseInt(b.toString()));break;case k.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let S=new St;e=k.numericCompaction(t,e+1,S),n.setFileSize(Rs.parseLong(S.toString()));break;default:throw q.getFormatInstance()}break;case k.MACRO_PDF417_TERMINATOR:e++,n.setLastSegment(!0);break;default:throw q.getFormatInstance()}if(a!==-1){let c=e-a;n.isLastSegment()&&c--,n.setOptionalData(ht.copyOfRange(t,a,a+c))}return e}static textCompaction(t,e,n){let i=new Int32Array((t[0]-e)*2),s=new Int32Array((t[0]-e)*2),a=0,c=!1;for(;e<t[0]&&!c;){let u=t[e++];if(u<k.TEXT_COMPACTION_MODE_LATCH)i[a]=u/30,i[a+1]=u%30,a+=2;else switch(u){case k.TEXT_COMPACTION_MODE_LATCH:i[a++]=k.TEXT_COMPACTION_MODE_LATCH;break;case k.BYTE_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH_6:case k.NUMERIC_COMPACTION_MODE_LATCH:case k.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case k.MACRO_PDF417_TERMINATOR:e--,c=!0;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[a]=k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=t[e++],s[a]=u,a++;break}}return k.decodeTextCompaction(i,s,a,n),e}static decodeTextCompaction(t,e,n,i){let s=ae.ALPHA,a=ae.ALPHA,c=0;for(;c<n;){let u=t[c],g="";switch(s){case ae.ALPHA:if(u<26)g=String.fromCharCode(65+u);else switch(u){case 26:g=" ";break;case k.LL:s=ae.LOWER;break;case k.ML:s=ae.MIXED;break;case k.PS:a=s,s=ae.PUNCT_SHIFT;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[c]);break;case k.TEXT_COMPACTION_MODE_LATCH:s=ae.ALPHA;break}break;case ae.LOWER:if(u<26)g=String.fromCharCode(97+u);else switch(u){case 26:g=" ";break;case k.AS:a=s,s=ae.ALPHA_SHIFT;break;case k.ML:s=ae.MIXED;break;case k.PS:a=s,s=ae.PUNCT_SHIFT;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[c]);break;case k.TEXT_COMPACTION_MODE_LATCH:s=ae.ALPHA;break}break;case ae.MIXED:if(u<k.PL)g=k.MIXED_CHARS[u];else switch(u){case k.PL:s=ae.PUNCT;break;case 26:g=" ";break;case k.LL:s=ae.LOWER;break;case k.AL:s=ae.ALPHA;break;case k.PS:a=s,s=ae.PUNCT_SHIFT;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[c]);break;case k.TEXT_COMPACTION_MODE_LATCH:s=ae.ALPHA;break}break;case ae.PUNCT:if(u<k.PAL)g=k.PUNCT_CHARS[u];else switch(u){case k.PAL:s=ae.ALPHA;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[c]);break;case k.TEXT_COMPACTION_MODE_LATCH:s=ae.ALPHA;break}break;case ae.ALPHA_SHIFT:if(s=a,u<26)g=String.fromCharCode(65+u);else switch(u){case 26:g=" ";break;case k.TEXT_COMPACTION_MODE_LATCH:s=ae.ALPHA;break}break;case ae.PUNCT_SHIFT:if(s=a,u<k.PAL)g=k.PUNCT_CHARS[u];else switch(u){case k.PAL:s=ae.ALPHA;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[c]);break;case k.TEXT_COMPACTION_MODE_LATCH:s=ae.ALPHA;break}break}g!==""&&i.append(g),c++}}static byteCompaction(t,e,n,i,s){let a=new ur,c=0,u=0,g=!1;switch(t){case k.BYTE_COMPACTION_MODE_LATCH:let x=new Int32Array(6),w=e[i++];for(;i<e[0]&&!g;)switch(x[c++]=w,u=900*u+w,w=e[i++],w){case k.TEXT_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH:case k.NUMERIC_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH_6:case k.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case k.MACRO_PDF417_TERMINATOR:i--,g=!0;break;default:if(c%5===0&&c>0){for(let b=0;b<6;++b)a.write(Number(Kn(u)>>Kn(8*(5-b))));u=0,c=0}break}i===e[0]&&w<k.TEXT_COMPACTION_MODE_LATCH&&(x[c++]=w);for(let b=0;b<c;b++)a.write(x[b]);break;case k.BYTE_COMPACTION_MODE_LATCH_6:for(;i<e[0]&&!g;){let b=e[i++];if(b<k.TEXT_COMPACTION_MODE_LATCH)c++,u=900*u+b;else switch(b){case k.TEXT_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH:case k.NUMERIC_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH_6:case k.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case k.MACRO_PDF417_TERMINATOR:i--,g=!0;break}if(c%5===0&&c>0){for(let S=0;S<6;++S)a.write(Number(Kn(u)>>Kn(8*(5-S))));u=0,c=0}}break}return s.append(Dt.decode(a.toByteArray(),n)),i}static numericCompaction(t,e,n){let i=0,s=!1,a=new Int32Array(k.MAX_NUMERIC_CODEWORDS);for(;e<t[0]&&!s;){let c=t[e++];if(e===t[0]&&(s=!0),c<k.TEXT_COMPACTION_MODE_LATCH)a[i]=c,i++;else switch(c){case k.TEXT_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH_6:case k.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case k.MACRO_PDF417_TERMINATOR:e--,s=!0;break}(i%k.MAX_NUMERIC_CODEWORDS===0||c===k.NUMERIC_COMPACTION_MODE_LATCH||s)&&i>0&&(n.append(k.decodeBase900toBase10(a,i)),i=0)}return e}static decodeBase900toBase10(t,e){let n=Kn(0);for(let s=0;s<e;s++)n+=k.EXP900[e-s-1]*Kn(t[s]);let i=n.toString();if(i.charAt(0)!=="1")throw new q;return i.substring(1)}}k.TEXT_COMPACTION_MODE_LATCH=900,k.BYTE_COMPACTION_MODE_LATCH=901,k.NUMERIC_COMPACTION_MODE_LATCH=902,k.BYTE_COMPACTION_MODE_LATCH_6=924,k.ECI_USER_DEFINED=925,k.ECI_GENERAL_PURPOSE=926,k.ECI_CHARSET=927,k.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,k.MACRO_PDF417_TERMINATOR=922,k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,k.MAX_NUMERIC_CODEWORDS=15,k.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,k.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,k.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,k.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,k.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,k.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,k.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,k.PL=25,k.LL=27,k.AS=27,k.ML=28,k.AL=28,k.PS=29,k.PAL=29,k.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,k.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",k.EXP900=Hr()?Xo():[],k.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ht{constructor(){}static decode(t,e,n,i,s,a,c){let u=new cr(t,e,n,i,s),g=null,x=null,w;for(let R=!0;;R=!1){if(e!=null&&(g=Ht.getRowIndicatorColumn(t,u,e,!0,a,c)),i!=null&&(x=Ht.getRowIndicatorColumn(t,u,i,!1,a,c)),w=Ht.merge(g,x),w==null)throw H.getNotFoundInstance();let L=w.getBoundingBox();if(R&&L!=null&&(L.getMinY()<u.getMinY()||L.getMaxY()>u.getMaxY()))u=L;else break}w.setBoundingBox(u);let b=w.getBarcodeColumnCount()+1;w.setDetectionResultColumn(0,g),w.setDetectionResultColumn(b,x);let S=g!=null;for(let R=1;R<=b;R++){let L=S?R:b-R;if(w.getDetectionResultColumn(L)!==void 0)continue;let P;L===0||L===b?P=new Zi(u,L===0):P=new kr(u),w.setDetectionResultColumn(L,P);let V=-1,it=V;for(let st=u.getMinY();st<=u.getMaxY();st++){if(V=Ht.getStartColumn(w,L,st,S),V<0||V>u.getMaxX()){if(it===-1)continue;V=it}let rt=Ht.detectCodeword(t,u.getMinX(),u.getMaxX(),S,V,st,a,c);rt!=null&&(P.setCodeword(st,rt),it=V,a=Math.min(a,rt.getWidth()),c=Math.max(c,rt.getWidth()))}}return Ht.createDecoderResult(w)}static merge(t,e){if(t==null&&e==null)return null;let n=Ht.getBarcodeMetadata(t,e);if(n==null)return null;let i=cr.merge(Ht.adjustBoundingBox(t),Ht.adjustBoundingBox(e));return new yr(n,i)}static adjustBoundingBox(t){if(t==null)return null;let e=t.getRowHeights();if(e==null)return null;let n=Ht.getMax(e),i=0;for(let c of e)if(i+=n-c,c>0)break;let s=t.getCodewords();for(let c=0;i>0&&s[c]==null;c++)i--;let a=0;for(let c=e.length-1;c>=0&&(a+=n-e[c],!(e[c]>0));c--);for(let c=s.length-1;a>0&&s[c]==null;c--)a--;return t.getBoundingBox().addMissingRows(i,a,t.isLeft())}static getMax(t){let e=-1;for(let n of t)e=Math.max(e,n);return e}static getBarcodeMetadata(t,e){let n;if(t==null||(n=t.getBarcodeMetadata())==null)return e==null?null:e.getBarcodeMetadata();let i;return e==null||(i=e.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n}static getRowIndicatorColumn(t,e,n,i,s,a){let c=new Zi(e,i);for(let u=0;u<2;u++){let g=u===0?1:-1,x=Math.trunc(Math.trunc(n.getX()));for(let w=Math.trunc(Math.trunc(n.getY()));w<=e.getMaxY()&&w>=e.getMinY();w+=g){let b=Ht.detectCodeword(t,0,t.getWidth(),i,x,w,s,a);b!=null&&(c.setCodeword(w,b),i?x=b.getStartX():x=b.getEndX())}}return c}static adjustCodewordCount(t,e){let n=e[0][1],i=n.getValue(),s=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Ht.getNumberOfECCodeWords(t.getBarcodeECLevel());if(i.length===0){if(s<1||s>Lt.MAX_CODEWORDS_IN_BARCODE)throw H.getNotFoundInstance();n.setValue(s)}else i[0]!==s&&n.setValue(s)}static createDecoderResult(t){let e=Ht.createBarcodeMatrix(t);Ht.adjustCodewordCount(t,e);let n=new Array,i=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),s=[],a=new Array;for(let u=0;u<t.getBarcodeRowCount();u++)for(let g=0;g<t.getBarcodeColumnCount();g++){let x=e[u][g+1].getValue(),w=u*t.getBarcodeColumnCount()+g;x.length===0?n.push(w):x.length===1?i[w]=x[0]:(a.push(w),s.push(x))}let c=new Array(s.length);for(let u=0;u<c.length;u++)c[u]=s[u];return Ht.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),i,Lt.toIntArray(n),Lt.toIntArray(a),c)}static createDecoderResultFromAmbiguousValues(t,e,n,i,s){let a=new Int32Array(i.length),c=100;for(;c-- >0;){for(let u=0;u<a.length;u++)e[i[u]]=s[u][a[u]];try{return Ht.decodeCodewords(e,t,n)}catch(u){if(!(u instanceof z))throw u}if(a.length===0)throw z.getChecksumInstance();for(let u=0;u<a.length;u++)if(a[u]<s[u].length-1){a[u]++;break}else if(a[u]=0,u===a.length-1)throw z.getChecksumInstance()}throw z.getChecksumInstance()}static createBarcodeMatrix(t){let e=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let i=0;i<e.length;i++)for(let s=0;s<e[i].length;s++)e[i][s]=new Ur;let n=0;for(let i of t.getDetectionResultColumns()){if(i!=null){for(let s of i.getCodewords())if(s!=null){let a=s.getRowNumber();if(a>=0){if(a>=e.length)continue;e[a][n].setValue(s.getValue())}}}n++}return e}static isValidBarcodeColumn(t,e){return e>=0&&e<=t.getBarcodeColumnCount()+1}static getStartColumn(t,e,n,i){let s=i?1:-1,a=null;if(Ht.isValidBarcodeColumn(t,e-s)&&(a=t.getDetectionResultColumn(e-s).getCodeword(n)),a!=null)return i?a.getEndX():a.getStartX();if(a=t.getDetectionResultColumn(e).getCodewordNearby(n),a!=null)return i?a.getStartX():a.getEndX();if(Ht.isValidBarcodeColumn(t,e-s)&&(a=t.getDetectionResultColumn(e-s).getCodewordNearby(n)),a!=null)return i?a.getEndX():a.getStartX();let c=0;for(;Ht.isValidBarcodeColumn(t,e-s);){e-=s;for(let u of t.getDetectionResultColumn(e).getCodewords())if(u!=null)return(i?u.getEndX():u.getStartX())+s*c*(u.getEndX()-u.getStartX());c++}return i?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,e,n,i,s,a,c,u){s=Ht.adjustCodewordStartColumn(t,e,n,i,s,a);let g=Ht.getModuleBitCount(t,e,n,i,s,a);if(g==null)return null;let x,w=G.sum(g);if(i)x=s+w;else{for(let R=0;R<g.length/2;R++){let L=g[R];g[R]=g[g.length-1-R],g[g.length-1-R]=L}x=s,s=x-w}if(!Ht.checkCodewordSkew(w,c,u))return null;let b=Ie.getDecodedValue(g),S=Lt.getCodeword(b);return S===-1?null:new Vr(s,x,Ht.getCodewordBucketNumber(b),S)}static getModuleBitCount(t,e,n,i,s,a){let c=s,u=new Int32Array(8),g=0,x=i?1:-1,w=i;for(;(i?c<n:c>=e)&&g<u.length;)t.get(c,a)===w?(u[g]++,c+=x):(g++,w=!w);return g===u.length||c===(i?n:e)&&g===u.length-1?u:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,e,n,i,s,a){let c=s,u=i?-1:1;for(let g=0;g<2;g++){for(;(i?c>=e:c<n)&&i===t.get(c,a);){if(Math.abs(s-c)>Ht.CODEWORD_SKEW_SIZE)return s;c+=u}u=-u,i=!i}return c}static checkCodewordSkew(t,e,n){return e-Ht.CODEWORD_SKEW_SIZE<=t&&t<=n+Ht.CODEWORD_SKEW_SIZE}static decodeCodewords(t,e,n){if(t.length===0)throw q.getFormatInstance();let i=1<<e+1,s=Ht.correctErrors(t,n,i);Ht.verifyCodewordCount(t,i);let a=k.decode(t,""+e);return a.setErrorsCorrected(s),a.setErasures(n.length),a}static correctErrors(t,e,n){if(e!=null&&e.length>n/2+Ht.MAX_ERRORS||n<0||n>Ht.MAX_EC_CODEWORDS)throw z.getChecksumInstance();return Ht.errorCorrection.decode(t,n,e)}static verifyCodewordCount(t,e){if(t.length<4)throw q.getFormatInstance();let n=t[0];if(n>t.length)throw q.getFormatInstance();if(n===0)if(e<t.length)t[0]=t.length-e;else throw q.getFormatInstance()}static getBitCountForCodeword(t){let e=new Int32Array(8),n=0,i=e.length-1;for(;!((t&1)!==n&&(n=t&1,i--,i<0));)e[i]++,t>>=1;return e}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Ht.getCodewordBucketNumber(Ht.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let e=new Fr;for(let n=0;n<t.length;n++){e.format("Row %2d: ",n);for(let i=0;i<t[n].length;i++){let s=t[n][i];s.getValue().length===0?e.format("        ",null):e.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}e.format("%n")}return e.toString()}}Ht.CODEWORD_SKEW_SIZE=2,Ht.MAX_ERRORS=3,Ht.MAX_EC_CODEWORDS=512,Ht.errorCorrection=new Ki;class Me{decode(t,e=null){let n=Me.decode(t,e,!1);if(n==null||n.length===0||n[0]==null)throw H.getNotFoundInstance();return n[0]}decodeMultiple(t,e=null){try{return Me.decode(t,e,!0)}catch(n){throw n instanceof q||n instanceof z?H.getNotFoundInstance():n}}static decode(t,e,n){const i=new Array,s=kt.detectMultiple(t,e,n);for(const a of s.getPoints()){const c=Ht.decode(s.getBits(),a[4],a[5],a[6],a[7],Me.getMinCodewordWidth(a),Me.getMaxCodewordWidth(a)),u=new de(c.getText(),c.getRawBytes(),void 0,a,gt.PDF_417);u.putMetadata(Jt.ERROR_CORRECTION_LEVEL,c.getECLevel());const g=c.getOther();g!=null&&u.putMetadata(Jt.PDF417_EXTRA_METADATA,g),i.push(u)}return i.map(a=>a)}static getMaxWidth(t,e){return t==null||e==null?0:Math.trunc(Math.abs(t.getX()-e.getX()))}static getMinWidth(t,e){return t==null||e==null?at.MAX_VALUE:Math.trunc(Math.abs(t.getX()-e.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Me.getMaxWidth(t[0],t[4]),Me.getMaxWidth(t[6],t[2])*Lt.MODULES_IN_CODEWORD/Lt.MODULES_IN_STOP_PATTERN),Math.max(Me.getMaxWidth(t[1],t[5]),Me.getMaxWidth(t[7],t[3])*Lt.MODULES_IN_CODEWORD/Lt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Me.getMinWidth(t[0],t[4]),Me.getMinWidth(t[6],t[2])*Lt.MODULES_IN_CODEWORD/Lt.MODULES_IN_STOP_PATTERN),Math.min(Me.getMinWidth(t[1],t[5]),Me.getMinWidth(t[7],t[3])*Lt.MODULES_IN_CODEWORD/Lt.MODULES_IN_STOP_PATTERN)))}reset(){}}class hi extends m{}hi.kind="ReaderException";class Ms{constructor(t,e){this.verbose=t===!0,e&&this.setHints(e)}decode(t,e){return e&&this.setHints(e),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const e=!f(t)&&t.get(wt.TRY_HARDER)===!0,n=f(t)?null:t.get(wt.POSSIBLE_FORMATS),i=new Array;if(!f(n)){const s=n.some(a=>a===gt.UPC_A||a===gt.UPC_E||a===gt.EAN_13||a===gt.EAN_8||a===gt.CODABAR||a===gt.CODE_39||a===gt.CODE_93||a===gt.CODE_128||a===gt.ITF||a===gt.RSS_14||a===gt.RSS_EXPANDED);s&&!e&&i.push(new br(t,this.verbose)),n.includes(gt.QR_CODE)&&i.push(new Pn),n.includes(gt.DATA_MATRIX)&&i.push(new Qe),n.includes(gt.AZTEC)&&i.push(new bn),n.includes(gt.PDF_417)&&i.push(new Me),s&&e&&i.push(new br(t,this.verbose))}i.length===0&&(e||i.push(new br(t,this.verbose)),i.push(new Pn),i.push(new Qe),i.push(new bn),i.push(new Me),e&&i.push(new br(t,this.verbose))),this.readers=i}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new hi("No readers where selected, nothing can be read.");for(const e of this.readers)try{return e.decode(t,this.hints)}catch(n){if(n instanceof hi)continue}throw new H("No MultiFormat Readers were able to detect the code.")}}class Yo extends He{constructor(t=null,e=500){const n=new Ms;n.setHints(t),super(n,e)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class jo extends He{constructor(t=500){super(new Me,t)}}class zo extends He{constructor(t=500){super(new Pn,t)}}var $i;(function(_){_[_.ERROR_CORRECTION=0]="ERROR_CORRECTION",_[_.CHARACTER_SET=1]="CHARACTER_SET",_[_.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",_[_.MIN_SIZE=3]="MIN_SIZE",_[_.MAX_SIZE=4]="MAX_SIZE",_[_.MARGIN=5]="MARGIN",_[_.PDF417_COMPACT=6]="PDF417_COMPACT",_[_.PDF417_COMPACTION=7]="PDF417_COMPACTION",_[_.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",_[_.AZTEC_LAYERS=9]="AZTEC_LAYERS",_[_.QR_VERSION=10]="QR_VERSION"})($i||($i={}));var Se=$i;class Je{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new X(t,Int32Array.from([1])))}buildGenerator(t){const e=this.cachedGenerators;if(t>=e.length){let n=e[e.length-1];const i=this.field;for(let s=e.length;s<=t;s++){const a=n.multiply(new X(i,Int32Array.from([1,i.exp(s-1+i.getGeneratorBase())])));e.push(a),n=a}}return e[t]}encode(t,e){if(e===0)throw new D("No error correction bytes");const n=t.length-e;if(n<=0)throw new D("No data bytes provided");const i=this.buildGenerator(e),s=new Int32Array(n);J.arraycopy(t,0,s,0,n);let a=new X(this.field,s);a=a.multiplyByMonomial(e,1);const u=a.divide(i)[1].getCoefficients(),g=e-u.length;for(let x=0;x<g;x++)t[n+x]=0;J.arraycopy(u,0,t,n+g,u.length)}}class xe{constructor(){}static applyMaskPenaltyRule1(t){return xe.applyMaskPenaltyRule1Internal(t,!0)+xe.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let e=0;const n=t.getArray(),i=t.getWidth(),s=t.getHeight();for(let a=0;a<s-1;a++){const c=n[a];for(let u=0;u<i-1;u++){const g=c[u];g===c[u+1]&&g===n[a+1][u]&&g===n[a+1][u+1]&&e++}}return xe.N2*e}static applyMaskPenaltyRule3(t){let e=0;const n=t.getArray(),i=t.getWidth(),s=t.getHeight();for(let a=0;a<s;a++)for(let c=0;c<i;c++){const u=n[a];c+6<i&&u[c]===1&&u[c+1]===0&&u[c+2]===1&&u[c+3]===1&&u[c+4]===1&&u[c+5]===0&&u[c+6]===1&&(xe.isWhiteHorizontal(u,c-4,c)||xe.isWhiteHorizontal(u,c+7,c+11))&&e++,a+6<s&&n[a][c]===1&&n[a+1][c]===0&&n[a+2][c]===1&&n[a+3][c]===1&&n[a+4][c]===1&&n[a+5][c]===0&&n[a+6][c]===1&&(xe.isWhiteVertical(n,c,a-4,a)||xe.isWhiteVertical(n,c,a+7,a+11))&&e++}return e*xe.N3}static isWhiteHorizontal(t,e,n){e=Math.max(e,0),n=Math.min(n,t.length);for(let i=e;i<n;i++)if(t[i]===1)return!1;return!0}static isWhiteVertical(t,e,n,i){n=Math.max(n,0),i=Math.min(i,t.length);for(let s=n;s<i;s++)if(t[s][e]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let e=0;const n=t.getArray(),i=t.getWidth(),s=t.getHeight();for(let u=0;u<s;u++){const g=n[u];for(let x=0;x<i;x++)g[x]===1&&e++}const a=t.getHeight()*t.getWidth();return Math.floor(Math.abs(e*2-a)*10/a)*xe.N4}static getDataMaskBit(t,e,n){let i,s;switch(t){case 0:i=n+e&1;break;case 1:i=n&1;break;case 2:i=e%3;break;case 3:i=(n+e)%3;break;case 4:i=Math.floor(n/2)+Math.floor(e/3)&1;break;case 5:s=n*e,i=(s&1)+s%3;break;case 6:s=n*e,i=(s&1)+s%3&1;break;case 7:s=n*e,i=s%3+(n+e&1)&1;break;default:throw new D("Invalid mask pattern: "+t)}return i===0}static applyMaskPenaltyRule1Internal(t,e){let n=0;const i=e?t.getHeight():t.getWidth(),s=e?t.getWidth():t.getHeight(),a=t.getArray();for(let c=0;c<i;c++){let u=0,g=-1;for(let x=0;x<s;x++){const w=e?a[c][x]:a[x][c];w===g?u++:(u>=5&&(n+=xe.N1+(u-5)),u=1,g=w)}u>=5&&(n+=xe.N1+(u-5))}return n}}xe.N1=3,xe.N2=3,xe.N3=40,xe.N4=10;class di{constructor(t,e){this.width=t,this.height=e;const n=new Array(e);for(let i=0;i!==e;i++)n[i]=new Uint8Array(t);this.bytes=n}getHeight(){return this.height}getWidth(){return this.width}get(t,e){return this.bytes[e][t]}getArray(){return this.bytes}setNumber(t,e,n){this.bytes[e][t]=n}setBoolean(t,e,n){this.bytes[e][t]=n?1:0}clear(t){for(const e of this.bytes)ht.fill(e,t)}equals(t){if(!(t instanceof di))return!1;const e=t;if(this.width!==e.width||this.height!==e.height)return!1;for(let n=0,i=this.height;n<i;++n){const s=this.bytes[n],a=e.bytes[n];for(let c=0,u=this.width;c<u;++c)if(s[c]!==a[c])return!1}return!0}toString(){const t=new St;for(let e=0,n=this.height;e<n;++e){const i=this.bytes[e];for(let s=0,a=this.width;s<a;++s)switch(i[s]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Zn{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new St;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Zn.NUM_MASK_PATTERNS}}Zn.NUM_MASK_PATTERNS=8;class le extends m{}le.kind="WriterException";class vt{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,e,n,i,s){vt.clearMatrix(s),vt.embedBasicPatterns(n,s),vt.embedTypeInfo(e,i,s),vt.maybeEmbedVersionInfo(n,s),vt.embedDataBits(t,i,s)}static embedBasicPatterns(t,e){vt.embedPositionDetectionPatternsAndSeparators(e),vt.embedDarkDotAtLeftBottomCorner(e),vt.maybeEmbedPositionAdjustmentPatterns(t,e),vt.embedTimingPatterns(e)}static embedTypeInfo(t,e,n){const i=new Q;vt.makeTypeInfoBits(t,e,i);for(let s=0,a=i.getSize();s<a;++s){const c=i.get(i.getSize()-1-s),u=vt.TYPE_INFO_COORDINATES[s],g=u[0],x=u[1];if(n.setBoolean(g,x,c),s<8){const w=n.getWidth()-s-1,b=8;n.setBoolean(w,b,c)}else{const b=n.getHeight()-7+(s-8);n.setBoolean(8,b,c)}}}static maybeEmbedVersionInfo(t,e){if(t.getVersionNumber()<7)return;const n=new Q;vt.makeVersionInfoBits(t,n);let i=6*3-1;for(let s=0;s<6;++s)for(let a=0;a<3;++a){const c=n.get(i);i--,e.setBoolean(s,e.getHeight()-11+a,c),e.setBoolean(e.getHeight()-11+a,s,c)}}static embedDataBits(t,e,n){let i=0,s=-1,a=n.getWidth()-1,c=n.getHeight()-1;for(;a>0;){for(a===6&&(a-=1);c>=0&&c<n.getHeight();){for(let u=0;u<2;++u){const g=a-u;if(!vt.isEmpty(n.get(g,c)))continue;let x;i<t.getSize()?(x=t.get(i),++i):x=!1,e!==255&&xe.getDataMaskBit(e,g,c)&&(x=!x),n.setBoolean(g,c,x)}c+=s}s=-s,c+=s,a-=2}if(i!==t.getSize())throw new le("Not all bits consumed: "+i+"/"+t.getSize())}static findMSBSet(t){return 32-at.numberOfLeadingZeros(t)}static calculateBCHCode(t,e){if(e===0)throw new D("0 polynomial");const n=vt.findMSBSet(e);for(t<<=n-1;vt.findMSBSet(t)>=n;)t^=e<<vt.findMSBSet(t)-n;return t}static makeTypeInfoBits(t,e,n){if(!Zn.isValidMaskPattern(e))throw new le("Invalid mask pattern");const i=t.getBits()<<3|e;n.appendBits(i,5);const s=vt.calculateBCHCode(i,vt.TYPE_INFO_POLY);n.appendBits(s,10);const a=new Q;if(a.appendBits(vt.TYPE_INFO_MASK_PATTERN,15),n.xor(a),n.getSize()!==15)throw new le("should not happen but we got: "+n.getSize())}static makeVersionInfoBits(t,e){e.appendBits(t.getVersionNumber(),6);const n=vt.calculateBCHCode(t.getVersionNumber(),vt.VERSION_INFO_POLY);if(e.appendBits(n,12),e.getSize()!==18)throw new le("should not happen but we got: "+e.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let e=8;e<t.getWidth()-8;++e){const n=(e+1)%2;vt.isEmpty(t.get(e,6))&&t.setNumber(e,6,n),vt.isEmpty(t.get(6,e))&&t.setNumber(6,e,n)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new le;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,e,n){for(let i=0;i<8;++i){if(!vt.isEmpty(n.get(t+i,e)))throw new le;n.setNumber(t+i,e,0)}}static embedVerticalSeparationPattern(t,e,n){for(let i=0;i<7;++i){if(!vt.isEmpty(n.get(t,e+i)))throw new le;n.setNumber(t,e+i,0)}}static embedPositionAdjustmentPattern(t,e,n){for(let i=0;i<5;++i){const s=vt.POSITION_ADJUSTMENT_PATTERN[i];for(let a=0;a<5;++a)n.setNumber(t+a,e+i,s[a])}}static embedPositionDetectionPattern(t,e,n){for(let i=0;i<7;++i){const s=vt.POSITION_DETECTION_PATTERN[i];for(let a=0;a<7;++a)n.setNumber(t+a,e+i,s[a])}}static embedPositionDetectionPatternsAndSeparators(t){const e=vt.POSITION_DETECTION_PATTERN[0].length;vt.embedPositionDetectionPattern(0,0,t),vt.embedPositionDetectionPattern(t.getWidth()-e,0,t),vt.embedPositionDetectionPattern(0,t.getWidth()-e,t);const n=8;vt.embedHorizontalSeparationPattern(0,n-1,t),vt.embedHorizontalSeparationPattern(t.getWidth()-n,n-1,t),vt.embedHorizontalSeparationPattern(0,t.getWidth()-n,t);const i=7;vt.embedVerticalSeparationPattern(i,0,t),vt.embedVerticalSeparationPattern(t.getHeight()-i-1,0,t),vt.embedVerticalSeparationPattern(i,t.getHeight()-i,t)}static maybeEmbedPositionAdjustmentPatterns(t,e){if(t.getVersionNumber()<2)return;const n=t.getVersionNumber()-1,i=vt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n];for(let s=0,a=i.length;s!==a;s++){const c=i[s];if(c>=0)for(let u=0;u!==a;u++){const g=i[u];g>=0&&vt.isEmpty(e.get(g,c))&&vt.embedPositionAdjustmentPattern(g-2,c-2,e)}}}}vt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),vt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),vt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),vt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),vt.VERSION_INFO_POLY=7973,vt.TYPE_INFO_POLY=1335,vt.TYPE_INFO_MASK_PATTERN=21522;class Ko{constructor(t,e){this.dataBytes=t,this.errorCorrectionBytes=e}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class fe{constructor(){}static calculateMaskPenalty(t){return xe.applyMaskPenaltyRule1(t)+xe.applyMaskPenaltyRule2(t)+xe.applyMaskPenaltyRule3(t)+xe.applyMaskPenaltyRule4(t)}static encode(t,e,n=null){let i=fe.DEFAULT_BYTE_MODE_ENCODING;const s=n!==null&&n.get(Se.CHARACTER_SET)!==void 0;s&&(i=n.get(Se.CHARACTER_SET).toString());const a=this.chooseMode(t,i),c=new Q;if(a===It.BYTE&&(s||fe.DEFAULT_BYTE_MODE_ENCODING!==i)){const st=j.getCharacterSetECIByName(i);st!==void 0&&this.appendECI(st,c)}this.appendModeInfo(a,c);const u=new Q;this.appendBytes(t,a,u,i);let g;if(n!==null&&n.get(Se.QR_VERSION)!==void 0){const st=Number.parseInt(n.get(Se.QR_VERSION).toString(),10);g=yt.getVersionForNumber(st);const rt=this.calculateBitsNeeded(a,c,u,g);if(!this.willFit(rt,g,e))throw new le("Data too big for requested version")}else g=this.recommendVersion(e,a,c,u);const x=new Q;x.appendBitArray(c);const w=a===It.BYTE?u.getSizeInBytes():t.length;this.appendLengthInfo(w,g,a,x),x.appendBitArray(u);const b=g.getECBlocksForLevel(e),S=g.getTotalCodewords()-b.getTotalECCodewords();this.terminateBits(S,x);const R=this.interleaveWithECBytes(x,g.getTotalCodewords(),S,b.getNumBlocks()),L=new Zn;L.setECLevel(e),L.setMode(a),L.setVersion(g);const P=g.getDimensionForVersion(),V=new di(P,P),it=this.chooseMaskPattern(R,e,g,V);return L.setMaskPattern(it),vt.buildMatrix(R,e,g,it,V),L.setMatrix(V),L}static recommendVersion(t,e,n,i){const s=this.calculateBitsNeeded(e,n,i,yt.getVersionForNumber(1)),a=this.chooseVersion(s,t),c=this.calculateBitsNeeded(e,n,i,a);return this.chooseVersion(c,t)}static calculateBitsNeeded(t,e,n,i){return e.getSize()+t.getCharacterCountBits(i)+n.getSize()}static getAlphanumericCode(t){return t<fe.ALPHANUMERIC_TABLE.length?fe.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,e=null){if(j.SJIS.getName()===e&&this.isOnlyDoubleByteKanji(t))return It.KANJI;let n=!1,i=!1;for(let s=0,a=t.length;s<a;++s){const c=t.charAt(s);if(fe.isDigit(c))n=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)i=!0;else return It.BYTE}return i?It.ALPHANUMERIC:n?It.NUMERIC:It.BYTE}static isOnlyDoubleByteKanji(t){let e;try{e=Dt.encode(t,j.SJIS)}catch{return!1}const n=e.length;if(n%2!==0)return!1;for(let i=0;i<n;i+=2){const s=e[i]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0}static chooseMaskPattern(t,e,n,i){let s=Number.MAX_SAFE_INTEGER,a=-1;for(let c=0;c<Zn.NUM_MASK_PATTERNS;c++){vt.buildMatrix(t,e,n,c,i);let u=this.calculateMaskPenalty(i);u<s&&(s=u,a=c)}return a}static chooseVersion(t,e){for(let n=1;n<=40;n++){const i=yt.getVersionForNumber(n);if(fe.willFit(t,i,e))return i}throw new le("Data too big")}static willFit(t,e,n){const i=e.getTotalCodewords(),a=e.getECBlocksForLevel(n).getTotalECCodewords(),c=i-a,u=(t+7)/8;return c>=u}static terminateBits(t,e){const n=t*8;if(e.getSize()>n)throw new le("data bits cannot fit in the QR Code"+e.getSize()+" > "+n);for(let a=0;a<4&&e.getSize()<n;++a)e.appendBit(!1);const i=e.getSize()&7;if(i>0)for(let a=i;a<8;a++)e.appendBit(!1);const s=t-e.getSizeInBytes();for(let a=0;a<s;++a)e.appendBits(a&1?17:236,8);if(e.getSize()!==n)throw new le("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,e,n,i,s,a){if(i>=n)throw new le("Block ID too large");const c=t%n,u=n-c,g=Math.floor(t/n),x=g+1,w=Math.floor(e/n),b=w+1,S=g-w,R=x-b;if(S!==R)throw new le("EC bytes mismatch");if(n!==u+c)throw new le("RS blocks mismatch");if(t!==(w+S)*u+(b+R)*c)throw new le("Total bytes mismatch");i<u?(s[0]=w,a[0]=S):(s[0]=b,a[0]=R)}static interleaveWithECBytes(t,e,n,i){if(t.getSizeInBytes()!==n)throw new le("Number of bits and data bytes does not match");let s=0,a=0,c=0;const u=new Array;for(let x=0;x<i;++x){const w=new Int32Array(1),b=new Int32Array(1);fe.getNumDataBytesAndNumECBytesForBlockID(e,n,i,x,w,b);const S=w[0],R=new Uint8Array(S);t.toBytes(8*s,R,0,S);const L=fe.generateECBytes(R,b[0]);u.push(new Ko(R,L)),a=Math.max(a,S),c=Math.max(c,L.length),s+=w[0]}if(n!==s)throw new le("Data bytes does not match offset");const g=new Q;for(let x=0;x<a;++x)for(const w of u){const b=w.getDataBytes();x<b.length&&g.appendBits(b[x],8)}for(let x=0;x<c;++x)for(const w of u){const b=w.getErrorCorrectionBytes();x<b.length&&g.appendBits(b[x],8)}if(e!==g.getSizeInBytes())throw new le("Interleaving error: "+e+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(t,e){const n=t.length,i=new Int32Array(n+e);for(let a=0;a<n;a++)i[a]=t[a]&255;new Je(M.QR_CODE_FIELD_256).encode(i,e);const s=new Uint8Array(e);for(let a=0;a<e;a++)s[a]=i[n+a];return s}static appendModeInfo(t,e){e.appendBits(t.getBits(),4)}static appendLengthInfo(t,e,n,i){const s=n.getCharacterCountBits(e);if(t>=1<<s)throw new le(t+" is bigger than "+((1<<s)-1));i.appendBits(t,s)}static appendBytes(t,e,n,i){switch(e){case It.NUMERIC:fe.appendNumericBytes(t,n);break;case It.ALPHANUMERIC:fe.appendAlphanumericBytes(t,n);break;case It.BYTE:fe.append8BitBytes(t,n,i);break;case It.KANJI:fe.appendKanjiBytes(t,n);break;default:throw new le("Invalid mode: "+e)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const e=fe.getDigit(t);return e>=0&&e<=9}static appendNumericBytes(t,e){const n=t.length;let i=0;for(;i<n;){const s=fe.getDigit(t.charAt(i));if(i+2<n){const a=fe.getDigit(t.charAt(i+1)),c=fe.getDigit(t.charAt(i+2));e.appendBits(s*100+a*10+c,10),i+=3}else if(i+1<n){const a=fe.getDigit(t.charAt(i+1));e.appendBits(s*10+a,7),i+=2}else e.appendBits(s,4),i++}}static appendAlphanumericBytes(t,e){const n=t.length;let i=0;for(;i<n;){const s=fe.getAlphanumericCode(t.charCodeAt(i));if(s===-1)throw new le;if(i+1<n){const a=fe.getAlphanumericCode(t.charCodeAt(i+1));if(a===-1)throw new le;e.appendBits(s*45+a,11),i+=2}else e.appendBits(s,6),i++}}static append8BitBytes(t,e,n){let i;try{i=Dt.encode(t,n)}catch(s){throw new le(s)}for(let s=0,a=i.length;s!==a;s++){const c=i[s];e.appendBits(c,8)}}static appendKanjiBytes(t,e){let n;try{n=Dt.encode(t,j.SJIS)}catch(s){throw new le(s)}const i=n.length;for(let s=0;s<i;s+=2){const a=n[s]&255,c=n[s+1]&255,u=a<<8&4294967295|c;let g=-1;if(u>=33088&&u<=40956?g=u-33088:u>=57408&&u<=60351&&(g=u-49472),g===-1)throw new le("Invalid byte sequence");const x=(g>>8)*192+(g&255);e.appendBits(x,13)}}static appendECI(t,e){e.appendBits(It.ECI.getBits(),4),e.appendBits(t.getValue(),8)}}fe.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),fe.DEFAULT_BYTE_MODE_ENCODING=j.UTF8.getName();class fr{write(t,e,n,i=null){if(t.length===0)throw new D("Found empty contents");if(e<0||n<0)throw new D("Requested dimensions are too small: "+e+"x"+n);let s=ie.L,a=fr.QUIET_ZONE_SIZE;i!==null&&(i.get(Se.ERROR_CORRECTION)!==void 0&&(s=ie.fromString(i.get(Se.ERROR_CORRECTION).toString())),i.get(Se.MARGIN)!==void 0&&(a=Number.parseInt(i.get(Se.MARGIN).toString(),10)));const c=fe.encode(t,s,i);return this.renderResult(c,e,n,a)}writeToDom(t,e,n,i,s=null){typeof t=="string"&&(t=document.querySelector(t));const a=this.write(e,n,i,s);t&&t.appendChild(a)}renderResult(t,e,n,i){const s=t.getMatrix();if(s===null)throw new Y;const a=s.getWidth(),c=s.getHeight(),u=a+i*2,g=c+i*2,x=Math.max(e,u),w=Math.max(n,g),b=Math.min(Math.floor(x/u),Math.floor(w/g)),S=Math.floor((x-a*b)/2),R=Math.floor((w-c*b)/2),L=this.createSVGElement(x,w);for(let P=0,V=R;P<c;P++,V+=b)for(let it=0,st=S;it<a;it++,st+=b)if(s.get(it,P)===1){const rt=this.createSvgRectElement(st,V,b,b);L.appendChild(rt)}return L}createSVGElement(t,e){const n=document.createElementNS(fr.SVG_NS,"svg");return n.setAttributeNS(null,"height",t.toString()),n.setAttributeNS(null,"width",e.toString()),n}createSvgRectElement(t,e,n,i){const s=document.createElementNS(fr.SVG_NS,"rect");return s.setAttributeNS(null,"x",t.toString()),s.setAttributeNS(null,"y",e.toString()),s.setAttributeNS(null,"height",n.toString()),s.setAttributeNS(null,"width",i.toString()),s.setAttributeNS(null,"fill","#000000"),s}}fr.QUIET_ZONE_SIZE=4,fr.SVG_NS="http://www.w3.org/2000/svg";class Wr{encode(t,e,n,i,s){if(t.length===0)throw new D("Found empty contents");if(e!==gt.QR_CODE)throw new D("Can only encode QR_CODE, but got "+e);if(n<0||i<0)throw new D(`Requested dimensions are too small: ${n}x${i}`);let a=ie.L,c=Wr.QUIET_ZONE_SIZE;s!==null&&(s.get(Se.ERROR_CORRECTION)!==void 0&&(a=ie.fromString(s.get(Se.ERROR_CORRECTION).toString())),s.get(Se.MARGIN)!==void 0&&(c=Number.parseInt(s.get(Se.MARGIN).toString(),10)));const u=fe.encode(t,a,s);return Wr.renderResult(u,n,i,c)}static renderResult(t,e,n,i){const s=t.getMatrix();if(s===null)throw new Y;const a=s.getWidth(),c=s.getHeight(),u=a+i*2,g=c+i*2,x=Math.max(e,u),w=Math.max(n,g),b=Math.min(Math.floor(x/u),Math.floor(w/g)),S=Math.floor((x-a*b)/2),R=Math.floor((w-c*b)/2),L=new re(x,w);for(let P=0,V=R;P<c;P++,V+=b)for(let it=0,st=S;it<a;it++,st+=b)s.get(it,P)===1&&L.setRegion(st,V,b,b);return L}}Wr.QUIET_ZONE_SIZE=4;class gi{encode(t,e,n,i,s){let a;switch(e){case gt.QR_CODE:a=new Wr;break;default:throw new D("No encoder available for format "+e)}return a.encode(t,e,n,i,s)}}class Sn extends Gt{constructor(t,e,n,i,s,a,c,u){if(super(a,c),this.yuvData=t,this.dataWidth=e,this.dataHeight=n,this.left=i,this.top=s,i+a>e||s+c>n)throw new D("Crop rectangle does not fit within image data.");u&&this.reverseHorizontal(a,c)}getRow(t,e){if(t<0||t>=this.getHeight())throw new D("Requested row is outside the image: "+t);const n=this.getWidth();(e==null||e.length<n)&&(e=new Uint8ClampedArray(n));const i=(t+this.top)*this.dataWidth+this.left;return J.arraycopy(this.yuvData,i,e,0,n),e}getMatrix(){const t=this.getWidth(),e=this.getHeight();if(t===this.dataWidth&&e===this.dataHeight)return this.yuvData;const n=t*e,i=new Uint8ClampedArray(n);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return J.arraycopy(this.yuvData,s,i,0,n),i;for(let a=0;a<e;a++){const c=a*t;J.arraycopy(this.yuvData,s,i,c,t),s+=this.dataWidth}return i}isCropSupported(){return!0}crop(t,e,n,i){return new Sn(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+e,n,i,!1)}renderThumbnail(){const t=this.getWidth()/Sn.THUMBNAIL_SCALE_FACTOR,e=this.getHeight()/Sn.THUMBNAIL_SCALE_FACTOR,n=new Int32Array(t*e),i=this.yuvData;let s=this.top*this.dataWidth+this.left;for(let a=0;a<e;a++){const c=a*t;for(let u=0;u<t;u++){const g=i[s+u*Sn.THUMBNAIL_SCALE_FACTOR]&255;n[c+u]=4278190080|g*65793}s+=this.dataWidth*Sn.THUMBNAIL_SCALE_FACTOR}return n}getThumbnailWidth(){return this.getWidth()/Sn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Sn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,e){const n=this.yuvData;for(let i=0,s=this.top*this.dataWidth+this.left;i<e;i++,s+=this.dataWidth){const a=s+t/2;for(let c=s,u=s+t-1;c<a;c++,u--){const g=n[c];n[c]=n[u],n[u]=g}}}invert(){return new he(this)}}Sn.THUMBNAIL_SCALE_FACTOR=2;class qi extends Gt{constructor(t,e,n,i,s,a,c){if(super(e,n),this.dataWidth=i,this.dataHeight=s,this.left=a,this.top=c,t.BYTES_PER_ELEMENT===4){const u=e*n,g=new Uint8ClampedArray(u);for(let x=0;x<u;x++){const w=t[x],b=w>>16&255,S=w>>7&510,R=w&255;g[x]=(b+S+R)/4&255}this.luminances=g}else this.luminances=t;if(i===void 0&&(this.dataWidth=e),s===void 0&&(this.dataHeight=n),a===void 0&&(this.left=0),c===void 0&&(this.top=0),this.left+e>this.dataWidth||this.top+n>this.dataHeight)throw new D("Crop rectangle does not fit within image data.")}getRow(t,e){if(t<0||t>=this.getHeight())throw new D("Requested row is outside the image: "+t);const n=this.getWidth();(e==null||e.length<n)&&(e=new Uint8ClampedArray(n));const i=(t+this.top)*this.dataWidth+this.left;return J.arraycopy(this.luminances,i,e,0,n),e}getMatrix(){const t=this.getWidth(),e=this.getHeight();if(t===this.dataWidth&&e===this.dataHeight)return this.luminances;const n=t*e,i=new Uint8ClampedArray(n);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return J.arraycopy(this.luminances,s,i,0,n),i;for(let a=0;a<e;a++){const c=a*t;J.arraycopy(this.luminances,s,i,c,t),s+=this.dataWidth}return i}isCropSupported(){return!0}crop(t,e,n,i){return new qi(this.luminances,n,i,this.dataWidth,this.dataHeight,this.left+t,this.top+e)}invert(){return new he(this)}}class Ls extends j{static forName(t){return this.getCharacterSetECIByName(t)}}class Qi{}Qi.ISO_8859_1=j.ISO8859_1;class Ji{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Bs{static singletonList(t){return[t]}static min(t,e){return t.sort(e)[0]}}class Zo{constructor(t){this.previous=t}getPrevious(){return this.previous}}class hr extends Zo{constructor(t,e,n){super(t),this.value=e,this.bitCount=n}appendTo(t,e){t.appendBits(this.value,this.bitCount)}add(t,e){return new hr(this,t,e)}addBinaryShift(t,e){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new hr(this,t,e)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+at.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class pi extends hr{constructor(t,e,n){super(t,0,0),this.binaryShiftStart=e,this.binaryShiftByteCount=n}appendTo(t,e){for(let n=0;n<this.binaryShiftByteCount;n++)(n===0||n===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):n===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(e[this.binaryShiftStart+n],8)}addBinaryShift(t,e){return new pi(this,t,e)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ps(_,t,e){return new pi(_,t,e)}function $n(_,t,e){return new hr(_,t,e)}const Fs=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Nn=0,xi=1,pn=2,tn=3,On=4,$o=new hr(null,0,0),ts=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function qo(_){for(let t of _)ht.fill(t,-1);return _[Nn][On]=0,_[xi][On]=0,_[xi][Nn]=28,_[tn][On]=0,_[pn][On]=0,_[pn][Nn]=15,_}const es=qo(ht.createInt32Array(6,6));class xn{constructor(t,e,n,i){this.token=t,this.mode=e,this.binaryShiftByteCount=n,this.bitCount=i}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,e){let n=this.bitCount,i=this.token;if(t!==this.mode){let a=ts[this.mode][t];i=$n(i,a&65535,a>>16),n+=a>>16}let s=t===pn?4:5;return i=$n(i,e,s),new xn(i,t,0,n+s)}shiftAndAppend(t,e){let n=this.token,i=this.mode===pn?4:5;return n=$n(n,es[this.mode][t],i),n=$n(n,e,5),new xn(n,this.mode,0,this.bitCount+i+5)}addBinaryShiftChar(t){let e=this.token,n=this.mode,i=this.bitCount;if(this.mode===On||this.mode===pn){let c=ts[n][Nn];e=$n(e,c&65535,c>>16),i+=c>>16,n=Nn}let s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,a=new xn(e,n,this.binaryShiftByteCount+1,i+s);return a.binaryShiftByteCount===2047+31&&(a=a.endBinaryShift(t+1)),a}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let e=this.token;return e=Ps(e,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new xn(e,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let e=this.bitCount+(ts[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?e+=xn.calculateBinaryShiftCost(t)-xn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(e+=10),e<=t.bitCount}toBitArray(t){let e=[];for(let i=this.endBinaryShift(t.length).token;i!==null;i=i.getPrevious())e.unshift(i);let n=new Q;for(const i of e)i.appendTo(n,t);return n}toString(){return _t.format("%s bits=%d bytes=%d",Fs[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}xn.INITIAL_STATE=new xn($o,Nn,0,0);function Qo(_){const t=_t.getCharCode(" "),e=_t.getCharCode("."),n=_t.getCharCode(",");_[Nn][t]=1;const i=_t.getCharCode("Z"),s=_t.getCharCode("A");for(let b=s;b<=i;b++)_[Nn][b]=b-s+2;_[xi][t]=1;const a=_t.getCharCode("z"),c=_t.getCharCode("a");for(let b=c;b<=a;b++)_[xi][b]=b-c+2;_[pn][t]=1;const u=_t.getCharCode("9"),g=_t.getCharCode("0");for(let b=g;b<=u;b++)_[pn][b]=b-g+2;_[pn][n]=12,_[pn][e]=13;const x=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let b=0;b<x.length;b++)_[tn][_t.getCharCode(x[b])]=b;const w=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let b=0;b<w.length;b++)_t.getCharCode(w[b])>0&&(_[On][_t.getCharCode(w[b])]=b);return _}const ns=Qo(ht.createInt32Array(5,256));class Gr{constructor(t){this.text=t}encode(){const t=_t.getCharCode(" "),e=_t.getCharCode(`
`);let n=Bs.singletonList(xn.INITIAL_STATE);for(let s=0;s<this.text.length;s++){let a,c=s+1<this.text.length?this.text[s+1]:0;switch(this.text[s]){case _t.getCharCode("\r"):a=c===e?2:0;break;case _t.getCharCode("."):a=c===t?3:0;break;case _t.getCharCode(","):a=c===t?4:0;break;case _t.getCharCode(":"):a=c===t?5:0;break;default:a=0}a>0?(n=Gr.updateStateListForPair(n,s,a),s++):n=this.updateStateListForChar(n,s)}return Bs.min(n,(s,a)=>s.getBitCount()-a.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,e){const n=[];for(let i of t)this.updateStateForChar(i,e,n);return Gr.simplifyStates(n)}updateStateForChar(t,e,n){let i=this.text[e]&255,s=ns[t.getMode()][i]>0,a=null;for(let c=0;c<=On;c++){let u=ns[c][i];if(u>0){if(a==null&&(a=t.endBinaryShift(e)),!s||c===t.getMode()||c===pn){const g=a.latchAndAppend(c,u);n.push(g)}if(!s&&es[t.getMode()][c]>=0){const g=a.shiftAndAppend(c,u);n.push(g)}}}if(t.getBinaryShiftByteCount()>0||ns[t.getMode()][i]===0){let c=t.addBinaryShiftChar(e);n.push(c)}}static updateStateListForPair(t,e,n){const i=[];for(let s of t)this.updateStateForPair(s,e,n,i);return this.simplifyStates(i)}static updateStateForPair(t,e,n,i){let s=t.endBinaryShift(e);if(i.push(s.latchAndAppend(On,n)),t.getMode()!==On&&i.push(s.shiftAndAppend(On,n)),n===3||n===4){let a=s.latchAndAppend(pn,16-n).latchAndAppend(pn,1);i.push(a)}if(t.getBinaryShiftByteCount()>0){let a=t.addBinaryShiftChar(e).addBinaryShiftChar(e+1);i.push(a)}}static simplifyStates(t){let e=[];for(const n of t){let i=!0;for(const s of e){if(s.isBetterThanOrEqualTo(n)){i=!1;break}n.isBetterThanOrEqualTo(s)&&(e=e.filter(a=>a!==s))}i&&e.push(n)}return e}}class $t{constructor(){}static encodeBytes(t){return $t.encode(t,$t.DEFAULT_EC_PERCENT,$t.DEFAULT_AZTEC_LAYERS)}static encode(t,e,n){let i=new Gr(t).encode(),s=at.truncDivision(i.getSize()*e,100)+11,a=i.getSize()+s,c,u,g,x,w;if(n!==$t.DEFAULT_AZTEC_LAYERS){if(c=n<0,u=Math.abs(n),u>(c?$t.MAX_NB_BITS_COMPACT:$t.MAX_NB_BITS))throw new D(_t.format("Illegal value %s for layers",n));g=$t.totalBitsInLayer(u,c),x=$t.WORD_SIZE[u];let rt=g-g%x;if(w=$t.stuffBits(i,x),w.getSize()+s>rt)throw new D("Data to large for user specified layer");if(c&&w.getSize()>x*64)throw new D("Data to large for user specified layer")}else{x=0,w=null;for(let rt=0;;rt++){if(rt>$t.MAX_NB_BITS)throw new D("Data too large for an Aztec code");if(c=rt<=3,u=c?rt+1:rt,g=$t.totalBitsInLayer(u,c),a>g)continue;(w==null||x!==$t.WORD_SIZE[u])&&(x=$t.WORD_SIZE[u],w=$t.stuffBits(i,x));let jt=g-g%x;if(!(c&&w.getSize()>x*64)&&w.getSize()+s<=jt)break}}let b=$t.generateCheckWords(w,g,x),S=w.getSize()/x,R=$t.generateModeMessage(c,u,S),L=(c?11:14)+u*4,P=new Int32Array(L),V;if(c){V=L;for(let rt=0;rt<P.length;rt++)P[rt]=rt}else{V=L+1+2*at.truncDivision(at.truncDivision(L,2)-1,15);let rt=at.truncDivision(L,2),jt=at.truncDivision(V,2);for(let Ft=0;Ft<rt;Ft++){let Ke=Ft+at.truncDivision(Ft,15);P[rt-Ft-1]=jt-Ke-1,P[rt+Ft]=jt+Ke+1}}let it=new re(V);for(let rt=0,jt=0;rt<u;rt++){let Ft=(u-rt)*4+(c?9:12);for(let Ke=0;Ke<Ft;Ke++){let mn=Ke*2;for(let Ze=0;Ze<2;Ze++)b.get(jt+mn+Ze)&&it.set(P[rt*2+Ze],P[rt*2+Ke]),b.get(jt+Ft*2+mn+Ze)&&it.set(P[rt*2+Ke],P[L-1-rt*2-Ze]),b.get(jt+Ft*4+mn+Ze)&&it.set(P[L-1-rt*2-Ze],P[L-1-rt*2-Ke]),b.get(jt+Ft*6+mn+Ze)&&it.set(P[L-1-rt*2-Ke],P[rt*2+Ze])}jt+=Ft*8}if($t.drawModeMessage(it,c,V,R),c)$t.drawBullsEye(it,at.truncDivision(V,2),5);else{$t.drawBullsEye(it,at.truncDivision(V,2),7);for(let rt=0,jt=0;rt<at.truncDivision(L,2)-1;rt+=15,jt+=16)for(let Ft=at.truncDivision(V,2)&1;Ft<V;Ft+=2)it.set(at.truncDivision(V,2)-jt,Ft),it.set(at.truncDivision(V,2)+jt,Ft),it.set(Ft,at.truncDivision(V,2)-jt),it.set(Ft,at.truncDivision(V,2)+jt)}let st=new Ji;return st.setCompact(c),st.setSize(V),st.setLayers(u),st.setCodeWords(S),st.setMatrix(it),st}static drawBullsEye(t,e,n){for(let i=0;i<n;i+=2)for(let s=e-i;s<=e+i;s++)t.set(s,e-i),t.set(s,e+i),t.set(e-i,s),t.set(e+i,s);t.set(e-n,e-n),t.set(e-n+1,e-n),t.set(e-n,e-n+1),t.set(e+n,e-n),t.set(e+n,e-n+1),t.set(e+n,e+n-1)}static generateModeMessage(t,e,n){let i=new Q;return t?(i.appendBits(e-1,2),i.appendBits(n-1,6),i=$t.generateCheckWords(i,28,4)):(i.appendBits(e-1,5),i.appendBits(n-1,11),i=$t.generateCheckWords(i,40,4)),i}static drawModeMessage(t,e,n,i){let s=at.truncDivision(n,2);if(e)for(let a=0;a<7;a++){let c=s-3+a;i.get(a)&&t.set(c,s-5),i.get(a+7)&&t.set(s+5,c),i.get(20-a)&&t.set(c,s+5),i.get(27-a)&&t.set(s-5,c)}else for(let a=0;a<10;a++){let c=s-5+a+at.truncDivision(a,5);i.get(a)&&t.set(c,s-7),i.get(a+10)&&t.set(s+7,c),i.get(29-a)&&t.set(c,s+7),i.get(39-a)&&t.set(s-7,c)}}static generateCheckWords(t,e,n){let i=t.getSize()/n,s=new Je($t.getGF(n)),a=at.truncDivision(e,n),c=$t.bitsToWords(t,n,a);s.encode(c,a-i);let u=e%n,g=new Q;g.appendBits(0,u);for(const x of Array.from(c))g.appendBits(x,n);return g}static bitsToWords(t,e,n){let i=new Int32Array(n),s,a;for(s=0,a=t.getSize()/e;s<a;s++){let c=0;for(let u=0;u<e;u++)c|=t.get(s*e+u)?1<<e-u-1:0;i[s]=c}return i}static getGF(t){switch(t){case 4:return M.AZTEC_PARAM;case 6:return M.AZTEC_DATA_6;case 8:return M.AZTEC_DATA_8;case 10:return M.AZTEC_DATA_10;case 12:return M.AZTEC_DATA_12;default:throw new D("Unsupported word size "+t)}}static stuffBits(t,e){let n=new Q,i=t.getSize(),s=(1<<e)-2;for(let a=0;a<i;a+=e){let c=0;for(let u=0;u<e;u++)(a+u>=i||t.get(a+u))&&(c|=1<<e-1-u);(c&s)===s?(n.appendBits(c&s,e),a--):c&s?n.appendBits(c,e):(n.appendBits(c|1,e),a--)}return n}static totalBitsInLayer(t,e){return((e?88:112)+16*t)*t}}$t.DEFAULT_EC_PERCENT=33,$t.DEFAULT_AZTEC_LAYERS=0,$t.MAX_NB_BITS=32,$t.MAX_NB_BITS_COMPACT=4,$t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class mi{encode(t,e,n,i){return this.encodeWithHints(t,e,n,i,null)}encodeWithHints(t,e,n,i,s){let a=Qi.ISO_8859_1,c=$t.DEFAULT_EC_PERCENT,u=$t.DEFAULT_AZTEC_LAYERS;return s!=null&&(s.has(Se.CHARACTER_SET)&&(a=Ls.forName(s.get(Se.CHARACTER_SET).toString())),s.has(Se.ERROR_CORRECTION)&&(c=at.parseInt(s.get(Se.ERROR_CORRECTION).toString())),s.has(Se.AZTEC_LAYERS)&&(u=at.parseInt(s.get(Se.AZTEC_LAYERS).toString()))),mi.encodeLayers(t,e,n,i,a,c,u)}static encodeLayers(t,e,n,i,s,a,c){if(e!==gt.AZTEC)throw new D("Can only encode AZTEC, but got "+e);let u=$t.encode(_t.getBytes(t,s),a,c);return mi.renderResult(u,n,i)}static renderResult(t,e,n){let i=t.getMatrix();if(i==null)throw new Y;let s=i.getWidth(),a=i.getHeight(),c=Math.max(e,s),u=Math.max(n,a),g=Math.min(c/s,u/a),x=(c-s*g)/2,w=(u-a*g)/2,b=new re(c,u);for(let S=0,R=w;S<a;S++,R+=g)for(let L=0,P=x;L<s;L++,P+=g)i.get(L,S)&&b.setRegion(P,R,g,g);return b}}l.AbstractExpandedDecoder=or,l.ArgumentException=I,l.ArithmeticException=v,l.AztecCode=Ji,l.AztecCodeReader=bn,l.AztecCodeWriter=mi,l.AztecDecoder=tt,l.AztecDetector=ze,l.AztecDetectorResult=mt,l.AztecEncoder=$t,l.AztecHighLevelEncoder=Gr,l.AztecPoint=Vt,l.BarcodeFormat=gt,l.Binarizer=At,l.BinaryBitmap=$,l.BitArray=Q,l.BitMatrix=re,l.BitSource=Xi,l.BrowserAztecCodeReader=oi,l.BrowserBarcodeReader=Po,l.BrowserCodeReader=He,l.BrowserDatamatrixCodeReader=ko,l.BrowserMultiFormatReader=Yo,l.BrowserPDF417Reader=jo,l.BrowserQRCodeReader=zo,l.BrowserQRCodeSvgWriter=fr,l.CharacterSetECI=j,l.ChecksumException=z,l.Code128Reader=ct,l.Code39Reader=Kt,l.DataMatrixDecodedBitStreamParser=jn,l.DataMatrixReader=Qe,l.DecodeHintType=wt,l.DecoderResult=Be,l.DefaultGridSampler=qt,l.DetectorResult=Ct,l.EAN13Reader=ir,l.EncodeHintType=Se,l.Exception=m,l.FormatException=q,l.GenericGF=M,l.GenericGFPoly=X,l.GlobalHistogramBinarizer=Mt,l.GridSampler=Nt,l.GridSamplerInstance=Ut,l.HTMLCanvasElementLuminanceSource=Ne,l.HybridBinarizer=ft,l.ITFReader=Xt,l.IllegalArgumentException=D,l.IllegalStateException=Y,l.InvertedLuminanceSource=he,l.LuminanceSource=Gt,l.MathUtils=G,l.MultiFormatOneDReader=br,l.MultiFormatReader=Ms,l.MultiFormatWriter=gi,l.NotFoundException=H,l.OneDReader=ue,l.PDF417DecodedBitStreamParser=k,l.PDF417DecoderErrorCorrection=Ki,l.PDF417Reader=Me,l.PDF417ResultMetadata=vs,l.PerspectiveTransform=Ot,l.PlanarYUVLuminanceSource=Sn,l.QRCodeByteMatrix=di,l.QRCodeDataMask=cn,l.QRCodeDecodedBitStreamParser=pe,l.QRCodeDecoderErrorCorrectionLevel=ie,l.QRCodeDecoderFormatInformation=Fe,l.QRCodeEncoder=fe,l.QRCodeEncoderQRCode=Zn,l.QRCodeMaskUtil=xe,l.QRCodeMatrixUtil=vt,l.QRCodeMode=It,l.QRCodeReader=Pn,l.QRCodeVersion=yt,l.QRCodeWriter=Wr,l.RGBLuminanceSource=qi,l.RSS14Reader=_e,l.RSSExpandedReader=et,l.ReaderException=hi,l.ReedSolomonDecoder=Z,l.ReedSolomonEncoder=Je,l.ReedSolomonException=W,l.Result=de,l.ResultMetadataType=Jt,l.ResultPoint=B,l.StringUtils=_t,l.UnsupportedOperationException=Pt,l.VideoInputDevice=Ve,l.WhiteRectangleDetector=pt,l.WriterException=le,l.ZXingArrays=ht,l.ZXingCharset=Ls,l.ZXingInteger=at,l.ZXingStandardCharsets=Qi,l.ZXingStringBuilder=St,l.ZXingStringEncoding=Dt,l.ZXingSystem=J,l.createAbstractExpandedDecoder=Ss,Object.defineProperty(l,"__esModule",{value:!0})})})(va,va.exports);var me=va.exports;const Ed=xd(me),wd=df({__proto__:null,default:Ed},[me]);var cc=function(){function r(o,l,f){if(this.formatMap=new Map([[Et.QR_CODE,me.BarcodeFormat.QR_CODE],[Et.AZTEC,me.BarcodeFormat.AZTEC],[Et.CODABAR,me.BarcodeFormat.CODABAR],[Et.CODE_39,me.BarcodeFormat.CODE_39],[Et.CODE_93,me.BarcodeFormat.CODE_93],[Et.CODE_128,me.BarcodeFormat.CODE_128],[Et.DATA_MATRIX,me.BarcodeFormat.DATA_MATRIX],[Et.MAXICODE,me.BarcodeFormat.MAXICODE],[Et.ITF,me.BarcodeFormat.ITF],[Et.EAN_13,me.BarcodeFormat.EAN_13],[Et.EAN_8,me.BarcodeFormat.EAN_8],[Et.PDF_417,me.BarcodeFormat.PDF_417],[Et.RSS_14,me.BarcodeFormat.RSS_14],[Et.RSS_EXPANDED,me.BarcodeFormat.RSS_EXPANDED],[Et.UPC_A,me.BarcodeFormat.UPC_A],[Et.UPC_E,me.BarcodeFormat.UPC_E],[Et.UPC_EAN_EXTENSION,me.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!wd)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=l,this.logger=f;var d=this.createZXingFormats(o),h=new Map;h.set(me.DecodeHintType.POSSIBLE_FORMATS,d),h.set(me.DecodeHintType.TRY_HARDER,!1),this.hints=h}return r.prototype.decodeAsync=function(o){var l=this;return new Promise(function(f,d){try{f(l.decode(o))}catch(h){d(h)}})},r.prototype.decode=function(o){var l=new me.MultiFormatReader(this.verbose,this.hints),f=new me.HTMLCanvasElementLuminanceSource(o),d=new me.BinaryBitmap(new me.HybridBinarizer(f)),h=l.decode(d);return{text:h.text,format:m1.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}},r.prototype.createReverseFormatMap=function(){var o=new Map;return this.formatMap.forEach(function(l,f,d){o.set(l,f)}),o},r.prototype.toHtml5QrcodeSupportedFormats=function(o){if(!this.reverseFormatMap.has(o))throw"reverseFormatMap doesn't have ".concat(o);return this.reverseFormatMap.get(o)},r.prototype.createZXingFormats=function(o){for(var l=[],f=0,d=o;f<d.length;f++){var h=d[f];this.formatMap.has(h)?l.push(this.formatMap.get(h)):this.logger.logError("".concat(h," is not supported by")+"ZXingHtml5QrcodeShim")}return l},r.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},r}(),_d=globalThis&&globalThis.__awaiter||function(r,o,l,f){function d(h){return h instanceof l?h:new l(function(E){E(h)})}return new(l||(l=Promise))(function(h,E){function A(I){try{m(f.next(I))}catch(D){E(D)}}function y(I){try{m(f.throw(I))}catch(D){E(D)}}function m(I){I.done?h(I.value):d(I.value).then(A,y)}m((f=f.apply(r,o||[])).next())})},Ad=globalThis&&globalThis.__generator||function(r,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},f,d,h,E;return E={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function A(m){return function(I){return y([m,I])}}function y(m){if(f)throw new TypeError("Generator is already executing.");for(;E&&(E=0,m[0]&&(l=0)),l;)try{if(f=1,d&&(h=m[0]&2?d.return:m[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,m[1])).done)return h;switch(d=0,h&&(m=[m[0]&2,h.value]),m[0]){case 0:case 1:h=m;break;case 4:return l.label++,{value:m[1],done:!1};case 5:l.label++,d=m[1],m=[0];continue;case 7:m=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(m[0]===6||m[0]===2)){l=0;continue}if(m[0]===3&&(!h||m[1]>h[0]&&m[1]<h[3])){l.label=m[1];break}if(m[0]===6&&l.label<h[1]){l.label=h[1],h=m;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(m);break}h[2]&&l.ops.pop(),l.trys.pop();continue}m=o.call(r,l)}catch(I){m=[6,I],d=0}finally{f=h=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},uc=function(){function r(o,l,f){if(this.formatMap=new Map([[Et.QR_CODE,"qr_code"],[Et.AZTEC,"aztec"],[Et.CODABAR,"codabar"],[Et.CODE_39,"code_39"],[Et.CODE_93,"code_93"],[Et.CODE_128,"code_128"],[Et.DATA_MATRIX,"data_matrix"],[Et.ITF,"itf"],[Et.EAN_13,"ean_13"],[Et.EAN_8,"ean_8"],[Et.PDF_417,"pdf417"],[Et.UPC_A,"upc_a"],[Et.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!r.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=l,this.logger=f;var d=this.createBarcodeDetectorFormats(o);if(this.detector=new BarcodeDetector(d),!this.detector)throw"BarcodeDetector detector not supported"}return r.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var o=new BarcodeDetector({formats:["qr_code"]});return typeof o<"u"},r.prototype.decodeAsync=function(o){return _d(this,void 0,void 0,function(){var l,f;return Ad(this,function(d){switch(d.label){case 0:return[4,this.detector.detect(o)];case 1:if(l=d.sent(),!l||l.length===0)throw"No barcode or QR code detected.";return f=this.selectLargestBarcode(l),[2,{text:f.rawValue,format:m1.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}]}})})},r.prototype.selectLargestBarcode=function(o){for(var l=null,f=0,d=0,h=o;d<h.length;d++){var E=h[d],A=E.boundingBox.width*E.boundingBox.height;A>f&&(f=A,l=E)}if(!l)throw"No largest barcode found";return l},r.prototype.createBarcodeDetectorFormats=function(o){for(var l=[],f=0,d=o;f<d.length;f++){var h=d[f];this.formatMap.has(h)?l.push(this.formatMap.get(h)):this.logger.warn("".concat(h," is not supported by")+"BarcodeDetectorDelegate")}return{formats:l}},r.prototype.toHtml5QrcodeSupportedFormats=function(o){if(!this.reverseFormatMap.has(o))throw"reverseFormatMap doesn't have ".concat(o);return this.reverseFormatMap.get(o)},r.prototype.createReverseFormatMap=function(){var o=new Map;return this.formatMap.forEach(function(l,f,d){o.set(l,f)}),o},r.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},r}(),fc=globalThis&&globalThis.__awaiter||function(r,o,l,f){function d(h){return h instanceof l?h:new l(function(E){E(h)})}return new(l||(l=Promise))(function(h,E){function A(I){try{m(f.next(I))}catch(D){E(D)}}function y(I){try{m(f.throw(I))}catch(D){E(D)}}function m(I){I.done?h(I.value):d(I.value).then(A,y)}m((f=f.apply(r,o||[])).next())})},hc=globalThis&&globalThis.__generator||function(r,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},f,d,h,E;return E={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function A(m){return function(I){return y([m,I])}}function y(m){if(f)throw new TypeError("Generator is already executing.");for(;E&&(E=0,m[0]&&(l=0)),l;)try{if(f=1,d&&(h=m[0]&2?d.return:m[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,m[1])).done)return h;switch(d=0,h&&(m=[m[0]&2,h.value]),m[0]){case 0:case 1:h=m;break;case 4:return l.label++,{value:m[1],done:!1};case 5:l.label++,d=m[1],m=[0];continue;case 7:m=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(m[0]===6||m[0]===2)){l=0;continue}if(m[0]===3&&(!h||m[1]>h[0]&&m[1]<h[3])){l.label=m[1];break}if(m[0]===6&&l.label<h[1]){l.label=h[1],h=m;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(m);break}h[2]&&l.ops.pop(),l.trys.pop();continue}m=o.call(r,l)}catch(I){m=[6,I],d=0}finally{f=h=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Cd=function(){function r(o,l,f,d){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=f,l&&uc.isSupported()?(this.primaryDecoder=new uc(o,f,d),this.secondaryDecoder=new cc(o,f,d)):this.primaryDecoder=new cc(o,f,d)}return r.prototype.decodeAsync=function(o){return fc(this,void 0,void 0,function(){var l;return hc(this,function(f){switch(f.label){case 0:l=performance.now(),f.label=1;case 1:return f.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(o)];case 2:return[2,f.sent()];case 3:return this.possiblyLogPerformance(l),[7];case 4:return[2]}})})},r.prototype.decodeRobustlyAsync=function(o){return fc(this,void 0,void 0,function(){var l,f;return hc(this,function(d){switch(d.label){case 0:l=performance.now(),d.label=1;case 1:return d.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(o)];case 2:return[2,d.sent()];case 3:if(f=d.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(o)];throw f;case 4:return this.possiblyLogPerformance(l),[7];case 5:return[2]}})})},r.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},r.prototype.possiblyLogPerformance=function(o){if(this.verbose){var l=performance.now()-o;this.executionResults.push(l),this.executions++,this.possiblyFlushPerformanceReport()}},r.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var o=0,l=0,f=this.executionResults;l<f.length;l++){var d=f[l];o+=d}var h=o/this.executionResults.length;console.log("".concat(h," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},r}(),nl=globalThis&&globalThis.__extends||function(){var r=function(o,l){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(f[h]=d[h])},r(o,l)};return function(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");r(o,l);function f(){this.constructor=o}o.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}(),go=globalThis&&globalThis.__awaiter||function(r,o,l,f){function d(h){return h instanceof l?h:new l(function(E){E(h)})}return new(l||(l=Promise))(function(h,E){function A(I){try{m(f.next(I))}catch(D){E(D)}}function y(I){try{m(f.throw(I))}catch(D){E(D)}}function m(I){I.done?h(I.value):d(I.value).then(A,y)}m((f=f.apply(r,o||[])).next())})},po=globalThis&&globalThis.__generator||function(r,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},f,d,h,E;return E={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function A(m){return function(I){return y([m,I])}}function y(m){if(f)throw new TypeError("Generator is already executing.");for(;E&&(E=0,m[0]&&(l=0)),l;)try{if(f=1,d&&(h=m[0]&2?d.return:m[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,m[1])).done)return h;switch(d=0,h&&(m=[m[0]&2,h.value]),m[0]){case 0:case 1:h=m;break;case 4:return l.label++,{value:m[1],done:!1};case 5:l.label++,d=m[1],m=[0];continue;case 7:m=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(m[0]===6||m[0]===2)){l=0;continue}if(m[0]===3&&(!h||m[1]>h[0]&&m[1]<h[3])){l.label=m[1];break}if(m[0]===6&&l.label<h[1]){l.label=h[1],h=m;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(m);break}h[2]&&l.ops.pop(),l.trys.pop();continue}m=o.call(r,l)}catch(I){m=[6,I],d=0}finally{f=h=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},w1=function(){function r(o,l){this.name=o,this.track=l}return r.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},r.prototype.apply=function(o){var l={};l[this.name]=o;var f={advanced:[l]};return this.track.applyConstraints(f)},r.prototype.value=function(){var o=this.track.getSettings();if(this.name in o){var l=o[this.name];return l}return null},r}(),bd=function(r){nl(o,r);function o(l,f){return r.call(this,l,f)||this}return o.prototype.min=function(){return this.getCapabilities().min},o.prototype.max=function(){return this.getCapabilities().max},o.prototype.step=function(){return this.getCapabilities().step},o.prototype.apply=function(l){var f={};f[this.name]=l;var d={advanced:[f]};return this.track.applyConstraints(d)},o.prototype.getCapabilities=function(){this.failIfNotSupported();var l=this.track.getCapabilities(),f=l[this.name];return{min:f.min,max:f.max,step:f.step}},o.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},o}(w1),yd=function(r){nl(o,r);function o(l){return r.call(this,"zoom",l)||this}return o}(bd),Td=function(r){nl(o,r);function o(l){return r.call(this,"torch",l)||this}return o}(w1),Id=function(){function r(o){this.track=o}return r.prototype.zoomFeature=function(){return new yd(this.track)},r.prototype.torchFeature=function(){return new Td(this.track)},r}(),Sd=function(){function r(o,l,f){this.isClosed=!1,this.parentElement=o,this.mediaStream=l,this.callbacks=f,this.surface=this.createVideoElement(this.parentElement.clientWidth),o.append(this.surface)}return r.prototype.createVideoElement=function(o){var l=document.createElement("video");return l.style.width="".concat(o,"px"),l.style.display="block",l.muted=!0,l.setAttribute("muted","true"),l.playsInline=!0,l},r.prototype.setupSurface=function(){var o=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var l=function(){var f=o.surface.clientWidth,d=o.surface.clientHeight;o.callbacks.onRenderSurfaceReady(f,d),o.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.srcObject=this.mediaStream,this.surface.play()},r.create=function(o,l,f,d){return go(this,void 0,void 0,function(){var h,E;return po(this,function(A){switch(A.label){case 0:return h=new r(o,l,d),f.aspectRatio?(E={aspectRatio:f.aspectRatio},[4,h.getFirstTrackOrFail().applyConstraints(E)]):[3,2];case 1:A.sent(),A.label=2;case 2:return h.setupSurface(),[2,h]}})})},r.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},r.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},r.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},r.prototype.resume=function(o){this.failIfClosed();var l=this,f=function(){setTimeout(o,200),l.surface.removeEventListener("playing",f)};this.surface.addEventListener("playing",f),this.surface.play()},r.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},r.prototype.getSurface=function(){return this.failIfClosed(),this.surface},r.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},r.prototype.applyVideoConstraints=function(o){return go(this,void 0,void 0,function(){return po(this,function(l){if("aspectRatio"in o)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(o)]})})},r.prototype.close=function(){if(this.isClosed)return Promise.resolve();var o=this;return new Promise(function(l,f){var d=o.mediaStream.getVideoTracks(),h=d.length,E=0;o.mediaStream.getVideoTracks().forEach(function(A){o.mediaStream.removeTrack(A),A.stop(),++E,E>=h&&(o.isClosed=!0,o.parentElement.removeChild(o.surface),l())})})},r.prototype.getCapabilities=function(){return new Id(this.getFirstTrackOrFail())},r}(),Nd=function(){function r(o){this.mediaStream=o}return r.prototype.render=function(o,l,f){return go(this,void 0,void 0,function(){return po(this,function(d){return[2,Sd.create(o,this.mediaStream,l,f)]})})},r.create=function(o){return go(this,void 0,void 0,function(){var l,f;return po(this,function(d){switch(d.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return l={audio:!1,video:o},[4,navigator.mediaDevices.getUserMedia(l)];case 1:return f=d.sent(),[2,new r(f)]}})})},r}(),dc=globalThis&&globalThis.__awaiter||function(r,o,l,f){function d(h){return h instanceof l?h:new l(function(E){E(h)})}return new(l||(l=Promise))(function(h,E){function A(I){try{m(f.next(I))}catch(D){E(D)}}function y(I){try{m(f.throw(I))}catch(D){E(D)}}function m(I){I.done?h(I.value):d(I.value).then(A,y)}m((f=f.apply(r,o||[])).next())})},gc=globalThis&&globalThis.__generator||function(r,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},f,d,h,E;return E={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function A(m){return function(I){return y([m,I])}}function y(m){if(f)throw new TypeError("Generator is already executing.");for(;E&&(E=0,m[0]&&(l=0)),l;)try{if(f=1,d&&(h=m[0]&2?d.return:m[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,m[1])).done)return h;switch(d=0,h&&(m=[m[0]&2,h.value]),m[0]){case 0:case 1:h=m;break;case 4:return l.label++,{value:m[1],done:!1};case 5:l.label++,d=m[1],m=[0];continue;case 7:m=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(m[0]===6||m[0]===2)){l=0;continue}if(m[0]===3&&(!h||m[1]>h[0]&&m[1]<h[3])){l.label=m[1];break}if(m[0]===6&&l.label<h[1]){l.label=h[1],h=m;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(m);break}h[2]&&l.ops.pop(),l.trys.pop();continue}m=o.call(r,l)}catch(I){m=[6,I],d=0}finally{f=h=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Od=function(){function r(){}return r.failIfNotSupported=function(){return dc(this,void 0,void 0,function(){return gc(this,function(o){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new r]})})},r.prototype.create=function(o){return dc(this,void 0,void 0,function(){return gc(this,function(l){return[2,Nd.create(o)]})})},r}(),vd=globalThis&&globalThis.__awaiter||function(r,o,l,f){function d(h){return h instanceof l?h:new l(function(E){E(h)})}return new(l||(l=Promise))(function(h,E){function A(I){try{m(f.next(I))}catch(D){E(D)}}function y(I){try{m(f.throw(I))}catch(D){E(D)}}function m(I){I.done?h(I.value):d(I.value).then(A,y)}m((f=f.apply(r,o||[])).next())})},Rd=globalThis&&globalThis.__generator||function(r,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},f,d,h,E;return E={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function A(m){return function(I){return y([m,I])}}function y(m){if(f)throw new TypeError("Generator is already executing.");for(;E&&(E=0,m[0]&&(l=0)),l;)try{if(f=1,d&&(h=m[0]&2?d.return:m[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,m[1])).done)return h;switch(d=0,h&&(m=[m[0]&2,h.value]),m[0]){case 0:case 1:h=m;break;case 4:return l.label++,{value:m[1],done:!1};case 5:l.label++,d=m[1],m=[0];continue;case 7:m=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(m[0]===6||m[0]===2)){l=0;continue}if(m[0]===3&&(!h||m[1]>h[0]&&m[1]<h[3])){l.label=m[1];break}if(m[0]===6&&l.label<h[1]){l.label=h[1],h=m;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(m);break}h[2]&&l.ops.pop(),l.trys.pop();continue}m=o.call(r,l)}catch(I){m=[6,I],d=0}finally{f=h=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Dd=function(){function r(){}return r.retrieve=function(){if(navigator.mediaDevices)return r.getCamerasFromMediaDevices();var o=MediaStreamTrack;return MediaStreamTrack&&o.getSources?r.getCamerasFromMediaStreamTrack():r.rejectWithError()},r.rejectWithError=function(){var o=yi.unableToQuerySupportedDevices();return r.isHttpsOrLocalhost()||(o=yi.insecureContextCameraQueryError()),Promise.reject(o)},r.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var o=location.host.split(":")[0];return o==="127.0.0.1"||o==="localhost"},r.getCamerasFromMediaDevices=function(){return vd(this,void 0,void 0,function(){var o,l,f,d,h,E,A;return Rd(this,function(y){switch(y.label){case 0:return o=function(m){for(var I=m.getVideoTracks(),D=0,$=I;D<$.length;D++){var z=$[D];z.enabled=!1,z.stop(),m.removeTrack(z)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return l=y.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(f=y.sent(),d=[],h=0,E=f;h<E.length;h++)A=E[h],A.kind==="videoinput"&&d.push({id:A.deviceId,label:A.label});return o(l),[2,d]}})})},r.getCamerasFromMediaStreamTrack=function(){return new Promise(function(o,l){var f=function(h){for(var E=[],A=0,y=h;A<y.length;A++){var m=y[A];m.kind==="video"&&E.push({id:m.id,label:m.label})}o(E)},d=MediaStreamTrack;d.getSources(f)})},r}(),be;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.NOT_STARTED=1]="NOT_STARTED",r[r.SCANNING=2]="SCANNING",r[r.PAUSED=3]="PAUSED"})(be||(be={}));var Md=function(){function r(){this.state=be.NOT_STARTED,this.onGoingTransactionNewState=be.UNKNOWN}return r.prototype.directTransition=function(o){this.failIfTransitionOngoing(),this.validateTransition(o),this.state=o},r.prototype.startTransition=function(o){return this.failIfTransitionOngoing(),this.validateTransition(o),this.onGoingTransactionNewState=o,this},r.prototype.execute=function(){if(this.onGoingTransactionNewState===be.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var o=this.onGoingTransactionNewState;this.onGoingTransactionNewState=be.UNKNOWN,this.directTransition(o)},r.prototype.cancel=function(){if(this.onGoingTransactionNewState===be.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=be.UNKNOWN},r.prototype.getState=function(){return this.state},r.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==be.UNKNOWN)throw"Cannot transition to a new state, already under transition"},r.prototype.validateTransition=function(o){switch(this.state){case be.UNKNOWN:throw"Transition from unknown is not allowed";case be.NOT_STARTED:this.failIfNewStateIs(o,[be.PAUSED]);break;case be.SCANNING:break;case be.PAUSED:break}},r.prototype.failIfNewStateIs=function(o,l){for(var f=0,d=l;f<d.length;f++){var h=d[f];if(o===h)throw"Cannot transition from ".concat(this.state," to ").concat(o)}},r}(),Ld=function(){function r(o){this.stateManager=o}return r.prototype.startTransition=function(o){return this.stateManager.startTransition(o)},r.prototype.directTransition=function(o){this.stateManager.directTransition(o)},r.prototype.getState=function(){return this.stateManager.getState()},r.prototype.canScanFile=function(){return this.stateManager.getState()===be.NOT_STARTED},r.prototype.isScanning=function(){return this.stateManager.getState()!==be.NOT_STARTED},r.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===be.SCANNING},r.prototype.isPaused=function(){return this.stateManager.getState()===be.PAUSED},r}(),Bd=function(){function r(){}return r.create=function(){return new Ld(new Md)},r}(),Pd=globalThis&&globalThis.__extends||function(){var r=function(o,l){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(f[h]=d[h])},r(o,l)};return function(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");r(o,l);function f(){this.constructor=o}o.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}(),En=function(r){Pd(o,r);function o(){return r!==null&&r.apply(this,arguments)||this}return o.DEFAULT_WIDTH=300,o.DEFAULT_WIDTH_OFFSET=2,o.FILE_SCAN_MIN_HEIGHT=300,o.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,o.MIN_QR_BOX_SIZE=50,o.SHADED_LEFT=1,o.SHADED_RIGHT=2,o.SHADED_TOP=3,o.SHADED_BOTTOM=4,o.SHADED_REGION_ELEMENT_ID="qr-shaded-region",o.VERBOSE=!1,o.BORDER_SHADER_DEFAULT_COLOR="#ffffff",o.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",o}(dd),Fd=function(){function r(o,l){this.logger=l,this.fps=En.SCAN_DEFAULT_FPS,o?(o.fps&&(this.fps=o.fps),this.disableFlip=o.disableFlip===!0,this.qrbox=o.qrbox,this.aspectRatio=o.aspectRatio,this.videoConstraints=o.videoConstraints):this.disableFlip=En.DEFAULT_DISABLE_FLIP}return r.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?E1.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},r.prototype.isShadedBoxEnabled=function(){return!gr(this.qrbox)},r.create=function(o,l){return new r(o,l)},r}(),pc=function(){function r(o,l){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(o))throw"HTML Element with id=".concat(o," not found");this.elementId=o,this.verbose=!1;var f;typeof l=="boolean"?this.verbose=l===!0:l&&(f=l,this.verbose=f.verbose===!0,f.experimentalFeatures),this.logger=new pd(this.verbose),this.qrcode=new Cd(this.getSupportedFormats(l),this.getUseBarCodeDetectorIfSupported(f),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Bd.create()}return r.prototype.start=function(o,l,f,d){var h=this;if(!o)throw"cameraIdOrConfig is required";if(!f||typeof f!="function")throw"qrCodeSuccessCallback is required and should be a function.";var E;d?E=d:E=this.verbose?this.logger.log:function(){};var A=Fd.create(l,this.logger);this.clearElement();var y=!1;A.videoConstraints&&(A.isMediaStreamConstraintsValid()?y=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=y,I=document.getElementById(this.elementId);I.clientWidth?I.clientWidth:En.DEFAULT_WIDTH,I.style.position="relative",this.shouldScan=!0,this.element=I;var D=this,$=this.stateManagerProxy.startTransition(be.SCANNING);return new Promise(function(z,At){var J=m?A.videoConstraints:D.createVideoConstraints(o);if(!J){$.cancel(),At("videoConstraints should be defined");return}var dt={};(!m||A.aspectRatio)&&(dt.aspectRatio=A.aspectRatio);var bt={onRenderSurfaceReady:function(ht,at){D.setupUi(ht,at,A),D.isScanning=!0,D.foreverScan(A,f,E)}};Od.failIfNotSupported().then(function(ht){ht.create(J).then(function(at){return at.render(h.element,dt,bt).then(function(Q){D.renderedCamera=Q,$.execute(),z(null)}).catch(function(Q){$.cancel(),At(Q)})}).catch(function(at){$.cancel(),At(yi.errorGettingUserMedia(at))})}).catch(function(ht){$.cancel(),At(yi.cameraStreamingNotSupported())})})},r.prototype.pause=function(o){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(be.PAUSED),this.showPausedState(),(gr(o)||o!==!0)&&(o=!1),o&&this.renderedCamera&&this.renderedCamera.pause()},r.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var o=this,l=function(){o.stateManagerProxy.directTransition(be.SCANNING),o.hidePausedState()};if(!this.renderedCamera.isPaused()){l();return}this.renderedCamera.resume(function(){l()})},r.prototype.getState=function(){return this.stateManagerProxy.getState()},r.prototype.stop=function(){var o=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var l=this.stateManagerProxy.startTransition(be.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var f=function(){if(o.element){var h=document.getElementById(En.SHADED_REGION_ELEMENT_ID);h&&o.element.removeChild(h)}},d=this;return this.renderedCamera.close().then(function(){return d.renderedCamera=null,d.element&&(d.element.removeChild(d.canvasElement),d.canvasElement=null),f(),d.qrRegion&&(d.qrRegion=null),d.context&&(d.context=null),l.execute(),d.hidePausedState(),d.isScanning=!1,Promise.resolve()})},r.prototype.scanFile=function(o,l){return this.scanFileV2(o,l).then(function(f){return f.decodedText})},r.prototype.scanFileV2=function(o,l){var f=this;if(!o||!(o instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(gr(l)&&(l=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(d,h){f.possiblyCloseLastScanImageFile(),f.clearElement(),f.lastScanImageFile=URL.createObjectURL(o);var E=new Image;E.onload=function(){var A=E.width,y=E.height,m=document.getElementById(f.elementId),I=m.clientWidth?m.clientWidth:En.DEFAULT_WIDTH,D=Math.max(m.clientHeight?m.clientHeight:y,En.FILE_SCAN_MIN_HEIGHT),$=f.computeCanvasDrawConfig(A,y,I,D);if(l){var z=f.createCanvasElement(I,D,"qr-canvas-visible");z.style.display="inline-block",m.appendChild(z);var At=z.getContext("2d");if(!At)throw"Unable to get 2d context from canvas";At.canvas.width=I,At.canvas.height=D,At.drawImage(E,0,0,A,y,$.x,$.y,$.width,$.height)}var J=En.FILE_SCAN_HIDDEN_CANVAS_PADDING,dt=Math.max(E.width,$.width),bt=Math.max(E.height,$.height),ht=dt+2*J,at=bt+2*J,Q=f.createCanvasElement(ht,at);m.appendChild(Q);var Rt=Q.getContext("2d");if(!Rt)throw"Unable to get 2d context from canvas";Rt.canvas.width=ht,Rt.canvas.height=at,Rt.drawImage(E,0,0,A,y,J,J,dt,bt);try{f.qrcode.decodeRobustlyAsync(Q).then(function(wt){d(lc.createFromQrcodeResult(wt))}).catch(h)}catch(wt){h("QR code parse error, error = ".concat(wt))}},E.onerror=h,E.onabort=h,E.onstalled=h,E.onsuspend=h,E.src=URL.createObjectURL(o)})},r.prototype.clear=function(){this.clearElement()},r.getCameras=function(){return Dd.retrieve()},r.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},r.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},r.prototype.applyVideoConstraints=function(o){if(o){if(!E1.isMediaStreamConstraintsValid(o,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(o)},r.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},r.prototype.getSupportedFormats=function(o){var l=[Et.QR_CODE,Et.AZTEC,Et.CODABAR,Et.CODE_39,Et.CODE_93,Et.CODE_128,Et.DATA_MATRIX,Et.MAXICODE,Et.ITF,Et.EAN_13,Et.EAN_8,Et.PDF_417,Et.RSS_14,Et.RSS_EXPANDED,Et.UPC_A,Et.UPC_E,Et.UPC_EAN_EXTENSION];if(!o||typeof o=="boolean"||!o.formatsToSupport)return l;if(!Array.isArray(o.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(o.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var f=[],d=0,h=o.formatsToSupport;d<h.length;d++){var E=h[d];hd(E)?f.push(E):this.logger.warn("Invalid format: ".concat(E," passed in config, ignoring."))}if(f.length===0)throw"None of formatsToSupport match supported values.";return f},r.prototype.getUseBarCodeDetectorIfSupported=function(o){if(gr(o))return!0;if(!gr(o.useBarCodeDetectorIfSupported))return o.useBarCodeDetectorIfSupported!==!1;if(gr(o.experimentalFeatures))return!0;var l=o.experimentalFeatures;return gr(l.useBarCodeDetectorIfSupported)?!0:l.useBarCodeDetectorIfSupported!==!1},r.prototype.validateQrboxSize=function(o,l,f){var d=this,h=f.qrbox;this.validateQrboxConfig(h);var E=this.toQrdimensions(o,l,h),A=function(m){if(m<En.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(En.MIN_QR_BOX_SIZE,"px.")},y=function(m){return m>o&&(d.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=o),m};A(E.width),A(E.height),E.width=y(E.width)},r.prototype.validateQrboxConfig=function(o){if(typeof o!="number"&&typeof o!="function"&&(o.width===void 0||o.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},r.prototype.toQrdimensions=function(o,l,f){if(typeof f=="number")return{width:f,height:f};if(typeof f=="function")try{return f(o,l)}catch(d){throw new Error("qrbox config was passed as a function but it failed with unknown error"+d)}return f},r.prototype.setupUi=function(o,l,f){f.isShadedBoxEnabled()&&this.validateQrboxSize(o,l,f);var d=gr(f.qrbox)?{width:o,height:l}:f.qrbox;this.validateQrboxConfig(d);var h=this.toQrdimensions(o,l,d);h.height>l&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var E=f.isShadedBoxEnabled()&&h.height<=l,A={x:0,y:0,width:o,height:l},y=E?this.getShadedRegionBounds(o,l,h):A,m=this.createCanvasElement(y.width,y.height),I={willReadFrequently:!0},D=m.getContext("2d",I);D.canvas.width=y.width,D.canvas.height=y.height,this.element.append(m),E&&this.possiblyInsertShadingElement(this.element,o,l,h),this.createScannerPausedUiElement(this.element),this.qrRegion=y,this.context=D,this.canvasElement=m},r.prototype.createScannerPausedUiElement=function(o){var l=document.createElement("div");l.innerText=yi.scannerPaused(),l.style.display="none",l.style.position="absolute",l.style.top="0px",l.style.zIndex="1",l.style.background="rgba(9, 9, 9, 0.46)",l.style.color="#FFECEC",l.style.textAlign="center",l.style.width="100%",o.appendChild(l),this.scannerPausedUiElement=l},r.prototype.scanContext=function(o,l){var f=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(d){return o(d.text,lc.createFromQrcodeResult(d)),f.possiblyUpdateShaders(!0),!0}).catch(function(d){f.possiblyUpdateShaders(!1);var h=yi.codeParseError(d);return l(h,gd.createFrom(h)),!1})},r.prototype.foreverScan=function(o,l,f){var d=this;if(this.shouldScan&&this.renderedCamera){var h=this.renderedCamera.getSurface(),E=h.videoWidth/h.clientWidth,A=h.videoHeight/h.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var y=this.qrRegion.width*E,m=this.qrRegion.height*A,I=this.qrRegion.x*E,D=this.qrRegion.y*A;this.context.drawImage(h,I,D,y,m,0,0,this.qrRegion.width,this.qrRegion.height);var $=function(){d.foreverScanTimeout=setTimeout(function(){d.foreverScan(o,l,f)},d.getTimeoutFps(o.fps))};this.scanContext(l,f).then(function(z){!z&&o.disableFlip!==!0?(d.context.translate(d.context.canvas.width,0),d.context.scale(-1,1),d.scanContext(l,f).finally(function(){$()})):$()}).catch(function(z){d.logger.logError("Error happend while scanning context",z),$()})}},r.prototype.createVideoConstraints=function(o){if(typeof o=="string")return{deviceId:{exact:o}};if(typeof o=="object"){var l="facingMode",f="deviceId",d={user:!0,environment:!0},h="exact",E=function(At){if(At in d)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(At,"'")},A=Object.keys(o);if(A.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(A.length," keys");var y=Object.keys(o)[0];if(y!==l&&y!==f)throw"Only '".concat(l,"' and '").concat(f,"' ")+" are supported for 'cameraIdOrConfig'";if(y===l){var m=o.facingMode;if(typeof m=="string"){if(E(m))return{facingMode:m}}else if(typeof m=="object")if(h in m){if(E(m["".concat(h)]))return{facingMode:{exact:m["".concat(h)]}}}else throw"'facingMode' should be string or object with"+" ".concat(h," as key.");else{var I=typeof m;throw"Invalid type of 'facingMode' = ".concat(I)}}else{var D=o.deviceId;if(typeof D=="string")return{deviceId:D};if(typeof D=="object"){if(h in D)return{deviceId:{exact:D["".concat(h)]}};throw"'deviceId' should be string or object with"+" ".concat(h," as key.")}else{var $=typeof D;throw"Invalid type of 'deviceId' = ".concat($)}}}var z=typeof o;throw"Invalid type of 'cameraIdOrConfig' = ".concat(z)},r.prototype.computeCanvasDrawConfig=function(o,l,f,d){if(o<=f&&l<=d){var h=(f-o)/2,E=(d-l)/2;return{x:h,y:E,width:o,height:l}}else{var A=o,y=l;return o>f&&(l=f/o*l,o=f),l>d&&(o=d/l*o,l=d),this.logger.log("Image downsampled from "+"".concat(A,"X").concat(y)+" to ".concat(o,"X").concat(l,".")),this.computeCanvasDrawConfig(o,l,f,d)}},r.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var o=document.getElementById(this.elementId);o&&(o.innerHTML="")},r.prototype.possiblyUpdateShaders=function(o){this.qrMatch!==o&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(l){l.style.backgroundColor=o?En.BORDER_SHADER_MATCH_COLOR:En.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=o)},r.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},r.prototype.createCanvasElement=function(o,l,f){var d=o,h=l,E=document.createElement("canvas");return E.style.width="".concat(d,"px"),E.style.height="".concat(h,"px"),E.style.display="none",E.id=gr(f)?"qr-canvas":f,E},r.prototype.getShadedRegionBounds=function(o,l,f){if(f.width>o||f.height>l)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(o-f.width)/2,y:(l-f.height)/2,width:f.width,height:f.height}},r.prototype.possiblyInsertShadingElement=function(o,l,f,d){if(!(l-d.width<1||f-d.height<1)){var h=document.createElement("div");h.style.position="absolute";var E=(l-d.width)/2,A=(f-d.height)/2;if(h.style.borderLeft="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderRight="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderTop="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderBottom="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),h.style.boxSizing="border-box",h.style.top="0px",h.style.bottom="0px",h.style.left="0px",h.style.right="0px",h.id="".concat(En.SHADED_REGION_ELEMENT_ID),l-d.width<11||f-d.height<11)this.hasBorderShaders=!1;else{var y=5,m=40;this.insertShaderBorders(h,m,y,-y,null,0,!0),this.insertShaderBorders(h,m,y,-y,null,0,!1),this.insertShaderBorders(h,m,y,null,-y,0,!0),this.insertShaderBorders(h,m,y,null,-y,0,!1),this.insertShaderBorders(h,y,m+y,-y,null,-y,!0),this.insertShaderBorders(h,y,m+y,null,-y,-y,!0),this.insertShaderBorders(h,y,m+y,-y,null,-y,!1),this.insertShaderBorders(h,y,m+y,null,-y,-y,!1),this.hasBorderShaders=!0}o.append(h)}},r.prototype.insertShaderBorders=function(o,l,f,d,h,E,A){var y=document.createElement("div");y.style.position="absolute",y.style.backgroundColor=En.BORDER_SHADER_DEFAULT_COLOR,y.style.width="".concat(l,"px"),y.style.height="".concat(f,"px"),d!==null&&(y.style.top="".concat(d,"px")),h!==null&&(y.style.bottom="".concat(h,"px")),A?y.style.left="".concat(E,"px"):y.style.right="".concat(E,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(y),o.appendChild(y)},r.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},r.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},r.prototype.getTimeoutFps=function(o){return 1e3/o},r}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var xc;(function(r){r[r.STATUS_DEFAULT=0]="STATUS_DEFAULT",r[r.STATUS_SUCCESS=1]="STATUS_SUCCESS",r[r.STATUS_WARNING=2]="STATUS_WARNING",r[r.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(xc||(xc={}));const kd=r=>(m0("data-v-4ef34667"),r=r(),E0(),r),Ud={class:"container"},Vd=kd(()=>ot("div",{id:"reader"},null,-1)),Hd=[Vd],Wd=S0({__name:"screen",setup(r){const o=ua(""),l=ua(""),f=ua(null);e1(()=>{d()}),$a(()=>{E()});const d=()=>{pc.getCameras().then(A=>{console.log("camera information",A),A&&A.length&&(A.length>1?o.value=A[1].id:o.value=A[0].id,l.value=A,h())}).catch(A=>{console.log("Failed to get device information",A)})},h=()=>{f.value=new pc("reader"),console.log("html5QrCode",f),f.value.start(o.value,{fps:10,qrbox:{width:250,height:150}},(A,y)=>{console.log("scan results",A,y),A&&this.$emit("scanned",A)},A=>{console.log("No scan results",A)}).catch(A=>{console.log(`Unable to start scanning, error: ${A}`)})},E=()=>{f.value.stop().then(A=>{console.log("QR Code scanning stopped.",A)}).catch(A=>{console.log("Unable to stop scanning.",A)})};return(A,y)=>(Rn(),Un("div",Ud,Hd))}});const Gd=el(Wd,[["__scopeId","data-v-4ef34667"]]),Xd="/vue-bootstrap/assets/logo-0462d2b3.png";const Yd={data(){return{input:"",barcode:"",cartItems:[],confirm:[],productData:[],showScanner:!1,scanSuccess:!1}},components:{BarcodeScanner:fd,screen:Gd},mounted(){this.fetchData()},methods:{handleScannedData(r){console.log("Scanned data:",r),this.barcode=r,this.scanSuccess=!0,this.addItem()},fetchData(){this.productData=x1},openScanner(){this.showScanner=!0},addItem(){if(this.scanSuccess||(this.barcode=document.getElementById("barcode").value),this.barcode){const r=this.productData.find(o=>o.gtin===this.barcode);if(r){const o=this.cartItems.findIndex(l=>l.barcode===this.barcode);this.input="",o!==-1?this.cartItems[o].count++:(this.cartItems.push({barcode:this.barcode,count:1,name:r.name,img:r.img,price:r.price}),this.confirm.push(!1))}this.barcode=""}},removeItem(r){this.cartItems.splice(r,1),this.confirm.splice(r,1)},cartTotalPrice(){let r=0;for(let o of this.cartItems)r+=o.price*o.count;return r.toFixed(2)},itemTotalPrice(r){let o=0;return o=this.cartItems[r].price*this.cartItems[r].count,o.toFixed(2)},handleAddCount(r){this.cartItems[r].count+=1},handleReduceCount(r){this.cartItems[r].count!==1&&(this.cartItems[r].count>1?this.cartItems[r].count--:this.cartItems.splice(r,1))}}},jd=fh('<header><nav class="navbar navbar-expand-md navbar-light bg-light" style="max-height:45px;"><div class="navbar-collapse collapse w-100 order-1 order-md-0 dual-collapse2"><ul class="navbar-nav text-start"><li class="nav-item active"><img src="'+Xd+'" width="100" height="100%" alt=""></li></ul></div><div class="mx-auto order-0"><a class="navbar-brand mx-auto title fs-5">Shopping Cart</a></div><div class="navbar-collapse collapse w-100 order-3 dual-collapse2"><ul class="navbar-nav ms-auto"><li class="nav-item"><i class="material-icons nav-link py-0 pe-4" style="font-size:40px;">account_circle</i></li></ul></div></nav></header>',1),zd=ot("i",{class:"material-icons"},"add",-1),Kd=[zd],Zd={class:"modal fade",id:"scanBarcodeDialog",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},$d={class:"modal-dialog modal-dialog-centered",role:"document"},qd={class:"modal-content"},Qd=ot("div",{class:"modal-header"},[ot("h5",{class:"modal-title",id:"exampleModalLongTitle"},"Scan Code"),ot("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},[ot("span",{"aria-hidden":"true"},"×")])],-1),Jd={class:"modal-body"},tg={key:0},eg={class:"input-group mb-3 p-3"},ng={key:0},rg=ot("br",null,null,-1),ig=ot("br",null,null,-1),sg=ot("br",null,null,-1),og=ot("div",{class:"container text-center"},[ot("div",{class:"row align-items-start"},[ot("i",{class:"material-icons",style:{color:"#094FA3","font-size":"80px"}},"remove_shopping_cart"),ot("p",{class:"fs-3 fw-bold",style:{color:"#094FA3"}},"Hi! What are you looking for today?")])],-1),ag={key:1,class:"h-100",style:{}},lg={class:"h-100"},cg={class:"row d-flex justify-content-center align-items-center h-100"},ug={class:"col-11"},fg={class:"card rounded-3 mb-4"},hg={class:"row d-flex justify-content-between align-items-center"},dg={class:"col-6 col-md-3"},gg=["src"],pg={class:"col-6 col-md-5"},xg={class:"lead fw-bold mb-2"},mg={class:"text-muted"},Eg={class:"input-group input-group-sm"},wg={class:"input-group-prepend"},_g={class:"input-group-text",id:"inputGroup-sizing"},Ag=["onClick"],Cg=["onUpdate:modelValue"],bg={class:"input-group-append"},yg={class:"input-group-text",id:"inputGroup-sizing-default"},Tg=["onClick"],Ig={class:"col-9 text-end col-md-2 text-right"},Sg={class:"mb-0"},Ng=ot("div",{class:"col-3 col-md-1 d-flex"},[ot("a",{href:"#!",class:"text-danger"},[ot("i",{class:"material-icons","data-bs-toggle":"modal","data-bs-target":"#deleteDialog"},"delete")])],-1),Og={class:"modal fade",id:"deleteDialog","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},vg={class:"modal-dialog"},Rg={class:"modal-content"},Dg=ot("div",{class:"modal-header"},[ot("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Delete Product"),ot("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Mg=ot("div",{class:"modal-body"}," Are you sure you want to delete this Product? ",-1),Lg={class:"modal-footer"},Bg=ot("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),Pg={class:""},Fg=ot("div",{class:"input-group mb-3"},[ot("input",{type:"text",class:"form-control",placeholder:"Discound code","aria-label":"Discound code","aria-describedby":"basic-addon2"}),ot("div",{class:"input-group-append"},[ot("button",{class:"btn btn-primary text-white",type:"button"},"Apply")])],-1),kg={class:"mb-5 pb-5"},Ug={class:"card"},Vg={class:"card-body"},Hg={type:"button",class:"btn btn-primary btn-lg w-100"},Wg=ot("footer",null,[ot("nav",{class:"nav border-top nav-pills nav-justified fixed-bottom flex-nowrap"},[ot("div",{class:"btn-group",role:"group",style:{width:"100%"}},[ot("a",{href:"https://treantprotectorgo.github.io/html-home/",class:"btn btn-light"},[ot("i",{style:{display:"flex","flex-direction":"column","font-size":"28px"},class:"material-icons"},"home"),xr(" Home")]),ot("a",{href:"https://nevercod.github.io/chat/",class:"btn btn-light"},[ot("i",{class:"material-icons",style:{display:"flex","flex-direction":"column","font-size":"28px"}},"chat"),xr(" Chat ")]),ot("a",{href:"#",class:"btn btn-light",style:{color:"#094FA3"}},[ot("i",{class:"material-icons",style:{display:"flex","flex-direction":"column","font-size":"28px"}},"shopping_cart"),xr(" Cart ")])])])],-1);function Gg(r,o,l,f,d,h){const E=U0("screen");return Rn(),Un(wn,null,[jd,ot("button",{class:"btn btn-primary btn-floating p-2",onClick:o[0]||(o[0]=(...A)=>h.openScanner&&h.openScanner(...A)),"data-bs-toggle":"modal","data-bs-target":"#scanBarcodeDialog"},Kd),ot("div",Zd,[ot("div",$d,[ot("div",qd,[Qd,ot("div",Jd,[(d.showScanner=!0)?(Rn(),Un("div",tg,[Mn(E,{onScanned:h.handleScannedData},null,8,["onScanned"])])):ga("",!0)])])])]),ot("div",eg,[ao(ot("input",{type:"text",class:"form-control",placeholder:"Enter Barcode","aria-label":"Enter Barcode","aria-describedby":"button-addon2",id:"barcode","onUpdate:modelValue":o[1]||(o[1]=A=>d.input=A)},null,512),[[rc,d.input]]),ot("button",{class:"btn btn-primary",type:"button",id:"button-addon2",onClick:o[2]||(o[2]=(...A)=>h.addItem&&h.addItem(...A))},"Add")]),d.cartItems.length===0?(Rn(),Un("div",ng,[rg,xr(),ig,xr(),sg,og])):ga("",!0),d.cartItems.length!=0?(Rn(),Un("section",ag,[ot("div",lg,[ot("div",cg,[ot("div",ug,[ot("div",fg,[(Rn(!0),Un(wn,null,r1(d.cartItems,(A,y)=>(Rn(),Un("div",{class:"card-body p-1",key:y},[ot("div",hg,[ot("div",dg,[ot("img",{src:A.img,class:"img-fluid rounded-3",alt:"Product Image"},null,8,gg)]),ot("div",pg,[ot("p",xg,bi(A.name),1),ot("p",null,[ot("span",mg,bi(A.barcode),1)]),ot("div",Eg,[ot("div",wg,[ot("span",_g,[ot("i",{class:"material-icons xs",onClick:m=>h.handleAddCount(y)},"add",8,Ag)])]),ao(ot("input",{"onUpdate:modelValue":m=>A.count=m,style:{"max-width":"50px","max-height":"25px"},type:"text",class:"readonly form-control text-center"},null,8,Cg),[[rc,A.count]]),ot("div",bg,[ot("span",yg,[ot("i",{class:"material-icons xs",onClick:m=>h.handleReduceCount(y),style:{width:"1vh"}},"remove",8,Tg)])])])]),ot("div",Ig,[ot("h5",Sg,"$ "+bi(h.itemTotalPrice(y)),1)]),Ng])]))),128))]),ot("div",Og,[ot("div",vg,[ot("div",Rg,[Dg,Mg,ot("div",Lg,[Bg,ot("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:o[3]||(o[3]=A=>h.removeItem(r.index))},"Delete")])])])]),ot("div",Pg,[Fg,ot("div",kg,[ot("div",Ug,[ot("div",Vg,[ot("button",Hg,"Proceed to Pay $ "+bi(h.cartTotalPrice()),1)])])])])])])])])):ga("",!0),Wg],64)}const Xg=el(Yd,[["render",Gg]]),Yg=ot("header",null,[ot("div")],-1),jg={__name:"App",setup(r){return(o,l)=>(Rn(),Un(wn,null,[Yg,ot("main",null,[Mn(Xg)])],64))}};var zg={exports:{}},rn="top",_n="bottom",An="right",sn="left",vo="auto",Vi=[rn,_n,An,sn],ii="start",Di="end",_1="clippingParents",rl="viewport",Ci="popper",A1="reference",Ra=Vi.reduce(function(r,o){return r.concat([o+"-"+ii,o+"-"+Di])},[]),il=[].concat(Vi,[vo]).reduce(function(r,o){return r.concat([o,o+"-"+ii,o+"-"+Di])},[]),C1="beforeRead",b1="read",y1="afterRead",T1="beforeMain",I1="main",S1="afterMain",N1="beforeWrite",O1="write",v1="afterWrite",R1=[C1,b1,y1,T1,I1,S1,N1,O1,v1];function rr(r){return r?(r.nodeName||"").toLowerCase():null}function Cn(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var o=r.ownerDocument;return o&&o.defaultView||window}return r}function si(r){var o=Cn(r).Element;return r instanceof o||r instanceof Element}function Ln(r){var o=Cn(r).HTMLElement;return r instanceof o||r instanceof HTMLElement}function sl(r){if(typeof ShadowRoot>"u")return!1;var o=Cn(r).ShadowRoot;return r instanceof o||r instanceof ShadowRoot}function Kg(r){var o=r.state;Object.keys(o.elements).forEach(function(l){var f=o.styles[l]||{},d=o.attributes[l]||{},h=o.elements[l];!Ln(h)||!rr(h)||(Object.assign(h.style,f),Object.keys(d).forEach(function(E){var A=d[E];A===!1?h.removeAttribute(E):h.setAttribute(E,A===!0?"":A)}))})}function Zg(r){var o=r.state,l={popper:{position:o.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(o.elements.popper.style,l.popper),o.styles=l,o.elements.arrow&&Object.assign(o.elements.arrow.style,l.arrow),function(){Object.keys(o.elements).forEach(function(f){var d=o.elements[f],h=o.attributes[f]||{},E=Object.keys(o.styles.hasOwnProperty(f)?o.styles[f]:l[f]),A=E.reduce(function(y,m){return y[m]="",y},{});!Ln(d)||!rr(d)||(Object.assign(d.style,A),Object.keys(h).forEach(function(y){d.removeAttribute(y)}))})}}const ol={name:"applyStyles",enabled:!0,phase:"write",fn:Kg,effect:Zg,requires:["computeStyles"]};function er(r){return r.split("-")[0]}var ni=Math.max,xo=Math.min,Mi=Math.round;function Da(){var r=navigator.userAgentData;return r!=null&&r.brands&&Array.isArray(r.brands)?r.brands.map(function(o){return o.brand+"/"+o.version}).join(" "):navigator.userAgent}function D1(){return!/^((?!chrome|android).)*safari/i.test(Da())}function Li(r,o,l){o===void 0&&(o=!1),l===void 0&&(l=!1);var f=r.getBoundingClientRect(),d=1,h=1;o&&Ln(r)&&(d=r.offsetWidth>0&&Mi(f.width)/r.offsetWidth||1,h=r.offsetHeight>0&&Mi(f.height)/r.offsetHeight||1);var E=si(r)?Cn(r):window,A=E.visualViewport,y=!D1()&&l,m=(f.left+(y&&A?A.offsetLeft:0))/d,I=(f.top+(y&&A?A.offsetTop:0))/h,D=f.width/d,$=f.height/h;return{width:D,height:$,top:I,right:m+D,bottom:I+$,left:m,x:m,y:I}}function al(r){var o=Li(r),l=r.offsetWidth,f=r.offsetHeight;return Math.abs(o.width-l)<=1&&(l=o.width),Math.abs(o.height-f)<=1&&(f=o.height),{x:r.offsetLeft,y:r.offsetTop,width:l,height:f}}function M1(r,o){var l=o.getRootNode&&o.getRootNode();if(r.contains(o))return!0;if(l&&sl(l)){var f=o;do{if(f&&r.isSameNode(f))return!0;f=f.parentNode||f.host}while(f)}return!1}function Er(r){return Cn(r).getComputedStyle(r)}function $g(r){return["table","td","th"].indexOf(rr(r))>=0}function Mr(r){return((si(r)?r.ownerDocument:r.document)||window.document).documentElement}function Ro(r){return rr(r)==="html"?r:r.assignedSlot||r.parentNode||(sl(r)?r.host:null)||Mr(r)}function mc(r){return!Ln(r)||Er(r).position==="fixed"?null:r.offsetParent}function qg(r){var o=/firefox/i.test(Da()),l=/Trident/i.test(Da());if(l&&Ln(r)){var f=Er(r);if(f.position==="fixed")return null}var d=Ro(r);for(sl(d)&&(d=d.host);Ln(d)&&["html","body"].indexOf(rr(d))<0;){var h=Er(d);if(h.transform!=="none"||h.perspective!=="none"||h.contain==="paint"||["transform","perspective"].indexOf(h.willChange)!==-1||o&&h.willChange==="filter"||o&&h.filter&&h.filter!=="none")return d;d=d.parentNode}return null}function Cs(r){for(var o=Cn(r),l=mc(r);l&&$g(l)&&Er(l).position==="static";)l=mc(l);return l&&(rr(l)==="html"||rr(l)==="body"&&Er(l).position==="static")?o:l||qg(r)||o}function ll(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function hs(r,o,l){return ni(r,xo(o,l))}function Qg(r,o,l){var f=hs(r,o,l);return f>l?l:f}function L1(){return{top:0,right:0,bottom:0,left:0}}function B1(r){return Object.assign({},L1(),r)}function P1(r,o){return o.reduce(function(l,f){return l[f]=r,l},{})}var Jg=function(o,l){return o=typeof o=="function"?o(Object.assign({},l.rects,{placement:l.placement})):o,B1(typeof o!="number"?o:P1(o,Vi))};function t2(r){var o,l=r.state,f=r.name,d=r.options,h=l.elements.arrow,E=l.modifiersData.popperOffsets,A=er(l.placement),y=ll(A),m=[sn,An].indexOf(A)>=0,I=m?"height":"width";if(!(!h||!E)){var D=Jg(d.padding,l),$=al(h),z=y==="y"?rn:sn,At=y==="y"?_n:An,J=l.rects.reference[I]+l.rects.reference[y]-E[y]-l.rects.popper[I],dt=E[y]-l.rects.reference[y],bt=Cs(h),ht=bt?y==="y"?bt.clientHeight||0:bt.clientWidth||0:0,at=J/2-dt/2,Q=D[z],Rt=ht-$[I]-D[At],wt=ht/2-$[I]/2+at,q=hs(Q,wt,Rt),Tt=y;l.modifiersData[f]=(o={},o[Tt]=q,o.centerOffset=q-wt,o)}}function e2(r){var o=r.state,l=r.options,f=l.element,d=f===void 0?"[data-popper-arrow]":f;d!=null&&(typeof d=="string"&&(d=o.elements.popper.querySelector(d),!d)||M1(o.elements.popper,d)&&(o.elements.arrow=d))}const F1={name:"arrow",enabled:!0,phase:"main",fn:t2,effect:e2,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Bi(r){return r.split("-")[1]}var n2={top:"auto",right:"auto",bottom:"auto",left:"auto"};function r2(r,o){var l=r.x,f=r.y,d=o.devicePixelRatio||1;return{x:Mi(l*d)/d||0,y:Mi(f*d)/d||0}}function Ec(r){var o,l=r.popper,f=r.popperRect,d=r.placement,h=r.variation,E=r.offsets,A=r.position,y=r.gpuAcceleration,m=r.adaptive,I=r.roundOffsets,D=r.isFixed,$=E.x,z=$===void 0?0:$,At=E.y,J=At===void 0?0:At,dt=typeof I=="function"?I({x:z,y:J}):{x:z,y:J};z=dt.x,J=dt.y;var bt=E.hasOwnProperty("x"),ht=E.hasOwnProperty("y"),at=sn,Q=rn,Rt=window;if(m){var wt=Cs(l),q="clientHeight",Tt="clientWidth";if(wt===Cn(l)&&(wt=Mr(l),Er(wt).position!=="static"&&A==="absolute"&&(q="scrollHeight",Tt="scrollWidth")),wt=wt,d===rn||(d===sn||d===An)&&h===Di){Q=_n;var j=D&&wt===Rt&&Rt.visualViewport?Rt.visualViewport.height:wt[q];J-=j-f.height,J*=y?1:-1}if(d===sn||(d===rn||d===_n)&&h===Di){at=An;var Pt=D&&wt===Rt&&Rt.visualViewport?Rt.visualViewport.width:wt[Tt];z-=Pt-f.width,z*=y?1:-1}}var Dt=Object.assign({position:A},m&&n2),_t=I===!0?r2({x:z,y:J},Cn(l)):{x:z,y:J};if(z=_t.x,J=_t.y,y){var St;return Object.assign({},Dt,(St={},St[Q]=ht?"0":"",St[at]=bt?"0":"",St.transform=(Rt.devicePixelRatio||1)<=1?"translate("+z+"px, "+J+"px)":"translate3d("+z+"px, "+J+"px, 0)",St))}return Object.assign({},Dt,(o={},o[Q]=ht?J+"px":"",o[at]=bt?z+"px":"",o.transform="",o))}function i2(r){var o=r.state,l=r.options,f=l.gpuAcceleration,d=f===void 0?!0:f,h=l.adaptive,E=h===void 0?!0:h,A=l.roundOffsets,y=A===void 0?!0:A,m={placement:er(o.placement),variation:Bi(o.placement),popper:o.elements.popper,popperRect:o.rects.popper,gpuAcceleration:d,isFixed:o.options.strategy==="fixed"};o.modifiersData.popperOffsets!=null&&(o.styles.popper=Object.assign({},o.styles.popper,Ec(Object.assign({},m,{offsets:o.modifiersData.popperOffsets,position:o.options.strategy,adaptive:E,roundOffsets:y})))),o.modifiersData.arrow!=null&&(o.styles.arrow=Object.assign({},o.styles.arrow,Ec(Object.assign({},m,{offsets:o.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:y})))),o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-placement":o.placement})}const cl={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:i2,data:{}};var Zs={passive:!0};function s2(r){var o=r.state,l=r.instance,f=r.options,d=f.scroll,h=d===void 0?!0:d,E=f.resize,A=E===void 0?!0:E,y=Cn(o.elements.popper),m=[].concat(o.scrollParents.reference,o.scrollParents.popper);return h&&m.forEach(function(I){I.addEventListener("scroll",l.update,Zs)}),A&&y.addEventListener("resize",l.update,Zs),function(){h&&m.forEach(function(I){I.removeEventListener("scroll",l.update,Zs)}),A&&y.removeEventListener("resize",l.update,Zs)}}const ul={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:s2,data:{}};var o2={left:"right",right:"left",bottom:"top",top:"bottom"};function no(r){return r.replace(/left|right|bottom|top/g,function(o){return o2[o]})}var a2={start:"end",end:"start"};function wc(r){return r.replace(/start|end/g,function(o){return a2[o]})}function fl(r){var o=Cn(r),l=o.pageXOffset,f=o.pageYOffset;return{scrollLeft:l,scrollTop:f}}function hl(r){return Li(Mr(r)).left+fl(r).scrollLeft}function l2(r,o){var l=Cn(r),f=Mr(r),d=l.visualViewport,h=f.clientWidth,E=f.clientHeight,A=0,y=0;if(d){h=d.width,E=d.height;var m=D1();(m||!m&&o==="fixed")&&(A=d.offsetLeft,y=d.offsetTop)}return{width:h,height:E,x:A+hl(r),y}}function c2(r){var o,l=Mr(r),f=fl(r),d=(o=r.ownerDocument)==null?void 0:o.body,h=ni(l.scrollWidth,l.clientWidth,d?d.scrollWidth:0,d?d.clientWidth:0),E=ni(l.scrollHeight,l.clientHeight,d?d.scrollHeight:0,d?d.clientHeight:0),A=-f.scrollLeft+hl(r),y=-f.scrollTop;return Er(d||l).direction==="rtl"&&(A+=ni(l.clientWidth,d?d.clientWidth:0)-h),{width:h,height:E,x:A,y}}function dl(r){var o=Er(r),l=o.overflow,f=o.overflowX,d=o.overflowY;return/auto|scroll|overlay|hidden/.test(l+d+f)}function k1(r){return["html","body","#document"].indexOf(rr(r))>=0?r.ownerDocument.body:Ln(r)&&dl(r)?r:k1(Ro(r))}function ds(r,o){var l;o===void 0&&(o=[]);var f=k1(r),d=f===((l=r.ownerDocument)==null?void 0:l.body),h=Cn(f),E=d?[h].concat(h.visualViewport||[],dl(f)?f:[]):f,A=o.concat(E);return d?A:A.concat(ds(Ro(E)))}function Ma(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function u2(r,o){var l=Li(r,!1,o==="fixed");return l.top=l.top+r.clientTop,l.left=l.left+r.clientLeft,l.bottom=l.top+r.clientHeight,l.right=l.left+r.clientWidth,l.width=r.clientWidth,l.height=r.clientHeight,l.x=l.left,l.y=l.top,l}function _c(r,o,l){return o===rl?Ma(l2(r,l)):si(o)?u2(o,l):Ma(c2(Mr(r)))}function f2(r){var o=ds(Ro(r)),l=["absolute","fixed"].indexOf(Er(r).position)>=0,f=l&&Ln(r)?Cs(r):r;return si(f)?o.filter(function(d){return si(d)&&M1(d,f)&&rr(d)!=="body"}):[]}function h2(r,o,l,f){var d=o==="clippingParents"?f2(r):[].concat(o),h=[].concat(d,[l]),E=h[0],A=h.reduce(function(y,m){var I=_c(r,m,f);return y.top=ni(I.top,y.top),y.right=xo(I.right,y.right),y.bottom=xo(I.bottom,y.bottom),y.left=ni(I.left,y.left),y},_c(r,E,f));return A.width=A.right-A.left,A.height=A.bottom-A.top,A.x=A.left,A.y=A.top,A}function U1(r){var o=r.reference,l=r.element,f=r.placement,d=f?er(f):null,h=f?Bi(f):null,E=o.x+o.width/2-l.width/2,A=o.y+o.height/2-l.height/2,y;switch(d){case rn:y={x:E,y:o.y-l.height};break;case _n:y={x:E,y:o.y+o.height};break;case An:y={x:o.x+o.width,y:A};break;case sn:y={x:o.x-l.width,y:A};break;default:y={x:o.x,y:o.y}}var m=d?ll(d):null;if(m!=null){var I=m==="y"?"height":"width";switch(h){case ii:y[m]=y[m]-(o[I]/2-l[I]/2);break;case Di:y[m]=y[m]+(o[I]/2-l[I]/2);break}}return y}function Pi(r,o){o===void 0&&(o={});var l=o,f=l.placement,d=f===void 0?r.placement:f,h=l.strategy,E=h===void 0?r.strategy:h,A=l.boundary,y=A===void 0?_1:A,m=l.rootBoundary,I=m===void 0?rl:m,D=l.elementContext,$=D===void 0?Ci:D,z=l.altBoundary,At=z===void 0?!1:z,J=l.padding,dt=J===void 0?0:J,bt=B1(typeof dt!="number"?dt:P1(dt,Vi)),ht=$===Ci?A1:Ci,at=r.rects.popper,Q=r.elements[At?ht:$],Rt=h2(si(Q)?Q:Q.contextElement||Mr(r.elements.popper),y,I,E),wt=Li(r.elements.reference),q=U1({reference:wt,element:at,strategy:"absolute",placement:d}),Tt=Ma(Object.assign({},at,q)),j=$===Ci?Tt:wt,Pt={top:Rt.top-j.top+bt.top,bottom:j.bottom-Rt.bottom+bt.bottom,left:Rt.left-j.left+bt.left,right:j.right-Rt.right+bt.right},Dt=r.modifiersData.offset;if($===Ci&&Dt){var _t=Dt[d];Object.keys(Pt).forEach(function(St){var re=[An,_n].indexOf(St)>=0?1:-1,H=[rn,_n].indexOf(St)>=0?"y":"x";Pt[St]+=_t[H]*re})}return Pt}function d2(r,o){o===void 0&&(o={});var l=o,f=l.placement,d=l.boundary,h=l.rootBoundary,E=l.padding,A=l.flipVariations,y=l.allowedAutoPlacements,m=y===void 0?il:y,I=Bi(f),D=I?A?Ra:Ra.filter(function(At){return Bi(At)===I}):Vi,$=D.filter(function(At){return m.indexOf(At)>=0});$.length===0&&($=D);var z=$.reduce(function(At,J){return At[J]=Pi(r,{placement:J,boundary:d,rootBoundary:h,padding:E})[er(J)],At},{});return Object.keys(z).sort(function(At,J){return z[At]-z[J]})}function g2(r){if(er(r)===vo)return[];var o=no(r);return[wc(r),o,wc(o)]}function p2(r){var o=r.state,l=r.options,f=r.name;if(!o.modifiersData[f]._skip){for(var d=l.mainAxis,h=d===void 0?!0:d,E=l.altAxis,A=E===void 0?!0:E,y=l.fallbackPlacements,m=l.padding,I=l.boundary,D=l.rootBoundary,$=l.altBoundary,z=l.flipVariations,At=z===void 0?!0:z,J=l.allowedAutoPlacements,dt=o.options.placement,bt=er(dt),ht=bt===dt,at=y||(ht||!At?[no(dt)]:g2(dt)),Q=[dt].concat(at).reduce(function(de,We){return de.concat(er(We)===vo?d2(o,{placement:We,boundary:I,rootBoundary:D,padding:m,flipVariations:At,allowedAutoPlacements:J}):We)},[]),Rt=o.rects.reference,wt=o.rects.popper,q=new Map,Tt=!0,j=Q[0],Pt=0;Pt<Q.length;Pt++){var Dt=Q[Pt],_t=er(Dt),St=Bi(Dt)===ii,re=[rn,_n].indexOf(_t)>=0,H=re?"width":"height",Mt=Pi(o,{placement:Dt,boundary:I,rootBoundary:D,altBoundary:$,padding:m}),ft=re?St?An:sn:St?_n:rn;Rt[H]>wt[H]&&(ft=no(ft));var Gt=no(ft),he=[];if(h&&he.push(Mt[_t]<=0),A&&he.push(Mt[ft]<=0,Mt[Gt]<=0),he.every(function(de){return de})){j=Dt,Tt=!1;break}q.set(Dt,he)}if(Tt)for(var Ne=At?3:1,Ve=function(We){var gt=Q.find(function(je){var Jt=q.get(je);if(Jt)return Jt.slice(0,We).every(function(Be){return Be})});if(gt)return j=gt,"break"},Zt=Ne;Zt>0;Zt--){var He=Ve(Zt);if(He==="break")break}o.placement!==j&&(o.modifiersData[f]._skip=!0,o.placement=j,o.reset=!0)}}const V1={name:"flip",enabled:!0,phase:"main",fn:p2,requiresIfExists:["offset"],data:{_skip:!1}};function Ac(r,o,l){return l===void 0&&(l={x:0,y:0}),{top:r.top-o.height-l.y,right:r.right-o.width+l.x,bottom:r.bottom-o.height+l.y,left:r.left-o.width-l.x}}function Cc(r){return[rn,An,_n,sn].some(function(o){return r[o]>=0})}function x2(r){var o=r.state,l=r.name,f=o.rects.reference,d=o.rects.popper,h=o.modifiersData.preventOverflow,E=Pi(o,{elementContext:"reference"}),A=Pi(o,{altBoundary:!0}),y=Ac(E,f),m=Ac(A,d,h),I=Cc(y),D=Cc(m);o.modifiersData[l]={referenceClippingOffsets:y,popperEscapeOffsets:m,isReferenceHidden:I,hasPopperEscaped:D},o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-reference-hidden":I,"data-popper-escaped":D})}const H1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:x2};function m2(r,o,l){var f=er(r),d=[sn,rn].indexOf(f)>=0?-1:1,h=typeof l=="function"?l(Object.assign({},o,{placement:r})):l,E=h[0],A=h[1];return E=E||0,A=(A||0)*d,[sn,An].indexOf(f)>=0?{x:A,y:E}:{x:E,y:A}}function E2(r){var o=r.state,l=r.options,f=r.name,d=l.offset,h=d===void 0?[0,0]:d,E=il.reduce(function(I,D){return I[D]=m2(D,o.rects,h),I},{}),A=E[o.placement],y=A.x,m=A.y;o.modifiersData.popperOffsets!=null&&(o.modifiersData.popperOffsets.x+=y,o.modifiersData.popperOffsets.y+=m),o.modifiersData[f]=E}const W1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:E2};function w2(r){var o=r.state,l=r.name;o.modifiersData[l]=U1({reference:o.rects.reference,element:o.rects.popper,strategy:"absolute",placement:o.placement})}const gl={name:"popperOffsets",enabled:!0,phase:"read",fn:w2,data:{}};function _2(r){return r==="x"?"y":"x"}function A2(r){var o=r.state,l=r.options,f=r.name,d=l.mainAxis,h=d===void 0?!0:d,E=l.altAxis,A=E===void 0?!1:E,y=l.boundary,m=l.rootBoundary,I=l.altBoundary,D=l.padding,$=l.tether,z=$===void 0?!0:$,At=l.tetherOffset,J=At===void 0?0:At,dt=Pi(o,{boundary:y,rootBoundary:m,padding:D,altBoundary:I}),bt=er(o.placement),ht=Bi(o.placement),at=!ht,Q=ll(bt),Rt=_2(Q),wt=o.modifiersData.popperOffsets,q=o.rects.reference,Tt=o.rects.popper,j=typeof J=="function"?J(Object.assign({},o.rects,{placement:o.placement})):J,Pt=typeof j=="number"?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),Dt=o.modifiersData.offset?o.modifiersData.offset[o.placement]:null,_t={x:0,y:0};if(wt){if(h){var St,re=Q==="y"?rn:sn,H=Q==="y"?_n:An,Mt=Q==="y"?"height":"width",ft=wt[Q],Gt=ft+dt[re],he=ft-dt[H],Ne=z?-Tt[Mt]/2:0,Ve=ht===ii?q[Mt]:Tt[Mt],Zt=ht===ii?-Tt[Mt]:-q[Mt],He=o.elements.arrow,de=z&&He?al(He):{width:0,height:0},We=o.modifiersData["arrow#persistent"]?o.modifiersData["arrow#persistent"].padding:L1(),gt=We[re],je=We[H],Jt=hs(0,q[Mt],de[Mt]),Be=at?q[Mt]/2-Ne-Jt-gt-Pt.mainAxis:Ve-Jt-gt-Pt.mainAxis,on=at?-q[Mt]/2+Ne+Jt+je+Pt.mainAxis:Zt+Jt+je+Pt.mainAxis,X=o.elements.arrow&&Cs(o.elements.arrow),v=X?Q==="y"?X.clientTop||0:X.clientLeft||0:0,M=(St=Dt==null?void 0:Dt[Q])!=null?St:0,W=ft+Be-M-v,Y=ft+on-M,Z=hs(z?xo(Gt,W):Gt,ft,z?ni(he,Y):he);wt[Q]=Z,_t[Q]=Z-ft}if(A){var nt,tt=Q==="x"?rn:sn,G=Q==="x"?_n:An,U=wt[Rt],B=Rt==="y"?"height":"width",Ct=U+dt[tt],mt=U-dt[G],pt=[rn,sn].indexOf(bt)!==-1,Nt=(nt=Dt==null?void 0:Dt[Rt])!=null?nt:0,Ot=pt?Ct:U-q[B]-Tt[B]-Nt+Pt.altAxis,qt=pt?U+q[B]+Tt[B]-Nt-Pt.altAxis:mt,Ut=z&&pt?Qg(Ot,U,qt):hs(z?Ot:Ct,U,z?qt:mt);wt[Rt]=Ut,_t[Rt]=Ut-U}o.modifiersData[f]=_t}}const G1={name:"preventOverflow",enabled:!0,phase:"main",fn:A2,requiresIfExists:["offset"]};function C2(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function b2(r){return r===Cn(r)||!Ln(r)?fl(r):C2(r)}function y2(r){var o=r.getBoundingClientRect(),l=Mi(o.width)/r.offsetWidth||1,f=Mi(o.height)/r.offsetHeight||1;return l!==1||f!==1}function T2(r,o,l){l===void 0&&(l=!1);var f=Ln(o),d=Ln(o)&&y2(o),h=Mr(o),E=Li(r,d,l),A={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(f||!f&&!l)&&((rr(o)!=="body"||dl(h))&&(A=b2(o)),Ln(o)?(y=Li(o,!0),y.x+=o.clientLeft,y.y+=o.clientTop):h&&(y.x=hl(h))),{x:E.left+A.scrollLeft-y.x,y:E.top+A.scrollTop-y.y,width:E.width,height:E.height}}function I2(r){var o=new Map,l=new Set,f=[];r.forEach(function(h){o.set(h.name,h)});function d(h){l.add(h.name);var E=[].concat(h.requires||[],h.requiresIfExists||[]);E.forEach(function(A){if(!l.has(A)){var y=o.get(A);y&&d(y)}}),f.push(h)}return r.forEach(function(h){l.has(h.name)||d(h)}),f}function S2(r){var o=I2(r);return R1.reduce(function(l,f){return l.concat(o.filter(function(d){return d.phase===f}))},[])}function N2(r){var o;return function(){return o||(o=new Promise(function(l){Promise.resolve().then(function(){o=void 0,l(r())})})),o}}function O2(r){var o=r.reduce(function(l,f){var d=l[f.name];return l[f.name]=d?Object.assign({},d,f,{options:Object.assign({},d.options,f.options),data:Object.assign({},d.data,f.data)}):f,l},{});return Object.keys(o).map(function(l){return o[l]})}var bc={placement:"bottom",modifiers:[],strategy:"absolute"};function yc(){for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return!o.some(function(f){return!(f&&typeof f.getBoundingClientRect=="function")})}function Do(r){r===void 0&&(r={});var o=r,l=o.defaultModifiers,f=l===void 0?[]:l,d=o.defaultOptions,h=d===void 0?bc:d;return function(A,y,m){m===void 0&&(m=h);var I={placement:"bottom",orderedModifiers:[],options:Object.assign({},bc,h),modifiersData:{},elements:{reference:A,popper:y},attributes:{},styles:{}},D=[],$=!1,z={state:I,setOptions:function(bt){var ht=typeof bt=="function"?bt(I.options):bt;J(),I.options=Object.assign({},h,I.options,ht),I.scrollParents={reference:si(A)?ds(A):A.contextElement?ds(A.contextElement):[],popper:ds(y)};var at=S2(O2([].concat(f,I.options.modifiers)));return I.orderedModifiers=at.filter(function(Q){return Q.enabled}),At(),z.update()},forceUpdate:function(){if(!$){var bt=I.elements,ht=bt.reference,at=bt.popper;if(yc(ht,at)){I.rects={reference:T2(ht,Cs(at),I.options.strategy==="fixed"),popper:al(at)},I.reset=!1,I.placement=I.options.placement,I.orderedModifiers.forEach(function(Pt){return I.modifiersData[Pt.name]=Object.assign({},Pt.data)});for(var Q=0;Q<I.orderedModifiers.length;Q++){if(I.reset===!0){I.reset=!1,Q=-1;continue}var Rt=I.orderedModifiers[Q],wt=Rt.fn,q=Rt.options,Tt=q===void 0?{}:q,j=Rt.name;typeof wt=="function"&&(I=wt({state:I,options:Tt,name:j,instance:z})||I)}}}},update:N2(function(){return new Promise(function(dt){z.forceUpdate(),dt(I)})}),destroy:function(){J(),$=!0}};if(!yc(A,y))return z;z.setOptions(m).then(function(dt){!$&&m.onFirstUpdate&&m.onFirstUpdate(dt)});function At(){I.orderedModifiers.forEach(function(dt){var bt=dt.name,ht=dt.options,at=ht===void 0?{}:ht,Q=dt.effect;if(typeof Q=="function"){var Rt=Q({state:I,name:bt,instance:z,options:at}),wt=function(){};D.push(Rt||wt)}})}function J(){D.forEach(function(dt){return dt()}),D=[]}return z}}var v2=Do(),R2=[ul,gl,cl,ol],D2=Do({defaultModifiers:R2}),M2=[ul,gl,cl,ol,W1,V1,G1,F1,H1],L2=Do({defaultModifiers:M2});const B2=Object.freeze(Object.defineProperty({__proto__:null,afterMain:S1,afterRead:y1,afterWrite:v1,applyStyles:ol,arrow:F1,auto:vo,basePlacements:Vi,beforeMain:T1,beforeRead:C1,beforeWrite:N1,bottom:_n,clippingParents:_1,computeStyles:cl,createPopper:L2,createPopperBase:v2,createPopperLite:D2,detectOverflow:Pi,end:Di,eventListeners:ul,flip:V1,hide:H1,left:sn,main:I1,modifierPhases:R1,offset:W1,placements:il,popper:Ci,popperGenerator:Do,popperOffsets:gl,preventOverflow:G1,read:b1,reference:A1,right:An,start:ii,top:rn,variationPlacements:Ra,viewport:rl,write:O1},Symbol.toStringTag,{value:"Module"})),P2=md(B2);/*!
  * Bootstrap v5.3.1 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(r,o){(function(l,f){r.exports=f(P2)})(Ai,function(l){function f(N){const p=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(N){for(const C in N)if(C!=="default"){const O=Object.getOwnPropertyDescriptor(N,C);Object.defineProperty(p,C,O.get?O:{enumerable:!0,get:()=>N[C]})}}return p.default=N,Object.freeze(p)}const d=f(l),h=new Map,E={set(N,p,C){h.has(N)||h.set(N,new Map);const O=h.get(N);if(!O.has(p)&&O.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(O.keys())[0]}.`);return}O.set(p,C)},get(N,p){return h.has(N)&&h.get(N).get(p)||null},remove(N,p){if(!h.has(N))return;const C=h.get(N);C.delete(p),C.size===0&&h.delete(N)}},A=1e6,y=1e3,m="transitionend",I=N=>(N&&window.CSS&&window.CSS.escape&&(N=N.replace(/#([^\s"#']+)/g,(p,C)=>`#${CSS.escape(C)}`)),N),D=N=>N==null?`${N}`:Object.prototype.toString.call(N).match(/\s([a-z]+)/i)[1].toLowerCase(),$=N=>{do N+=Math.floor(Math.random()*A);while(document.getElementById(N));return N},z=N=>{if(!N)return 0;let{transitionDuration:p,transitionDelay:C}=window.getComputedStyle(N);const O=Number.parseFloat(p),K=Number.parseFloat(C);return!O&&!K?0:(p=p.split(",")[0],C=C.split(",")[0],(Number.parseFloat(p)+Number.parseFloat(C))*y)},At=N=>{N.dispatchEvent(new Event(m))},J=N=>!N||typeof N!="object"?!1:(typeof N.jquery<"u"&&(N=N[0]),typeof N.nodeType<"u"),dt=N=>J(N)?N.jquery?N[0]:N:typeof N=="string"&&N.length>0?document.querySelector(I(N)):null,bt=N=>{if(!J(N)||N.getClientRects().length===0)return!1;const p=getComputedStyle(N).getPropertyValue("visibility")==="visible",C=N.closest("details:not([open])");if(!C)return p;if(C!==N){const O=N.closest("summary");if(O&&O.parentNode!==C||O===null)return!1}return p},ht=N=>!N||N.nodeType!==Node.ELEMENT_NODE||N.classList.contains("disabled")?!0:typeof N.disabled<"u"?N.disabled:N.hasAttribute("disabled")&&N.getAttribute("disabled")!=="false",at=N=>{if(!document.documentElement.attachShadow)return null;if(typeof N.getRootNode=="function"){const p=N.getRootNode();return p instanceof ShadowRoot?p:null}return N instanceof ShadowRoot?N:N.parentNode?at(N.parentNode):null},Q=()=>{},Rt=N=>{N.offsetHeight},wt=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,q=[],Tt=N=>{document.readyState==="loading"?(q.length||document.addEventListener("DOMContentLoaded",()=>{for(const p of q)p()}),q.push(N)):N()},j=()=>document.documentElement.dir==="rtl",Pt=N=>{Tt(()=>{const p=wt();if(p){const C=N.NAME,O=p.fn[C];p.fn[C]=N.jQueryInterface,p.fn[C].Constructor=N,p.fn[C].noConflict=()=>(p.fn[C]=O,N.jQueryInterface)}})},Dt=(N,p=[],C=N)=>typeof N=="function"?N(...p):C,_t=(N,p,C=!0)=>{if(!C){Dt(N);return}const O=5,K=z(p)+O;let ut=!1;const lt=({target:Yt})=>{Yt===p&&(ut=!0,p.removeEventListener(m,lt),Dt(N))};p.addEventListener(m,lt),setTimeout(()=>{ut||At(p)},K)},St=(N,p,C,O)=>{const K=N.length;let ut=N.indexOf(p);return ut===-1?!C&&O?N[K-1]:N[0]:(ut+=C?1:-1,O&&(ut=(ut+K)%K),N[Math.max(0,Math.min(ut,K-1))])},re=/[^.]*(?=\..*)\.|.*/,H=/\..*/,Mt=/::\d+$/,ft={};let Gt=1;const he={mouseenter:"mouseover",mouseleave:"mouseout"},Ne=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ve(N,p){return p&&`${p}::${Gt++}`||N.uidEvent||Gt++}function Zt(N){const p=Ve(N);return N.uidEvent=p,ft[p]=ft[p]||{},ft[p]}function He(N,p){return function C(O){return v(O,{delegateTarget:N}),C.oneOff&&X.off(N,O.type,p),p.apply(N,[O])}}function de(N,p,C){return function O(K){const ut=N.querySelectorAll(p);for(let{target:lt}=K;lt&&lt!==this;lt=lt.parentNode)for(const Yt of ut)if(Yt===lt)return v(K,{delegateTarget:lt}),O.oneOff&&X.off(N,K.type,p,C),C.apply(lt,[K])}}function We(N,p,C=null){return Object.values(N).find(O=>O.callable===p&&O.delegationSelector===C)}function gt(N,p,C){const O=typeof p=="string",K=O?C:p||C;let ut=on(N);return Ne.has(ut)||(ut=N),[O,K,ut]}function je(N,p,C,O,K){if(typeof p!="string"||!N)return;let[ut,lt,Yt]=gt(p,C,O);p in he&&(lt=(hf=>function(wi){if(!wi.relatedTarget||wi.relatedTarget!==wi.delegateTarget&&!wi.delegateTarget.contains(wi.relatedTarget))return hf.call(this,wi)})(lt));const un=Zt(N),vn=un[Yt]||(un[Yt]={}),ke=We(vn,lt,ut?C:null);if(ke){ke.oneOff=ke.oneOff&&K;return}const qn=Ve(lt,p.replace(re,"")),Fn=ut?de(N,C,lt):He(N,lt);Fn.delegationSelector=ut?C:null,Fn.callable=lt,Fn.oneOff=K,Fn.uidEvent=qn,vn[qn]=Fn,N.addEventListener(Yt,Fn,ut)}function Jt(N,p,C,O,K){const ut=We(p[C],O,K);ut&&(N.removeEventListener(C,ut,!!K),delete p[C][ut.uidEvent])}function Be(N,p,C,O){const K=p[C]||{};for(const[ut,lt]of Object.entries(K))ut.includes(O)&&Jt(N,p,C,lt.callable,lt.delegationSelector)}function on(N){return N=N.replace(H,""),he[N]||N}const X={on(N,p,C,O){je(N,p,C,O,!1)},one(N,p,C,O){je(N,p,C,O,!0)},off(N,p,C,O){if(typeof p!="string"||!N)return;const[K,ut,lt]=gt(p,C,O),Yt=lt!==p,un=Zt(N),vn=un[lt]||{},ke=p.startsWith(".");if(typeof ut<"u"){if(!Object.keys(vn).length)return;Jt(N,un,lt,ut,K?C:null);return}if(ke)for(const qn of Object.keys(un))Be(N,un,qn,p.slice(1));for(const[qn,Fn]of Object.entries(vn)){const Ws=qn.replace(Mt,"");(!Yt||p.includes(Ws))&&Jt(N,un,lt,Fn.callable,Fn.delegationSelector)}},trigger(N,p,C){if(typeof p!="string"||!N)return null;const O=wt(),K=on(p),ut=p!==K;let lt=null,Yt=!0,un=!0,vn=!1;ut&&O&&(lt=O.Event(p,C),O(N).trigger(lt),Yt=!lt.isPropagationStopped(),un=!lt.isImmediatePropagationStopped(),vn=lt.isDefaultPrevented());const ke=v(new Event(p,{bubbles:Yt,cancelable:!0}),C);return vn&&ke.preventDefault(),un&&N.dispatchEvent(ke),ke.defaultPrevented&&lt&&lt.preventDefault(),ke}};function v(N,p={}){for(const[C,O]of Object.entries(p))try{N[C]=O}catch{Object.defineProperty(N,C,{configurable:!0,get(){return O}})}return N}function M(N){if(N==="true")return!0;if(N==="false")return!1;if(N===Number(N).toString())return Number(N);if(N===""||N==="null")return null;if(typeof N!="string")return N;try{return JSON.parse(decodeURIComponent(N))}catch{return N}}function W(N){return N.replace(/[A-Z]/g,p=>`-${p.toLowerCase()}`)}const Y={setDataAttribute(N,p,C){N.setAttribute(`data-bs-${W(p)}`,C)},removeDataAttribute(N,p){N.removeAttribute(`data-bs-${W(p)}`)},getDataAttributes(N){if(!N)return{};const p={},C=Object.keys(N.dataset).filter(O=>O.startsWith("bs")&&!O.startsWith("bsConfig"));for(const O of C){let K=O.replace(/^bs/,"");K=K.charAt(0).toLowerCase()+K.slice(1,K.length),p[K]=M(N.dataset[O])}return p},getDataAttribute(N,p){return M(N.getAttribute(`data-bs-${W(p)}`))}};class Z{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(p){return p=this._mergeConfigObj(p),p=this._configAfterMerge(p),this._typeCheckConfig(p),p}_configAfterMerge(p){return p}_mergeConfigObj(p,C){const O=J(C)?Y.getDataAttribute(C,"config"):{};return{...this.constructor.Default,...typeof O=="object"?O:{},...J(C)?Y.getDataAttributes(C):{},...typeof p=="object"?p:{}}}_typeCheckConfig(p,C=this.constructor.DefaultType){for(const[O,K]of Object.entries(C)){const ut=p[O],lt=J(ut)?"element":D(ut);if(!new RegExp(K).test(lt))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${O}" provided type "${lt}" but expected type "${K}".`)}}}const nt="5.3.1";class tt extends Z{constructor(p,C){super(),p=dt(p),p&&(this._element=p,this._config=this._getConfig(C),E.set(this._element,this.constructor.DATA_KEY,this))}dispose(){E.remove(this._element,this.constructor.DATA_KEY),X.off(this._element,this.constructor.EVENT_KEY);for(const p of Object.getOwnPropertyNames(this))this[p]=null}_queueCallback(p,C,O=!0){_t(p,C,O)}_getConfig(p){return p=this._mergeConfigObj(p,this._element),p=this._configAfterMerge(p),this._typeCheckConfig(p),p}static getInstance(p){return E.get(dt(p),this.DATA_KEY)}static getOrCreateInstance(p,C={}){return this.getInstance(p)||new this(p,typeof C=="object"?C:null)}static get VERSION(){return nt}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(p){return`${p}${this.EVENT_KEY}`}}const G=N=>{let p=N.getAttribute("data-bs-target");if(!p||p==="#"){let C=N.getAttribute("href");if(!C||!C.includes("#")&&!C.startsWith("."))return null;C.includes("#")&&!C.startsWith("#")&&(C=`#${C.split("#")[1]}`),p=C&&C!=="#"?C.trim():null}return I(p)},U={find(N,p=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(p,N))},findOne(N,p=document.documentElement){return Element.prototype.querySelector.call(p,N)},children(N,p){return[].concat(...N.children).filter(C=>C.matches(p))},parents(N,p){const C=[];let O=N.parentNode.closest(p);for(;O;)C.push(O),O=O.parentNode.closest(p);return C},prev(N,p){let C=N.previousElementSibling;for(;C;){if(C.matches(p))return[C];C=C.previousElementSibling}return[]},next(N,p){let C=N.nextElementSibling;for(;C;){if(C.matches(p))return[C];C=C.nextElementSibling}return[]},focusableChildren(N){const p=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(C=>`${C}:not([tabindex^="-"])`).join(",");return this.find(p,N).filter(C=>!ht(C)&&bt(C))},getSelectorFromElement(N){const p=G(N);return p&&U.findOne(p)?p:null},getElementFromSelector(N){const p=G(N);return p?U.findOne(p):null},getMultipleElementsFromSelector(N){const p=G(N);return p?U.find(p):[]}},B=(N,p="hide")=>{const C=`click.dismiss${N.EVENT_KEY}`,O=N.NAME;X.on(document,C,`[data-bs-dismiss="${O}"]`,function(K){if(["A","AREA"].includes(this.tagName)&&K.preventDefault(),ht(this))return;const ut=U.getElementFromSelector(this)||this.closest(`.${O}`);N.getOrCreateInstance(ut)[p]()})},Ct="alert",pt=".bs.alert",Nt=`close${pt}`,Ot=`closed${pt}`,qt="fade",Ut="show";class Vt extends tt{static get NAME(){return Ct}close(){if(X.trigger(this._element,Nt).defaultPrevented)return;this._element.classList.remove(Ut);const C=this._element.classList.contains(qt);this._queueCallback(()=>this._destroyElement(),this._element,C)}_destroyElement(){this._element.remove(),X.trigger(this._element,Ot),this.dispose()}static jQueryInterface(p){return this.each(function(){const C=Vt.getOrCreateInstance(this);if(typeof p=="string"){if(C[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);C[p](this)}})}}B(Vt,"close"),Pt(Vt);const ze="button",oi=".bs.button",ue=".data-api",ct="active",Kt='[data-bs-toggle="button"]',Xt=`click${oi}${ue}`;class se extends tt{static get NAME(){return ze}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(ct))}static jQueryInterface(p){return this.each(function(){const C=se.getOrCreateInstance(this);p==="toggle"&&C[p]()})}}X.on(document,Xt,Kt,N=>{N.preventDefault();const p=N.target.closest(Kt);se.getOrCreateInstance(p).toggle()}),Pt(se);const Lr="swipe",Xn=".bs.swipe",bs=`touchstart${Xn}`,te=`touchmove${Xn}`,ir=`touchend${Xn}`,ys=`pointerdown${Xn}`,Ts=`pointerup${Xn}`,dn="touch",Hi="pen",Pe="pointer-event",_r=40,ai={endCallback:null,leftCallback:null,rightCallback:null},yn={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class li extends Z{constructor(p,C){super(),this._element=p,!(!p||!li.isSupported())&&(this._config=this._getConfig(C),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ai}static get DefaultType(){return yn}static get NAME(){return Lr}dispose(){X.off(this._element,Xn)}_start(p){if(!this._supportPointerEvents){this._deltaX=p.touches[0].clientX;return}this._eventIsPointerPenTouch(p)&&(this._deltaX=p.clientX)}_end(p){this._eventIsPointerPenTouch(p)&&(this._deltaX=p.clientX-this._deltaX),this._handleSwipe(),Dt(this._config.endCallback)}_move(p){this._deltaX=p.touches&&p.touches.length>1?0:p.touches[0].clientX-this._deltaX}_handleSwipe(){const p=Math.abs(this._deltaX);if(p<=_r)return;const C=p/this._deltaX;this._deltaX=0,C&&Dt(C>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(X.on(this._element,ys,p=>this._start(p)),X.on(this._element,Ts,p=>this._end(p)),this._element.classList.add(Pe)):(X.on(this._element,bs,p=>this._start(p)),X.on(this._element,te,p=>this._move(p)),X.on(this._element,ir,p=>this._end(p)))}_eventIsPointerPenTouch(p){return this._supportPointerEvents&&(p.pointerType===Hi||p.pointerType===dn)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const sr="carousel",Ae=".bs.carousel",Yn=".data-api",an="ArrowLeft",xt="ArrowRight",Ar=500,or="next",ye="prev",gn="left",ar="right",ci=`slide${Ae}`,ln=`slid${Ae}`,Mo=`keydown${Ae}`,Lo=`mouseenter${Ae}`,Tn=`mouseleave${Ae}`,Ge=`dragstart${Ae}`,ge=`load${Ae}${Yn}`,Ss=`click${Ae}${Yn}`,Bn="carousel",Cr="active",et="slide",Bo="carousel-item-end",_e="carousel-item-start",br="carousel-item-next",Po="carousel-item-prev",ee=".active",Qt=".carousel-item",zt=ee+Qt,Wi=".carousel-item img",Gi=".carousel-indicators",Xi="[data-bs-slide], [data-bs-slide-to]",Te='[data-bs-ride="carousel"]',jn={[an]:ar,[xt]:gn},Fo={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ce={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Qe extends tt{constructor(p,C){super(p,C),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=U.findOne(Gi,this._element),this._addEventListeners(),this._config.ride===Bn&&this.cycle()}static get Default(){return Fo}static get DefaultType(){return Ce}static get NAME(){return sr}next(){this._slide(or)}nextWhenVisible(){!document.hidden&&bt(this._element)&&this.next()}prev(){this._slide(ye)}pause(){this._isSliding&&At(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){X.one(this._element,ln,()=>this.cycle());return}this.cycle()}}to(p){const C=this._getItems();if(p>C.length-1||p<0)return;if(this._isSliding){X.one(this._element,ln,()=>this.to(p));return}const O=this._getItemIndex(this._getActive());if(O===p)return;const K=p>O?or:ye;this._slide(K,C[p])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(p){return p.defaultInterval=p.interval,p}_addEventListeners(){this._config.keyboard&&X.on(this._element,Mo,p=>this._keydown(p)),this._config.pause==="hover"&&(X.on(this._element,Lo,()=>this.pause()),X.on(this._element,Tn,()=>this._maybeEnableCycle())),this._config.touch&&li.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const O of U.find(Wi,this._element))X.on(O,Ge,K=>K.preventDefault());const C={leftCallback:()=>this._slide(this._directionToOrder(gn)),rightCallback:()=>this._slide(this._directionToOrder(ar)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Ar+this._config.interval))}};this._swipeHelper=new li(this._element,C)}_keydown(p){if(/input|textarea/i.test(p.target.tagName))return;const C=jn[p.key];C&&(p.preventDefault(),this._slide(this._directionToOrder(C)))}_getItemIndex(p){return this._getItems().indexOf(p)}_setActiveIndicatorElement(p){if(!this._indicatorsElement)return;const C=U.findOne(ee,this._indicatorsElement);C.classList.remove(Cr),C.removeAttribute("aria-current");const O=U.findOne(`[data-bs-slide-to="${p}"]`,this._indicatorsElement);O&&(O.classList.add(Cr),O.setAttribute("aria-current","true"))}_updateInterval(){const p=this._activeElement||this._getActive();if(!p)return;const C=Number.parseInt(p.getAttribute("data-bs-interval"),10);this._config.interval=C||this._config.defaultInterval}_slide(p,C=null){if(this._isSliding)return;const O=this._getActive(),K=p===or,ut=C||St(this._getItems(),O,K,this._config.wrap);if(ut===O)return;const lt=this._getItemIndex(ut),Yt=Ws=>X.trigger(this._element,Ws,{relatedTarget:ut,direction:this._orderToDirection(p),from:this._getItemIndex(O),to:lt});if(Yt(ci).defaultPrevented||!O||!ut)return;const vn=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(lt),this._activeElement=ut;const ke=K?_e:Bo,qn=K?br:Po;ut.classList.add(qn),Rt(ut),O.classList.add(ke),ut.classList.add(ke);const Fn=()=>{ut.classList.remove(ke,qn),ut.classList.add(Cr),O.classList.remove(Cr,qn,ke),this._isSliding=!1,Yt(ln)};this._queueCallback(Fn,O,this._isAnimated()),vn&&this.cycle()}_isAnimated(){return this._element.classList.contains(et)}_getActive(){return U.findOne(zt,this._element)}_getItems(){return U.find(Qt,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(p){return j()?p===gn?ye:or:p===gn?or:ye}_orderToDirection(p){return j()?p===ye?gn:ar:p===ye?ar:gn}static jQueryInterface(p){return this.each(function(){const C=Qe.getOrCreateInstance(this,p);if(typeof p=="number"){C.to(p);return}if(typeof p=="string"){if(C[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);C[p]()}})}}X.on(document,Ss,Xi,function(N){const p=U.getElementFromSelector(this);if(!p||!p.classList.contains(Bn))return;N.preventDefault();const C=Qe.getOrCreateInstance(p),O=this.getAttribute("data-bs-slide-to");if(O){C.to(O),C._maybeEnableCycle();return}if(Y.getDataAttribute(this,"slide")==="next"){C.next(),C._maybeEnableCycle();return}C.prev(),C._maybeEnableCycle()}),X.on(window,ge,()=>{const N=U.find(Te);for(const p of N)Qe.getOrCreateInstance(p)}),Pt(Qe);const ko="collapse",ie=".bs.collapse",Fe=".data-api",F=`show${ie}`,T=`shown${ie}`,yt=`hide${ie}`,Oe=`hidden${ie}`,cn=`click${ie}${Fe}`,Yi="show",zn="collapse",Xe="collapsing",It="collapsed",pe=`:scope .${zn} .${zn}`,Ns="collapse-horizontal",Uo="width",ji="height",ui=".collapse.show, .collapse.collapsing",Pr='[data-bs-toggle="collapse"]',Vo={parent:null,toggle:!0},ve={parent:"(null|element)",toggle:"boolean"};class In extends tt{constructor(p,C){super(p,C),this._isTransitioning=!1,this._triggerArray=[];const O=U.find(Pr);for(const K of O){const ut=U.getSelectorFromElement(K),lt=U.find(ut).filter(Yt=>Yt===this._element);ut!==null&&lt.length&&this._triggerArray.push(K)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Vo}static get DefaultType(){return ve}static get NAME(){return ko}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let p=[];if(this._config.parent&&(p=this._getFirstLevelChildren(ui).filter(Yt=>Yt!==this._element).map(Yt=>In.getOrCreateInstance(Yt,{toggle:!1}))),p.length&&p[0]._isTransitioning||X.trigger(this._element,F).defaultPrevented)return;for(const Yt of p)Yt.hide();const O=this._getDimension();this._element.classList.remove(zn),this._element.classList.add(Xe),this._element.style[O]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const K=()=>{this._isTransitioning=!1,this._element.classList.remove(Xe),this._element.classList.add(zn,Yi),this._element.style[O]="",X.trigger(this._element,T)},lt=`scroll${O[0].toUpperCase()+O.slice(1)}`;this._queueCallback(K,this._element,!0),this._element.style[O]=`${this._element[lt]}px`}hide(){if(this._isTransitioning||!this._isShown()||X.trigger(this._element,yt).defaultPrevented)return;const C=this._getDimension();this._element.style[C]=`${this._element.getBoundingClientRect()[C]}px`,Rt(this._element),this._element.classList.add(Xe),this._element.classList.remove(zn,Yi);for(const K of this._triggerArray){const ut=U.getElementFromSelector(K);ut&&!this._isShown(ut)&&this._addAriaAndCollapsedClass([K],!1)}this._isTransitioning=!0;const O=()=>{this._isTransitioning=!1,this._element.classList.remove(Xe),this._element.classList.add(zn),X.trigger(this._element,Oe)};this._element.style[C]="",this._queueCallback(O,this._element,!0)}_isShown(p=this._element){return p.classList.contains(Yi)}_configAfterMerge(p){return p.toggle=!!p.toggle,p.parent=dt(p.parent),p}_getDimension(){return this._element.classList.contains(Ns)?Uo:ji}_initializeChildren(){if(!this._config.parent)return;const p=this._getFirstLevelChildren(Pr);for(const C of p){const O=U.getElementFromSelector(C);O&&this._addAriaAndCollapsedClass([C],this._isShown(O))}}_getFirstLevelChildren(p){const C=U.find(pe,this._config.parent);return U.find(p,this._config.parent).filter(O=>!C.includes(O))}_addAriaAndCollapsedClass(p,C){if(p.length)for(const O of p)O.classList.toggle(It,!C),O.setAttribute("aria-expanded",C)}static jQueryInterface(p){const C={};return typeof p=="string"&&/show|hide/.test(p)&&(C.toggle=!1),this.each(function(){const O=In.getOrCreateInstance(this,C);if(typeof p=="string"){if(typeof O[p]>"u")throw new TypeError(`No method named "${p}"`);O[p]()}})}}X.on(document,cn,Pr,function(N){(N.target.tagName==="A"||N.delegateTarget&&N.delegateTarget.tagName==="A")&&N.preventDefault();for(const p of U.getMultipleElementsFromSelector(this))In.getOrCreateInstance(p,{toggle:!1}).toggle()}),Pt(In);const Pn="dropdown",lr=".bs.dropdown",kt=".data-api",De="Escape",Os="Tab",zi="ArrowUp",Ki="ArrowDown",cr=2,Ho=`hide${lr}`,Fr=`hidden${lr}`,kr=`show${lr}`,Ur=`shown${lr}`,Zi=`click${lr}${kt}`,yr=`keydown${lr}${kt}`,Vr=`keyup${lr}${kt}`,Ie="show",vs="dropup",Rs="dropend",Ds="dropstart",Wo="dropup-center",Go="dropdown-center",ur='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ae=`${ur}.${Ie}`,Hr=".dropdown-menu",fi=".navbar",Kn=".navbar-nav",Xo=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",k=j()?"top-end":"top-start",Ht=j()?"top-start":"top-end",Me=j()?"bottom-end":"bottom-start",hi=j()?"bottom-start":"bottom-end",Ms=j()?"left-start":"right-start",Yo=j()?"right-start":"left-start",jo="top",zo="bottom",$i={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Se={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Je extends tt{constructor(p,C){super(p,C),this._popper=null,this._parent=this._element.parentNode,this._menu=U.next(this._element,Hr)[0]||U.prev(this._element,Hr)[0]||U.findOne(Hr,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return $i}static get DefaultType(){return Se}static get NAME(){return Pn}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ht(this._element)||this._isShown())return;const p={relatedTarget:this._element};if(!X.trigger(this._element,kr,p).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Kn))for(const O of[].concat(...document.body.children))X.on(O,"mouseover",Q);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ie),this._element.classList.add(Ie),X.trigger(this._element,Ur,p)}}hide(){if(ht(this._element)||!this._isShown())return;const p={relatedTarget:this._element};this._completeHide(p)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(p){if(!X.trigger(this._element,Ho,p).defaultPrevented){if("ontouchstart"in document.documentElement)for(const O of[].concat(...document.body.children))X.off(O,"mouseover",Q);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ie),this._element.classList.remove(Ie),this._element.setAttribute("aria-expanded","false"),Y.removeDataAttribute(this._menu,"popper"),X.trigger(this._element,Fr,p)}}_getConfig(p){if(p=super._getConfig(p),typeof p.reference=="object"&&!J(p.reference)&&typeof p.reference.getBoundingClientRect!="function")throw new TypeError(`${Pn.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return p}_createPopper(){if(typeof d>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let p=this._element;this._config.reference==="parent"?p=this._parent:J(this._config.reference)?p=dt(this._config.reference):typeof this._config.reference=="object"&&(p=this._config.reference);const C=this._getPopperConfig();this._popper=d.createPopper(p,this._menu,C)}_isShown(){return this._menu.classList.contains(Ie)}_getPlacement(){const p=this._parent;if(p.classList.contains(Rs))return Ms;if(p.classList.contains(Ds))return Yo;if(p.classList.contains(Wo))return jo;if(p.classList.contains(Go))return zo;const C=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return p.classList.contains(vs)?C?Ht:k:C?hi:Me}_detectNavbar(){return this._element.closest(fi)!==null}_getOffset(){const{offset:p}=this._config;return typeof p=="string"?p.split(",").map(C=>Number.parseInt(C,10)):typeof p=="function"?C=>p(C,this._element):p}_getPopperConfig(){const p={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Y.setDataAttribute(this._menu,"popper","static"),p.modifiers=[{name:"applyStyles",enabled:!1}]),{...p,...Dt(this._config.popperConfig,[p])}}_selectMenuItem({key:p,target:C}){const O=U.find(Xo,this._menu).filter(K=>bt(K));O.length&&St(O,C,p===Ki,!O.includes(C)).focus()}static jQueryInterface(p){return this.each(function(){const C=Je.getOrCreateInstance(this,p);if(typeof p=="string"){if(typeof C[p]>"u")throw new TypeError(`No method named "${p}"`);C[p]()}})}static clearMenus(p){if(p.button===cr||p.type==="keyup"&&p.key!==Os)return;const C=U.find(ae);for(const O of C){const K=Je.getInstance(O);if(!K||K._config.autoClose===!1)continue;const ut=p.composedPath(),lt=ut.includes(K._menu);if(ut.includes(K._element)||K._config.autoClose==="inside"&&!lt||K._config.autoClose==="outside"&&lt||K._menu.contains(p.target)&&(p.type==="keyup"&&p.key===Os||/input|select|option|textarea|form/i.test(p.target.tagName)))continue;const Yt={relatedTarget:K._element};p.type==="click"&&(Yt.clickEvent=p),K._completeHide(Yt)}}static dataApiKeydownHandler(p){const C=/input|textarea/i.test(p.target.tagName),O=p.key===De,K=[zi,Ki].includes(p.key);if(!K&&!O||C&&!O)return;p.preventDefault();const ut=this.matches(ur)?this:U.prev(this,ur)[0]||U.next(this,ur)[0]||U.findOne(ur,p.delegateTarget.parentNode),lt=Je.getOrCreateInstance(ut);if(K){p.stopPropagation(),lt.show(),lt._selectMenuItem(p);return}lt._isShown()&&(p.stopPropagation(),lt.hide(),ut.focus())}}X.on(document,yr,ur,Je.dataApiKeydownHandler),X.on(document,yr,Hr,Je.dataApiKeydownHandler),X.on(document,Zi,Je.clearMenus),X.on(document,Vr,Je.clearMenus),X.on(document,Zi,ur,function(N){N.preventDefault(),Je.getOrCreateInstance(this).toggle()}),Pt(Je);const xe="backdrop",di="fade",Zn="show",le=`mousedown.bs.${xe}`,vt={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ko={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class fe extends Z{constructor(p){super(),this._config=this._getConfig(p),this._isAppended=!1,this._element=null}static get Default(){return vt}static get DefaultType(){return Ko}static get NAME(){return xe}show(p){if(!this._config.isVisible){Dt(p);return}this._append();const C=this._getElement();this._config.isAnimated&&Rt(C),C.classList.add(Zn),this._emulateAnimation(()=>{Dt(p)})}hide(p){if(!this._config.isVisible){Dt(p);return}this._getElement().classList.remove(Zn),this._emulateAnimation(()=>{this.dispose(),Dt(p)})}dispose(){this._isAppended&&(X.off(this._element,le),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const p=document.createElement("div");p.className=this._config.className,this._config.isAnimated&&p.classList.add(di),this._element=p}return this._element}_configAfterMerge(p){return p.rootElement=dt(p.rootElement),p}_append(){if(this._isAppended)return;const p=this._getElement();this._config.rootElement.append(p),X.on(p,le,()=>{Dt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(p){_t(p,this._getElement(),this._config.isAnimated)}}const fr="focustrap",gi=".bs.focustrap",Sn=`focusin${gi}`,qi=`keydown.tab${gi}`,Ls="Tab",Qi="forward",Ji="backward",Bs={autofocus:!0,trapElement:null},Zo={autofocus:"boolean",trapElement:"element"};class hr extends Z{constructor(p){super(),this._config=this._getConfig(p),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Bs}static get DefaultType(){return Zo}static get NAME(){return fr}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),X.off(document,gi),X.on(document,Sn,p=>this._handleFocusin(p)),X.on(document,qi,p=>this._handleKeydown(p)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,X.off(document,gi))}_handleFocusin(p){const{trapElement:C}=this._config;if(p.target===document||p.target===C||C.contains(p.target))return;const O=U.focusableChildren(C);O.length===0?C.focus():this._lastTabNavDirection===Ji?O[O.length-1].focus():O[0].focus()}_handleKeydown(p){p.key===Ls&&(this._lastTabNavDirection=p.shiftKey?Ji:Qi)}}const pi=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ps=".sticky-top",$n="padding-right",Fs="margin-right";class Nn{constructor(){this._element=document.body}getWidth(){const p=document.documentElement.clientWidth;return Math.abs(window.innerWidth-p)}hide(){const p=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,$n,C=>C+p),this._setElementAttributes(pi,$n,C=>C+p),this._setElementAttributes(Ps,Fs,C=>C-p)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,$n),this._resetElementAttributes(pi,$n),this._resetElementAttributes(Ps,Fs)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(p,C,O){const K=this.getWidth(),ut=lt=>{if(lt!==this._element&&window.innerWidth>lt.clientWidth+K)return;this._saveInitialAttribute(lt,C);const Yt=window.getComputedStyle(lt).getPropertyValue(C);lt.style.setProperty(C,`${O(Number.parseFloat(Yt))}px`)};this._applyManipulationCallback(p,ut)}_saveInitialAttribute(p,C){const O=p.style.getPropertyValue(C);O&&Y.setDataAttribute(p,C,O)}_resetElementAttributes(p,C){const O=K=>{const ut=Y.getDataAttribute(K,C);if(ut===null){K.style.removeProperty(C);return}Y.removeDataAttribute(K,C),K.style.setProperty(C,ut)};this._applyManipulationCallback(p,O)}_applyManipulationCallback(p,C){if(J(p)){C(p);return}for(const O of U.find(p,this._element))C(O)}}const xi="modal",tn=".bs.modal",On=".data-api",$o="Escape",ts=`hide${tn}`,qo=`hidePrevented${tn}`,es=`hidden${tn}`,xn=`show${tn}`,Qo=`shown${tn}`,ns=`resize${tn}`,Gr=`click.dismiss${tn}`,$t=`mousedown.dismiss${tn}`,mi=`keydown.dismiss${tn}`,_=`click${tn}${On}`,t="modal-open",e="fade",n="show",i="modal-static",s=".modal.show",a=".modal-dialog",c=".modal-body",u='[data-bs-toggle="modal"]',g={backdrop:!0,focus:!0,keyboard:!0},x={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class w extends tt{constructor(p,C){super(p,C),this._dialog=U.findOne(a,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Nn,this._addEventListeners()}static get Default(){return g}static get DefaultType(){return x}static get NAME(){return xi}toggle(p){return this._isShown?this.hide():this.show(p)}show(p){this._isShown||this._isTransitioning||X.trigger(this._element,xn,{relatedTarget:p}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(t),this._adjustDialog(),this._backdrop.show(()=>this._showElement(p)))}hide(){!this._isShown||this._isTransitioning||X.trigger(this._element,ts).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(n),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){X.off(window,tn),X.off(this._dialog,tn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new fe({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new hr({trapElement:this._element})}_showElement(p){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const C=U.findOne(c,this._dialog);C&&(C.scrollTop=0),Rt(this._element),this._element.classList.add(n);const O=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,X.trigger(this._element,Qo,{relatedTarget:p})};this._queueCallback(O,this._dialog,this._isAnimated())}_addEventListeners(){X.on(this._element,mi,p=>{if(p.key===$o){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),X.on(window,ns,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),X.on(this._element,$t,p=>{X.one(this._element,Gr,C=>{if(!(this._element!==p.target||this._element!==C.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(t),this._resetAdjustments(),this._scrollBar.reset(),X.trigger(this._element,es)})}_isAnimated(){return this._element.classList.contains(e)}_triggerBackdropTransition(){if(X.trigger(this._element,qo).defaultPrevented)return;const C=this._element.scrollHeight>document.documentElement.clientHeight,O=this._element.style.overflowY;O==="hidden"||this._element.classList.contains(i)||(C||(this._element.style.overflowY="hidden"),this._element.classList.add(i),this._queueCallback(()=>{this._element.classList.remove(i),this._queueCallback(()=>{this._element.style.overflowY=O},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const p=this._element.scrollHeight>document.documentElement.clientHeight,C=this._scrollBar.getWidth(),O=C>0;if(O&&!p){const K=j()?"paddingLeft":"paddingRight";this._element.style[K]=`${C}px`}if(!O&&p){const K=j()?"paddingRight":"paddingLeft";this._element.style[K]=`${C}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(p,C){return this.each(function(){const O=w.getOrCreateInstance(this,p);if(typeof p=="string"){if(typeof O[p]>"u")throw new TypeError(`No method named "${p}"`);O[p](C)}})}}X.on(document,_,u,function(N){const p=U.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&N.preventDefault(),X.one(p,xn,K=>{K.defaultPrevented||X.one(p,es,()=>{bt(this)&&this.focus()})});const C=U.findOne(s);C&&w.getInstance(C).hide(),w.getOrCreateInstance(p).toggle(this)}),B(w),Pt(w);const b="offcanvas",R=".bs.offcanvas",L=".data-api",P=`load${R}${L}`,V="Escape",it="show",st="showing",rt="hiding",jt="offcanvas-backdrop",Ft=".offcanvas.show",Ke=`show${R}`,mn=`shown${R}`,Ze=`hide${R}`,ce=`hidePrevented${R}`,Re=`hidden${R}`,en=`resize${R}`,Tr=`click${R}${L}`,Ir=`keydown.dismiss${R}`,Jo='[data-bs-toggle="offcanvas"]',ta={backdrop:!0,keyboard:!0,scroll:!1},X1={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class dr extends tt{constructor(p,C){super(p,C),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ta}static get DefaultType(){return X1}static get NAME(){return b}toggle(p){return this._isShown?this.hide():this.show(p)}show(p){if(this._isShown||X.trigger(this._element,Ke,{relatedTarget:p}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Nn().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(st);const O=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(it),this._element.classList.remove(st),X.trigger(this._element,mn,{relatedTarget:p})};this._queueCallback(O,this._element,!0)}hide(){if(!this._isShown||X.trigger(this._element,Ze).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(rt),this._backdrop.hide();const C=()=>{this._element.classList.remove(it,rt),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Nn().reset(),X.trigger(this._element,Re)};this._queueCallback(C,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const p=()=>{if(this._config.backdrop==="static"){X.trigger(this._element,ce);return}this.hide()},C=!!this._config.backdrop;return new fe({className:jt,isVisible:C,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:C?p:null})}_initializeFocusTrap(){return new hr({trapElement:this._element})}_addEventListeners(){X.on(this._element,Ir,p=>{if(p.key===V){if(this._config.keyboard){this.hide();return}X.trigger(this._element,ce)}})}static jQueryInterface(p){return this.each(function(){const C=dr.getOrCreateInstance(this,p);if(typeof p=="string"){if(C[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);C[p](this)}})}}X.on(document,Tr,Jo,function(N){const p=U.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&N.preventDefault(),ht(this))return;X.one(p,Re,()=>{bt(this)&&this.focus()});const C=U.findOne(Ft);C&&C!==p&&dr.getInstance(C).hide(),dr.getOrCreateInstance(p).toggle(this)}),X.on(window,P,()=>{for(const N of U.find(Ft))dr.getOrCreateInstance(N).show()}),X.on(window,en,()=>{for(const N of U.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(N).position!=="fixed"&&dr.getOrCreateInstance(N).hide()}),B(dr),Pt(dr);const pl={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Y1=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),j1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,z1=(N,p)=>{const C=N.nodeName.toLowerCase();return p.includes(C)?Y1.has(C)?!!j1.test(N.nodeValue):!0:p.filter(O=>O instanceof RegExp).some(O=>O.test(C))};function K1(N,p,C){if(!N.length)return N;if(C&&typeof C=="function")return C(N);const K=new window.DOMParser().parseFromString(N,"text/html"),ut=[].concat(...K.body.querySelectorAll("*"));for(const lt of ut){const Yt=lt.nodeName.toLowerCase();if(!Object.keys(p).includes(Yt)){lt.remove();continue}const un=[].concat(...lt.attributes),vn=[].concat(p["*"]||[],p[Yt]||[]);for(const ke of un)z1(ke,vn)||lt.removeAttribute(ke.nodeName)}return K.body.innerHTML}const Z1="TemplateFactory",$1={allowList:pl,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},q1={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Q1={entry:"(string|element|function|null)",selector:"(string|element)"};class J1 extends Z{constructor(p){super(),this._config=this._getConfig(p)}static get Default(){return $1}static get DefaultType(){return q1}static get NAME(){return Z1}getContent(){return Object.values(this._config.content).map(p=>this._resolvePossibleFunction(p)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(p){return this._checkContent(p),this._config.content={...this._config.content,...p},this}toHtml(){const p=document.createElement("div");p.innerHTML=this._maybeSanitize(this._config.template);for(const[K,ut]of Object.entries(this._config.content))this._setContent(p,ut,K);const C=p.children[0],O=this._resolvePossibleFunction(this._config.extraClass);return O&&C.classList.add(...O.split(" ")),C}_typeCheckConfig(p){super._typeCheckConfig(p),this._checkContent(p.content)}_checkContent(p){for(const[C,O]of Object.entries(p))super._typeCheckConfig({selector:C,entry:O},Q1)}_setContent(p,C,O){const K=U.findOne(O,p);if(K){if(C=this._resolvePossibleFunction(C),!C){K.remove();return}if(J(C)){this._putElementInTemplate(dt(C),K);return}if(this._config.html){K.innerHTML=this._maybeSanitize(C);return}K.textContent=C}}_maybeSanitize(p){return this._config.sanitize?K1(p,this._config.allowList,this._config.sanitizeFn):p}_resolvePossibleFunction(p){return Dt(p,[this])}_putElementInTemplate(p,C){if(this._config.html){C.innerHTML="",C.append(p);return}C.textContent=p.textContent}}const tu="tooltip",eu=new Set(["sanitize","allowList","sanitizeFn"]),ea="fade",nu="modal",ks="show",ru=".tooltip-inner",xl=`.${nu}`,ml="hide.bs.modal",rs="hover",na="focus",iu="click",su="manual",ou="hide",au="hidden",lu="show",cu="shown",uu="inserted",fu="click",hu="focusin",du="focusout",gu="mouseenter",pu="mouseleave",xu={AUTO:"auto",TOP:"top",RIGHT:j()?"left":"right",BOTTOM:"bottom",LEFT:j()?"right":"left"},mu={allowList:pl,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Eu={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Xr extends tt{constructor(p,C){if(typeof d>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(p,C),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return mu}static get DefaultType(){return Eu}static get NAME(){return tu}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),X.off(this._element.closest(xl),ml,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const p=X.trigger(this._element,this.constructor.eventName(lu)),O=(at(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(p.defaultPrevented||!O)return;this._disposePopper();const K=this._getTipElement();this._element.setAttribute("aria-describedby",K.getAttribute("id"));const{container:ut}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(ut.append(K),X.trigger(this._element,this.constructor.eventName(uu))),this._popper=this._createPopper(K),K.classList.add(ks),"ontouchstart"in document.documentElement)for(const Yt of[].concat(...document.body.children))X.on(Yt,"mouseover",Q);const lt=()=>{X.trigger(this._element,this.constructor.eventName(cu)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(lt,this.tip,this._isAnimated())}hide(){if(!this._isShown()||X.trigger(this._element,this.constructor.eventName(ou)).defaultPrevented)return;if(this._getTipElement().classList.remove(ks),"ontouchstart"in document.documentElement)for(const K of[].concat(...document.body.children))X.off(K,"mouseover",Q);this._activeTrigger[iu]=!1,this._activeTrigger[na]=!1,this._activeTrigger[rs]=!1,this._isHovered=null;const O=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),X.trigger(this._element,this.constructor.eventName(au)))};this._queueCallback(O,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(p){const C=this._getTemplateFactory(p).toHtml();if(!C)return null;C.classList.remove(ea,ks),C.classList.add(`bs-${this.constructor.NAME}-auto`);const O=$(this.constructor.NAME).toString();return C.setAttribute("id",O),this._isAnimated()&&C.classList.add(ea),C}setContent(p){this._newContent=p,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(p){return this._templateFactory?this._templateFactory.changeContent(p):this._templateFactory=new J1({...this._config,content:p,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[ru]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(p){return this.constructor.getOrCreateInstance(p.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ea)}_isShown(){return this.tip&&this.tip.classList.contains(ks)}_createPopper(p){const C=Dt(this._config.placement,[this,p,this._element]),O=xu[C.toUpperCase()];return d.createPopper(this._element,p,this._getPopperConfig(O))}_getOffset(){const{offset:p}=this._config;return typeof p=="string"?p.split(",").map(C=>Number.parseInt(C,10)):typeof p=="function"?C=>p(C,this._element):p}_resolvePossibleFunction(p){return Dt(p,[this._element])}_getPopperConfig(p){const C={placement:p,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:O=>{this._getTipElement().setAttribute("data-popper-placement",O.state.placement)}}]};return{...C,...Dt(this._config.popperConfig,[C])}}_setListeners(){const p=this._config.trigger.split(" ");for(const C of p)if(C==="click")X.on(this._element,this.constructor.eventName(fu),this._config.selector,O=>{this._initializeOnDelegatedTarget(O).toggle()});else if(C!==su){const O=C===rs?this.constructor.eventName(gu):this.constructor.eventName(hu),K=C===rs?this.constructor.eventName(pu):this.constructor.eventName(du);X.on(this._element,O,this._config.selector,ut=>{const lt=this._initializeOnDelegatedTarget(ut);lt._activeTrigger[ut.type==="focusin"?na:rs]=!0,lt._enter()}),X.on(this._element,K,this._config.selector,ut=>{const lt=this._initializeOnDelegatedTarget(ut);lt._activeTrigger[ut.type==="focusout"?na:rs]=lt._element.contains(ut.relatedTarget),lt._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},X.on(this._element.closest(xl),ml,this._hideModalHandler)}_fixTitle(){const p=this._element.getAttribute("title");p&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",p),this._element.setAttribute("data-bs-original-title",p),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(p,C){clearTimeout(this._timeout),this._timeout=setTimeout(p,C)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(p){const C=Y.getDataAttributes(this._element);for(const O of Object.keys(C))eu.has(O)&&delete C[O];return p={...C,...typeof p=="object"&&p?p:{}},p=this._mergeConfigObj(p),p=this._configAfterMerge(p),this._typeCheckConfig(p),p}_configAfterMerge(p){return p.container=p.container===!1?document.body:dt(p.container),typeof p.delay=="number"&&(p.delay={show:p.delay,hide:p.delay}),typeof p.title=="number"&&(p.title=p.title.toString()),typeof p.content=="number"&&(p.content=p.content.toString()),p}_getDelegateConfig(){const p={};for(const[C,O]of Object.entries(this._config))this.constructor.Default[C]!==O&&(p[C]=O);return p.selector=!1,p.trigger="manual",p}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(p){return this.each(function(){const C=Xr.getOrCreateInstance(this,p);if(typeof p=="string"){if(typeof C[p]>"u")throw new TypeError(`No method named "${p}"`);C[p]()}})}}Pt(Xr);const wu="popover",_u=".popover-header",Au=".popover-body",Cu={...Xr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},bu={...Xr.DefaultType,content:"(null|string|element|function)"};class Us extends Xr{static get Default(){return Cu}static get DefaultType(){return bu}static get NAME(){return wu}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[_u]:this._getTitle(),[Au]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(p){return this.each(function(){const C=Us.getOrCreateInstance(this,p);if(typeof p=="string"){if(typeof C[p]>"u")throw new TypeError(`No method named "${p}"`);C[p]()}})}}Pt(Us);const yu="scrollspy",ra=".bs.scrollspy",Tu=".data-api",Iu=`activate${ra}`,El=`click${ra}`,Su=`load${ra}${Tu}`,Nu="dropdown-item",Ei="active",Ou='[data-bs-spy="scroll"]',ia="[href]",vu=".nav, .list-group",wl=".nav-link",Ru=`${wl}, .nav-item > ${wl}, .list-group-item`,Du=".dropdown",Mu=".dropdown-toggle",Lu={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Bu={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class is extends tt{constructor(p,C){super(p,C),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Lu}static get DefaultType(){return Bu}static get NAME(){return yu}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const p of this._observableSections.values())this._observer.observe(p)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(p){return p.target=dt(p.target)||document.body,p.rootMargin=p.offset?`${p.offset}px 0px -30%`:p.rootMargin,typeof p.threshold=="string"&&(p.threshold=p.threshold.split(",").map(C=>Number.parseFloat(C))),p}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(X.off(this._config.target,El),X.on(this._config.target,El,ia,p=>{const C=this._observableSections.get(p.target.hash);if(C){p.preventDefault();const O=this._rootElement||window,K=C.offsetTop-this._element.offsetTop;if(O.scrollTo){O.scrollTo({top:K,behavior:"smooth"});return}O.scrollTop=K}}))}_getNewObserver(){const p={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(C=>this._observerCallback(C),p)}_observerCallback(p){const C=lt=>this._targetLinks.get(`#${lt.target.id}`),O=lt=>{this._previousScrollData.visibleEntryTop=lt.target.offsetTop,this._process(C(lt))},K=(this._rootElement||document.documentElement).scrollTop,ut=K>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=K;for(const lt of p){if(!lt.isIntersecting){this._activeTarget=null,this._clearActiveClass(C(lt));continue}const Yt=lt.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(ut&&Yt){if(O(lt),!K)return;continue}!ut&&!Yt&&O(lt)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const p=U.find(ia,this._config.target);for(const C of p){if(!C.hash||ht(C))continue;const O=U.findOne(decodeURI(C.hash),this._element);bt(O)&&(this._targetLinks.set(decodeURI(C.hash),C),this._observableSections.set(C.hash,O))}}_process(p){this._activeTarget!==p&&(this._clearActiveClass(this._config.target),this._activeTarget=p,p.classList.add(Ei),this._activateParents(p),X.trigger(this._element,Iu,{relatedTarget:p}))}_activateParents(p){if(p.classList.contains(Nu)){U.findOne(Mu,p.closest(Du)).classList.add(Ei);return}for(const C of U.parents(p,vu))for(const O of U.prev(C,Ru))O.classList.add(Ei)}_clearActiveClass(p){p.classList.remove(Ei);const C=U.find(`${ia}.${Ei}`,p);for(const O of C)O.classList.remove(Ei)}static jQueryInterface(p){return this.each(function(){const C=is.getOrCreateInstance(this,p);if(typeof p=="string"){if(C[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);C[p]()}})}}X.on(window,Su,()=>{for(const N of U.find(Ou))is.getOrCreateInstance(N)}),Pt(is);const Pu="tab",Yr=".bs.tab",Fu=`hide${Yr}`,ku=`hidden${Yr}`,Uu=`show${Yr}`,Vu=`shown${Yr}`,Hu=`click${Yr}`,Wu=`keydown${Yr}`,Gu=`load${Yr}`,Xu="ArrowLeft",_l="ArrowRight",Yu="ArrowUp",Al="ArrowDown",sa="Home",Cl="End",jr="active",bl="fade",oa="show",ju="dropdown",zu=".dropdown-toggle",Ku=".dropdown-menu",aa=":not(.dropdown-toggle)",Zu='.list-group, .nav, [role="tablist"]',$u=".nav-item, .list-group-item",qu=`.nav-link${aa}, .list-group-item${aa}, [role="tab"]${aa}`,yl='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',la=`${qu}, ${yl}`,Qu=`.${jr}[data-bs-toggle="tab"], .${jr}[data-bs-toggle="pill"], .${jr}[data-bs-toggle="list"]`;class zr extends tt{constructor(p){super(p),this._parent=this._element.closest(Zu),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),X.on(this._element,Wu,C=>this._keydown(C)))}static get NAME(){return Pu}show(){const p=this._element;if(this._elemIsActive(p))return;const C=this._getActiveElem(),O=C?X.trigger(C,Fu,{relatedTarget:p}):null;X.trigger(p,Uu,{relatedTarget:C}).defaultPrevented||O&&O.defaultPrevented||(this._deactivate(C,p),this._activate(p,C))}_activate(p,C){if(!p)return;p.classList.add(jr),this._activate(U.getElementFromSelector(p));const O=()=>{if(p.getAttribute("role")!=="tab"){p.classList.add(oa);return}p.removeAttribute("tabindex"),p.setAttribute("aria-selected",!0),this._toggleDropDown(p,!0),X.trigger(p,Vu,{relatedTarget:C})};this._queueCallback(O,p,p.classList.contains(bl))}_deactivate(p,C){if(!p)return;p.classList.remove(jr),p.blur(),this._deactivate(U.getElementFromSelector(p));const O=()=>{if(p.getAttribute("role")!=="tab"){p.classList.remove(oa);return}p.setAttribute("aria-selected",!1),p.setAttribute("tabindex","-1"),this._toggleDropDown(p,!1),X.trigger(p,ku,{relatedTarget:C})};this._queueCallback(O,p,p.classList.contains(bl))}_keydown(p){if(![Xu,_l,Yu,Al,sa,Cl].includes(p.key))return;p.stopPropagation(),p.preventDefault();const C=this._getChildren().filter(K=>!ht(K));let O;if([sa,Cl].includes(p.key))O=C[p.key===sa?0:C.length-1];else{const K=[_l,Al].includes(p.key);O=St(C,p.target,K,!0)}O&&(O.focus({preventScroll:!0}),zr.getOrCreateInstance(O).show())}_getChildren(){return U.find(la,this._parent)}_getActiveElem(){return this._getChildren().find(p=>this._elemIsActive(p))||null}_setInitialAttributes(p,C){this._setAttributeIfNotExists(p,"role","tablist");for(const O of C)this._setInitialAttributesOnChild(O)}_setInitialAttributesOnChild(p){p=this._getInnerElement(p);const C=this._elemIsActive(p),O=this._getOuterElement(p);p.setAttribute("aria-selected",C),O!==p&&this._setAttributeIfNotExists(O,"role","presentation"),C||p.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(p,"role","tab"),this._setInitialAttributesOnTargetPanel(p)}_setInitialAttributesOnTargetPanel(p){const C=U.getElementFromSelector(p);C&&(this._setAttributeIfNotExists(C,"role","tabpanel"),p.id&&this._setAttributeIfNotExists(C,"aria-labelledby",`${p.id}`))}_toggleDropDown(p,C){const O=this._getOuterElement(p);if(!O.classList.contains(ju))return;const K=(ut,lt)=>{const Yt=U.findOne(ut,O);Yt&&Yt.classList.toggle(lt,C)};K(zu,jr),K(Ku,oa),O.setAttribute("aria-expanded",C)}_setAttributeIfNotExists(p,C,O){p.hasAttribute(C)||p.setAttribute(C,O)}_elemIsActive(p){return p.classList.contains(jr)}_getInnerElement(p){return p.matches(la)?p:U.findOne(la,p)}_getOuterElement(p){return p.closest($u)||p}static jQueryInterface(p){return this.each(function(){const C=zr.getOrCreateInstance(this);if(typeof p=="string"){if(C[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);C[p]()}})}}X.on(document,Hu,yl,function(N){["A","AREA"].includes(this.tagName)&&N.preventDefault(),!ht(this)&&zr.getOrCreateInstance(this).show()}),X.on(window,Gu,()=>{for(const N of U.find(Qu))zr.getOrCreateInstance(N)}),Pt(zr);const Ju="toast",Sr=".bs.toast",tf=`mouseover${Sr}`,ef=`mouseout${Sr}`,nf=`focusin${Sr}`,rf=`focusout${Sr}`,sf=`hide${Sr}`,of=`hidden${Sr}`,af=`show${Sr}`,lf=`shown${Sr}`,cf="fade",Tl="hide",Vs="show",Hs="showing",uf={animation:"boolean",autohide:"boolean",delay:"number"},ff={animation:!0,autohide:!0,delay:5e3};class ss extends tt{constructor(p,C){super(p,C),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ff}static get DefaultType(){return uf}static get NAME(){return Ju}show(){if(X.trigger(this._element,af).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(cf);const C=()=>{this._element.classList.remove(Hs),X.trigger(this._element,lf),this._maybeScheduleHide()};this._element.classList.remove(Tl),Rt(this._element),this._element.classList.add(Vs,Hs),this._queueCallback(C,this._element,this._config.animation)}hide(){if(!this.isShown()||X.trigger(this._element,sf).defaultPrevented)return;const C=()=>{this._element.classList.add(Tl),this._element.classList.remove(Hs,Vs),X.trigger(this._element,of)};this._element.classList.add(Hs),this._queueCallback(C,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Vs),super.dispose()}isShown(){return this._element.classList.contains(Vs)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(p,C){switch(p.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=C;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=C;break}}if(C){this._clearTimeout();return}const O=p.relatedTarget;this._element===O||this._element.contains(O)||this._maybeScheduleHide()}_setListeners(){X.on(this._element,tf,p=>this._onInteraction(p,!0)),X.on(this._element,ef,p=>this._onInteraction(p,!1)),X.on(this._element,nf,p=>this._onInteraction(p,!0)),X.on(this._element,rf,p=>this._onInteraction(p,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(p){return this.each(function(){const C=ss.getOrCreateInstance(this,p);if(typeof p=="string"){if(typeof C[p]>"u")throw new TypeError(`No method named "${p}"`);C[p](this)}})}}return B(ss),Pt(ss),{Alert:Vt,Button:se,Carousel:Qe,Collapse:In,Dropdown:Je,Modal:w,Offcanvas:dr,Popover:Us,ScrollSpy:is,Tab:zr,Toast:ss,Tooltip:Xr}})})(zg);zh(jg).mount("#app");
