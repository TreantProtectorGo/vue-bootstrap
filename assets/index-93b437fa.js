function gf(r,o){for(var l=0;l<o.length;l++){const f=o[l];if(typeof f!="string"&&!Array.isArray(f)){for(const d in f)if(d!=="default"&&!(d in r)){const h=Object.getOwnPropertyDescriptor(f,d);h&&Object.defineProperty(r,d,h.get?h:{enumerable:!0,get:()=>f[d]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))f(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&f(m)}).observe(document,{childList:!0,subtree:!0});function l(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function f(d){if(d.ep)return;d.ep=!0;const h=l(d);fetch(d.href,h)}})();function Ba(r,o){const l=Object.create(null),f=r.split(",");for(let d=0;d<f.length;d++)l[f[d]]=!0;return o?d=>!!l[d.toLowerCase()]:d=>!!l[d]}const Et={},Ti=[],Hn=()=>{},pf=()=>!1,xf=/^on[^a-z]/,wo=r=>xf.test(r),Pa=r=>r.startsWith("onUpdate:"),Ut=Object.assign,Fa=(r,o)=>{const l=r.indexOf(o);l>-1&&r.splice(l,1)},mf=Object.prototype.hasOwnProperty,nt=(r,o)=>mf.call(r,o),Be=Array.isArray,Ii=r=>As(r)==="[object Map]",_o=r=>As(r)==="[object Set]",Sl=r=>As(r)==="[object Date]",We=r=>typeof r=="function",Lt=r=>typeof r=="string",gs=r=>typeof r=="symbol",wt=r=>r!==null&&typeof r=="object",Tc=r=>wt(r)&&We(r.then)&&We(r.catch),Ic=Object.prototype.toString,As=r=>Ic.call(r),Ef=r=>As(r).slice(8,-1),Sc=r=>As(r)==="[object Object]",ka=r=>Lt(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,qs=Ba(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ao=r=>{const o=Object.create(null);return l=>o[l]||(o[l]=r(l))},wf=/-(\w)/g,nr=Ao(r=>r.replace(wf,(o,l)=>l?l.toUpperCase():"")),_f=/\B([A-Z])/g,Fi=Ao(r=>r.replace(_f,"-$1").toLowerCase()),Co=Ao(r=>r.charAt(0).toUpperCase()+r.slice(1)),fa=Ao(r=>r?`on${Co(r)}`:""),ps=(r,o)=>!Object.is(r,o),Qs=(r,o)=>{for(let l=0;l<r.length;l++)r[l](o)},so=(r,o,l)=>{Object.defineProperty(r,o,{configurable:!0,enumerable:!1,value:l})},oo=r=>{const o=parseFloat(r);return isNaN(o)?r:o};let Nl;const Ea=()=>Nl||(Nl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ua(r){if(Be(r)){const o={};for(let l=0;l<r.length;l++){const f=r[l],d=Lt(f)?yf(f):Ua(f);if(d)for(const h in d)o[h]=d[h]}return o}else{if(Lt(r))return r;if(wt(r))return r}}const Af=/;(?![^(]*\))/g,Cf=/:([^]+)/,bf=/\/\*[^]*?\*\//g;function yf(r){const o={};return r.replace(bf,"").split(Af).forEach(l=>{if(l){const f=l.split(Cf);f.length>1&&(o[f[0].trim()]=f[1].trim())}}),o}function Va(r){let o="";if(Lt(r))o=r;else if(Be(r))for(let l=0;l<r.length;l++){const f=Va(r[l]);f&&(o+=f+" ")}else if(wt(r))for(const l in r)r[l]&&(o+=l+" ");return o.trim()}const Tf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",If=Ba(Tf);function Nc(r){return!!r||r===""}function Sf(r,o){if(r.length!==o.length)return!1;let l=!0;for(let f=0;l&&f<r.length;f++)l=bo(r[f],o[f]);return l}function bo(r,o){if(r===o)return!0;let l=Sl(r),f=Sl(o);if(l||f)return l&&f?r.getTime()===o.getTime():!1;if(l=gs(r),f=gs(o),l||f)return r===o;if(l=Be(r),f=Be(o),l||f)return l&&f?Sf(r,o):!1;if(l=wt(r),f=wt(o),l||f){if(!l||!f)return!1;const d=Object.keys(r).length,h=Object.keys(o).length;if(d!==h)return!1;for(const m in r){const C=r.hasOwnProperty(m),y=o.hasOwnProperty(m);if(C&&!y||!C&&y||!bo(r[m],o[m]))return!1}}return String(r)===String(o)}function Nf(r,o){return r.findIndex(l=>bo(l,o))}const bi=r=>Lt(r)?r:r==null?"":Be(r)||wt(r)&&(r.toString===Ic||!We(r.toString))?JSON.stringify(r,Oc,2):String(r),Oc=(r,o)=>o&&o.__v_isRef?Oc(r,o.value):Ii(o)?{[`Map(${o.size})`]:[...o.entries()].reduce((l,[f,d])=>(l[`${f} =>`]=d,l),{})}:_o(o)?{[`Set(${o.size})`]:[...o.values()]}:wt(o)&&!Be(o)&&!Sc(o)?String(o):o;let Fn;class Of{constructor(o=!1){this.detached=o,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Fn,!o&&Fn&&(this.index=(Fn.scopes||(Fn.scopes=[])).push(this)-1)}get active(){return this._active}run(o){if(this._active){const l=Fn;try{return Fn=this,o()}finally{Fn=l}}}on(){Fn=this}off(){Fn=this.parent}stop(o){if(this._active){let l,f;for(l=0,f=this.effects.length;l<f;l++)this.effects[l].stop();for(l=0,f=this.cleanups.length;l<f;l++)this.cleanups[l]();if(this.scopes)for(l=0,f=this.scopes.length;l<f;l++)this.scopes[l].stop(!0);if(!this.detached&&this.parent&&!o){const d=this.parent.scopes.pop();d&&d!==this&&(this.parent.scopes[this.index]=d,d.index=this.index)}this.parent=void 0,this._active=!1}}}function vf(r,o=Fn){o&&o.active&&o.effects.push(r)}function Rf(){return Fn}const Ha=r=>{const o=new Set(r);return o.w=0,o.n=0,o},vc=r=>(r.w&Dr)>0,Rc=r=>(r.n&Dr)>0,Df=({deps:r})=>{if(r.length)for(let o=0;o<r.length;o++)r[o].w|=Dr},Mf=r=>{const{deps:o}=r;if(o.length){let l=0;for(let f=0;f<o.length;f++){const d=o[f];vc(d)&&!Rc(d)?d.delete(r):o[l++]=d,d.w&=~Dr,d.n&=~Dr}o.length=l}},wa=new WeakMap;let ls=0,Dr=1;const _a=30;let kn;const ei=Symbol(""),Aa=Symbol("");class Wa{constructor(o,l=null,f){this.fn=o,this.scheduler=l,this.active=!0,this.deps=[],this.parent=void 0,vf(this,f)}run(){if(!this.active)return this.fn();let o=kn,l=vr;for(;o;){if(o===this)return;o=o.parent}try{return this.parent=kn,kn=this,vr=!0,Dr=1<<++ls,ls<=_a?Df(this):Ol(this),this.fn()}finally{ls<=_a&&Mf(this),Dr=1<<--ls,kn=this.parent,vr=l,this.parent=void 0,this.deferStop&&this.stop()}}stop(){kn===this?this.deferStop=!0:this.active&&(Ol(this),this.onStop&&this.onStop(),this.active=!1)}}function Ol(r){const{deps:o}=r;if(o.length){for(let l=0;l<o.length;l++)o[l].delete(r);o.length=0}}let vr=!0;const Dc=[];function ki(){Dc.push(vr),vr=!1}function Ui(){const r=Dc.pop();vr=r===void 0?!0:r}function gn(r,o,l){if(vr&&kn){let f=wa.get(r);f||wa.set(r,f=new Map);let d=f.get(l);d||f.set(l,d=Ha()),Mc(d)}}function Mc(r,o){let l=!1;ls<=_a?Rc(r)||(r.n|=Dr,l=!vc(r)):l=!r.has(kn),l&&(r.add(kn),kn.deps.push(r))}function mr(r,o,l,f,d,h){const m=wa.get(r);if(!m)return;let C=[];if(o==="clear")C=[...m.values()];else if(l==="length"&&Be(r)){const y=Number(f);m.forEach((E,I)=>{(I==="length"||I>=y)&&C.push(E)})}else switch(l!==void 0&&C.push(m.get(l)),o){case"add":Be(r)?ka(l)&&C.push(m.get("length")):(C.push(m.get(ei)),Ii(r)&&C.push(m.get(Aa)));break;case"delete":Be(r)||(C.push(m.get(ei)),Ii(r)&&C.push(m.get(Aa)));break;case"set":Ii(r)&&C.push(m.get(ei));break}if(C.length===1)C[0]&&Ca(C[0]);else{const y=[];for(const E of C)E&&y.push(...E);Ca(Ha(y))}}function Ca(r,o){const l=Be(r)?r:[...r];for(const f of l)f.computed&&vl(f);for(const f of l)f.computed||vl(f)}function vl(r,o){(r!==kn||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const Lf=Ba("__proto__,__v_isRef,__isVue"),Lc=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(gs)),Bf=Ga(),Pf=Ga(!1,!0),Ff=Ga(!0),Rl=kf();function kf(){const r={};return["includes","indexOf","lastIndexOf"].forEach(o=>{r[o]=function(...l){const f=ot(this);for(let h=0,m=this.length;h<m;h++)gn(f,"get",h+"");const d=f[o](...l);return d===-1||d===!1?f[o](...l.map(ot)):d}}),["push","pop","shift","unshift","splice"].forEach(o=>{r[o]=function(...l){ki();const f=ot(this)[o].apply(this,l);return Ui(),f}}),r}function Uf(r){const o=ot(this);return gn(o,"has",r),o.hasOwnProperty(r)}function Ga(r=!1,o=!1){return function(f,d,h){if(d==="__v_isReactive")return!r;if(d==="__v_isReadonly")return r;if(d==="__v_isShallow")return o;if(d==="__v_raw"&&h===(r?o?t0:Uc:o?kc:Fc).get(f))return f;const m=Be(f);if(!r){if(m&&nt(Rl,d))return Reflect.get(Rl,d,h);if(d==="hasOwnProperty")return Uf}const C=Reflect.get(f,d,h);return(gs(d)?Lc.has(d):Lf(d))||(r||gn(f,"get",d),o)?C:qt(C)?m&&ka(d)?C:C.value:wt(C)?r?Vc(C):ja(C):C}}const Vf=Bc(),Hf=Bc(!0);function Bc(r=!1){return function(l,f,d,h){let m=l[f];if(Oi(m)&&qt(m)&&!qt(d))return!1;if(!r&&(!ao(d)&&!Oi(d)&&(m=ot(m),d=ot(d)),!Be(l)&&qt(m)&&!qt(d)))return m.value=d,!0;const C=Be(l)&&ka(f)?Number(f)<l.length:nt(l,f),y=Reflect.set(l,f,d,h);return l===ot(h)&&(C?ps(d,m)&&mr(l,"set",f,d):mr(l,"add",f,d)),y}}function Wf(r,o){const l=nt(r,o);r[o];const f=Reflect.deleteProperty(r,o);return f&&l&&mr(r,"delete",o,void 0),f}function Gf(r,o){const l=Reflect.has(r,o);return(!gs(o)||!Lc.has(o))&&gn(r,"has",o),l}function Xf(r){return gn(r,"iterate",Be(r)?"length":ei),Reflect.ownKeys(r)}const Pc={get:Bf,set:Vf,deleteProperty:Wf,has:Gf,ownKeys:Xf},Yf={get:Ff,set(r,o){return!0},deleteProperty(r,o){return!0}},jf=Ut({},Pc,{get:Pf,set:Hf}),Xa=r=>r,yo=r=>Reflect.getPrototypeOf(r);function Gs(r,o,l=!1,f=!1){r=r.__v_raw;const d=ot(r),h=ot(o);l||(o!==h&&gn(d,"get",o),gn(d,"get",h));const{has:m}=yo(d),C=f?Xa:l?Ka:xs;if(m.call(d,o))return C(r.get(o));if(m.call(d,h))return C(r.get(h));r!==d&&r.get(o)}function Xs(r,o=!1){const l=this.__v_raw,f=ot(l),d=ot(r);return o||(r!==d&&gn(f,"has",r),gn(f,"has",d)),r===d?l.has(r):l.has(r)||l.has(d)}function Ys(r,o=!1){return r=r.__v_raw,!o&&gn(ot(r),"iterate",ei),Reflect.get(r,"size",r)}function Dl(r){r=ot(r);const o=ot(this);return yo(o).has.call(o,r)||(o.add(r),mr(o,"add",r,r)),this}function Ml(r,o){o=ot(o);const l=ot(this),{has:f,get:d}=yo(l);let h=f.call(l,r);h||(r=ot(r),h=f.call(l,r));const m=d.call(l,r);return l.set(r,o),h?ps(o,m)&&mr(l,"set",r,o):mr(l,"add",r,o),this}function Ll(r){const o=ot(this),{has:l,get:f}=yo(o);let d=l.call(o,r);d||(r=ot(r),d=l.call(o,r)),f&&f.call(o,r);const h=o.delete(r);return d&&mr(o,"delete",r,void 0),h}function Bl(){const r=ot(this),o=r.size!==0,l=r.clear();return o&&mr(r,"clear",void 0,void 0),l}function js(r,o){return function(f,d){const h=this,m=h.__v_raw,C=ot(m),y=o?Xa:r?Ka:xs;return!r&&gn(C,"iterate",ei),m.forEach((E,I)=>f.call(d,y(E),y(I),h))}}function zs(r,o,l){return function(...f){const d=this.__v_raw,h=ot(d),m=Ii(h),C=r==="entries"||r===Symbol.iterator&&m,y=r==="keys"&&m,E=d[r](...f),I=l?Xa:o?Ka:xs;return!o&&gn(h,"iterate",y?Aa:ei),{next(){const{value:D,done:$}=E.next();return $?{value:D,done:$}:{value:C?[I(D[0]),I(D[1])]:I(D),done:$}},[Symbol.iterator](){return this}}}}function Nr(r){return function(...o){return r==="delete"?!1:this}}function zf(){const r={get(h){return Gs(this,h)},get size(){return Ys(this)},has:Xs,add:Dl,set:Ml,delete:Ll,clear:Bl,forEach:js(!1,!1)},o={get(h){return Gs(this,h,!1,!0)},get size(){return Ys(this)},has:Xs,add:Dl,set:Ml,delete:Ll,clear:Bl,forEach:js(!1,!0)},l={get(h){return Gs(this,h,!0)},get size(){return Ys(this,!0)},has(h){return Xs.call(this,h,!0)},add:Nr("add"),set:Nr("set"),delete:Nr("delete"),clear:Nr("clear"),forEach:js(!0,!1)},f={get(h){return Gs(this,h,!0,!0)},get size(){return Ys(this,!0)},has(h){return Xs.call(this,h,!0)},add:Nr("add"),set:Nr("set"),delete:Nr("delete"),clear:Nr("clear"),forEach:js(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(h=>{r[h]=zs(h,!1,!1),l[h]=zs(h,!0,!1),o[h]=zs(h,!1,!0),f[h]=zs(h,!0,!0)}),[r,l,o,f]}const[Kf,Zf,$f,qf]=zf();function Ya(r,o){const l=o?r?qf:$f:r?Zf:Kf;return(f,d,h)=>d==="__v_isReactive"?!r:d==="__v_isReadonly"?r:d==="__v_raw"?f:Reflect.get(nt(l,d)&&d in f?l:f,d,h)}const Qf={get:Ya(!1,!1)},Jf={get:Ya(!1,!0)},e0={get:Ya(!0,!1)},Fc=new WeakMap,kc=new WeakMap,Uc=new WeakMap,t0=new WeakMap;function n0(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function r0(r){return r.__v_skip||!Object.isExtensible(r)?0:n0(Ef(r))}function ja(r){return Oi(r)?r:za(r,!1,Pc,Qf,Fc)}function i0(r){return za(r,!1,jf,Jf,kc)}function Vc(r){return za(r,!0,Yf,e0,Uc)}function za(r,o,l,f,d){if(!wt(r)||r.__v_raw&&!(o&&r.__v_isReactive))return r;const h=d.get(r);if(h)return h;const m=r0(r);if(m===0)return r;const C=new Proxy(r,m===2?f:l);return d.set(r,C),C}function Si(r){return Oi(r)?Si(r.__v_raw):!!(r&&r.__v_isReactive)}function Oi(r){return!!(r&&r.__v_isReadonly)}function ao(r){return!!(r&&r.__v_isShallow)}function Hc(r){return Si(r)||Oi(r)}function ot(r){const o=r&&r.__v_raw;return o?ot(o):r}function Wc(r){return so(r,"__v_skip",!0),r}const xs=r=>wt(r)?ja(r):r,Ka=r=>wt(r)?Vc(r):r;function Gc(r){vr&&kn&&(r=ot(r),Mc(r.dep||(r.dep=Ha())))}function Xc(r,o){r=ot(r);const l=r.dep;l&&Ca(l)}function qt(r){return!!(r&&r.__v_isRef===!0)}function s0(r){return o0(r,!1)}function o0(r,o){return qt(r)?r:new a0(r,o)}class a0{constructor(o,l){this.__v_isShallow=l,this.dep=void 0,this.__v_isRef=!0,this._rawValue=l?o:ot(o),this._value=l?o:xs(o)}get value(){return Gc(this),this._value}set value(o){const l=this.__v_isShallow||ao(o)||Oi(o);o=l?o:ot(o),ps(o,this._rawValue)&&(this._rawValue=o,this._value=l?o:xs(o),Xc(this))}}function l0(r){return qt(r)?r.value:r}const c0={get:(r,o,l)=>l0(Reflect.get(r,o,l)),set:(r,o,l,f)=>{const d=r[o];return qt(d)&&!qt(l)?(d.value=l,!0):Reflect.set(r,o,l,f)}};function Yc(r){return Si(r)?r:new Proxy(r,c0)}class u0{constructor(o,l,f,d){this._setter=l,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Wa(o,()=>{this._dirty||(this._dirty=!0,Xc(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!d,this.__v_isReadonly=f}get value(){const o=ot(this);return Gc(o),(o._dirty||!o._cacheable)&&(o._dirty=!1,o._value=o.effect.run()),o._value}set value(o){this._setter(o)}}function f0(r,o,l=!1){let f,d;const h=We(r);return h?(f=r,d=Hn):(f=r.get,d=r.set),new u0(f,d,h||!d,l)}function Rr(r,o,l,f){let d;try{d=f?r(...f):r()}catch(h){To(h,o,l)}return d}function Wn(r,o,l,f){if(We(r)){const h=Rr(r,o,l,f);return h&&Tc(h)&&h.catch(m=>{To(m,o,l)}),h}const d=[];for(let h=0;h<r.length;h++)d.push(Wn(r[h],o,l,f));return d}function To(r,o,l,f=!0){const d=o?o.vnode:null;if(o){let h=o.parent;const m=o.proxy,C=l;for(;h;){const E=h.ec;if(E){for(let I=0;I<E.length;I++)if(E[I](r,m,C)===!1)return}h=h.parent}const y=o.appContext.config.errorHandler;if(y){Rr(y,null,10,[r,m,C]);return}}h0(r,l,d,f)}function h0(r,o,l,f=!0){console.error(r)}let ms=!1,ba=!1;const $t=[];let er=0;const Ni=[];let pr=null,$r=0;const jc=Promise.resolve();let Za=null;function d0(r){const o=Za||jc;return r?o.then(this?r.bind(this):r):o}function g0(r){let o=er+1,l=$t.length;for(;o<l;){const f=o+l>>>1;Es($t[f])<r?o=f+1:l=f}return o}function $a(r){(!$t.length||!$t.includes(r,ms&&r.allowRecurse?er+1:er))&&(r.id==null?$t.push(r):$t.splice(g0(r.id),0,r),zc())}function zc(){!ms&&!ba&&(ba=!0,Za=jc.then(Zc))}function p0(r){const o=$t.indexOf(r);o>er&&$t.splice(o,1)}function x0(r){Be(r)?Ni.push(...r):(!pr||!pr.includes(r,r.allowRecurse?$r+1:$r))&&Ni.push(r),zc()}function Pl(r,o=ms?er+1:0){for(;o<$t.length;o++){const l=$t[o];l&&l.pre&&($t.splice(o,1),o--,l())}}function Kc(r){if(Ni.length){const o=[...new Set(Ni)];if(Ni.length=0,pr){pr.push(...o);return}for(pr=o,pr.sort((l,f)=>Es(l)-Es(f)),$r=0;$r<pr.length;$r++)pr[$r]();pr=null,$r=0}}const Es=r=>r.id==null?1/0:r.id,m0=(r,o)=>{const l=Es(r)-Es(o);if(l===0){if(r.pre&&!o.pre)return-1;if(o.pre&&!r.pre)return 1}return l};function Zc(r){ba=!1,ms=!0,$t.sort(m0);const o=Hn;try{for(er=0;er<$t.length;er++){const l=$t[er];l&&l.active!==!1&&Rr(l,null,14)}}finally{er=0,$t.length=0,Kc(),ms=!1,Za=null,($t.length||Ni.length)&&Zc()}}function E0(r,o,...l){if(r.isUnmounted)return;const f=r.vnode.props||Et;let d=l;const h=o.startsWith("update:"),m=h&&o.slice(7);if(m&&m in f){const I=`${m==="modelValue"?"model":m}Modifiers`,{number:D,trim:$}=f[I]||Et;$&&(d=l.map(z=>Lt(z)?z.trim():z)),D&&(d=l.map(oo))}let C,y=f[C=fa(o)]||f[C=fa(nr(o))];!y&&h&&(y=f[C=fa(Fi(o))]),y&&Wn(y,r,6,d);const E=f[C+"Once"];if(E){if(!r.emitted)r.emitted={};else if(r.emitted[C])return;r.emitted[C]=!0,Wn(E,r,6,d)}}function $c(r,o,l=!1){const f=o.emitsCache,d=f.get(r);if(d!==void 0)return d;const h=r.emits;let m={},C=!1;if(!We(r)){const y=E=>{const I=$c(E,o,!0);I&&(C=!0,Ut(m,I))};!l&&o.mixins.length&&o.mixins.forEach(y),r.extends&&y(r.extends),r.mixins&&r.mixins.forEach(y)}return!h&&!C?(wt(r)&&f.set(r,null),null):(Be(h)?h.forEach(y=>m[y]=null):Ut(m,h),wt(r)&&f.set(r,m),m)}function Io(r,o){return!r||!wo(o)?!1:(o=o.slice(2).replace(/Once$/,""),nt(r,o[0].toLowerCase()+o.slice(1))||nt(r,Fi(o))||nt(r,o))}let Dn=null,So=null;function lo(r){const o=Dn;return Dn=r,So=r&&r.type.__scopeId||null,o}function w0(r){So=r}function _0(){So=null}function A0(r,o=Dn,l){if(!o||r._n)return r;const f=(...d)=>{f._d&&zl(-1);const h=lo(o);let m;try{m=r(...d)}finally{lo(h),f._d&&zl(1)}return m};return f._n=!0,f._c=!0,f._d=!0,f}function ha(r){const{type:o,vnode:l,proxy:f,withProxy:d,props:h,propsOptions:[m],slots:C,attrs:y,emit:E,render:I,renderCache:D,data:$,setupState:z,ctx:Ae,inheritAttrs:J}=r;let de,be;const he=lo(r);try{if(l.shapeFlag&4){const Q=d||f;de=Jn(I.call(Q,Q,D,h,z,$,Ae)),be=y}else{const Q=o;de=Jn(Q.length>1?Q(h,{attrs:y,slots:C,emit:E}):Q(h,null)),be=o.props?y:C0(y)}}catch(Q){fs.length=0,To(Q,r,1),de=Gn(ri)}let ae=de;if(be&&J!==!1){const Q=Object.keys(be),{shapeFlag:Re}=ae;Q.length&&Re&7&&(m&&Q.some(Pa)&&(be=b0(be,m)),ae=vi(ae,be))}return l.dirs&&(ae=vi(ae),ae.dirs=ae.dirs?ae.dirs.concat(l.dirs):l.dirs),l.transition&&(ae.transition=l.transition),de=ae,lo(he),de}const C0=r=>{let o;for(const l in r)(l==="class"||l==="style"||wo(l))&&((o||(o={}))[l]=r[l]);return o},b0=(r,o)=>{const l={};for(const f in r)(!Pa(f)||!(f.slice(9)in o))&&(l[f]=r[f]);return l};function y0(r,o,l){const{props:f,children:d,component:h}=r,{props:m,children:C,patchFlag:y}=o,E=h.emitsOptions;if(o.dirs||o.transition)return!0;if(l&&y>=0){if(y&1024)return!0;if(y&16)return f?Fl(f,m,E):!!m;if(y&8){const I=o.dynamicProps;for(let D=0;D<I.length;D++){const $=I[D];if(m[$]!==f[$]&&!Io(E,$))return!0}}}else return(d||C)&&(!C||!C.$stable)?!0:f===m?!1:f?m?Fl(f,m,E):!0:!!m;return!1}function Fl(r,o,l){const f=Object.keys(o);if(f.length!==Object.keys(r).length)return!0;for(let d=0;d<f.length;d++){const h=f[d];if(o[h]!==r[h]&&!Io(l,h))return!0}return!1}function T0({vnode:r,parent:o},l){for(;o&&o.subTree===r;)(r=o.vnode).el=l,o=o.parent}const I0=r=>r.__isSuspense;function S0(r,o){o&&o.pendingBranch?Be(r)?o.effects.push(...r):o.effects.push(r):x0(r)}const Ks={};function da(r,o,l){return qc(r,o,l)}function qc(r,o,{immediate:l,deep:f,flush:d,onTrack:h,onTrigger:m}=Et){var C;const y=Rf()===((C=Yt)==null?void 0:C.scope)?Yt:null;let E,I=!1,D=!1;if(qt(r)?(E=()=>r.value,I=ao(r)):Si(r)?(E=()=>r,f=!0):Be(r)?(D=!0,I=r.some(Q=>Si(Q)||ao(Q)),E=()=>r.map(Q=>{if(qt(Q))return Q.value;if(Si(Q))return Jr(Q);if(We(Q))return Rr(Q,y,2)})):We(r)?o?E=()=>Rr(r,y,2):E=()=>{if(!(y&&y.isUnmounted))return $&&$(),Wn(r,y,3,[z])}:E=Hn,o&&f){const Q=E;E=()=>Jr(Q())}let $,z=Q=>{$=he.onStop=()=>{Rr(Q,y,4)}},Ae;if(_s)if(z=Hn,o?l&&Wn(o,y,3,[E(),D?[]:void 0,z]):E(),d==="sync"){const Q=Ih();Ae=Q.__watcherHandles||(Q.__watcherHandles=[])}else return Hn;let J=D?new Array(r.length).fill(Ks):Ks;const de=()=>{if(he.active)if(o){const Q=he.run();(f||I||(D?Q.some((Re,we)=>ps(Re,J[we])):ps(Q,J)))&&($&&$(),Wn(o,y,3,[Q,J===Ks?void 0:D&&J[0]===Ks?[]:J,z]),J=Q)}else he.run()};de.allowRecurse=!!o;let be;d==="sync"?be=de:d==="post"?be=()=>fn(de,y&&y.suspense):(de.pre=!0,y&&(de.id=y.uid),be=()=>$a(de));const he=new Wa(E,be);o?l?de():J=he.run():d==="post"?fn(he.run.bind(he),y&&y.suspense):he.run();const ae=()=>{he.stop(),y&&y.scope&&Fa(y.scope.effects,he)};return Ae&&Ae.push(ae),ae}function N0(r,o,l){const f=this.proxy,d=Lt(r)?r.includes(".")?Qc(f,r):()=>f[r]:r.bind(f,f);let h;We(o)?h=o:(h=o.handler,l=o);const m=Yt;Ri(this);const C=qc(d,h.bind(f),l);return m?Ri(m):ti(),C}function Qc(r,o){const l=o.split(".");return()=>{let f=r;for(let d=0;d<l.length&&f;d++)f=f[l[d]];return f}}function Jr(r,o){if(!wt(r)||r.__v_skip||(o=o||new Set,o.has(r)))return r;if(o.add(r),qt(r))Jr(r.value,o);else if(Be(r))for(let l=0;l<r.length;l++)Jr(r[l],o);else if(_o(r)||Ii(r))r.forEach(l=>{Jr(l,o)});else if(Sc(r))for(const l in r)Jr(r[l],o);return r}function co(r,o){const l=Dn;if(l===null)return r;const f=Ro(l)||l.proxy,d=r.dirs||(r.dirs=[]);for(let h=0;h<o.length;h++){let[m,C,y,E=Et]=o[h];m&&(We(m)&&(m={mounted:m,updated:m}),m.deep&&Jr(C),d.push({dir:m,instance:f,value:C,oldValue:void 0,arg:y,modifiers:E}))}return r}function Kr(r,o,l,f){const d=r.dirs,h=o&&o.dirs;for(let m=0;m<d.length;m++){const C=d[m];h&&(C.oldValue=h[m].value);let y=C.dir[f];y&&(ki(),Wn(y,l,8,[r.el,C,r,o]),Ui())}}function O0(r,o){return We(r)?(()=>Ut({name:r.name},o,{setup:r}))():r}const Js=r=>!!r.type.__asyncLoader,Jc=r=>r.type.__isKeepAlive;function v0(r,o){e1(r,"a",o)}function R0(r,o){e1(r,"da",o)}function e1(r,o,l=Yt){const f=r.__wdc||(r.__wdc=()=>{let d=l;for(;d;){if(d.isDeactivated)return;d=d.parent}return r()});if(No(o,f,l),l){let d=l.parent;for(;d&&d.parent;)Jc(d.parent.vnode)&&D0(f,o,l,d),d=d.parent}}function D0(r,o,l,f){const d=No(o,r,f,!0);t1(()=>{Fa(f[o],d)},l)}function No(r,o,l=Yt,f=!1){if(l){const d=l[r]||(l[r]=[]),h=o.__weh||(o.__weh=(...m)=>{if(l.isUnmounted)return;ki(),Ri(l);const C=Wn(o,l,r,m);return ti(),Ui(),C});return f?d.unshift(h):d.push(h),h}}const wr=r=>(o,l=Yt)=>(!_s||r==="sp")&&No(r,(...f)=>o(...f),l),M0=wr("bm"),L0=wr("m"),B0=wr("bu"),P0=wr("u"),F0=wr("bum"),t1=wr("um"),k0=wr("sp"),U0=wr("rtg"),V0=wr("rtc");function H0(r,o=Yt){No("ec",r,o)}const n1="components";function W0(r,o){return X0(n1,r,!0,o)||r}const G0=Symbol.for("v-ndc");function X0(r,o,l=!0,f=!1){const d=Dn||Yt;if(d){const h=d.type;if(r===n1){const C=Ch(h,!1);if(C&&(C===o||C===nr(o)||C===Co(nr(o))))return h}const m=kl(d[r]||h[r],o)||kl(d.appContext[r],o);return!m&&f?h:m}}function kl(r,o){return r&&(r[o]||r[nr(o)]||r[Co(nr(o))])}function r1(r,o,l,f){let d;const h=l&&l[f];if(Be(r)||Lt(r)){d=new Array(r.length);for(let m=0,C=r.length;m<C;m++)d[m]=o(r[m],m,void 0,h&&h[m])}else if(typeof r=="number"){d=new Array(r);for(let m=0;m<r;m++)d[m]=o(m+1,m,void 0,h&&h[m])}else if(wt(r))if(r[Symbol.iterator])d=Array.from(r,(m,C)=>o(m,C,void 0,h&&h[C]));else{const m=Object.keys(r);d=new Array(m.length);for(let C=0,y=m.length;C<y;C++){const E=m[C];d[C]=o(r[E],E,C,h&&h[C])}}else d=[];return l&&(l[f]=d),d}const ya=r=>r?g1(r)?Ro(r)||r.proxy:ya(r.parent):null,us=Ut(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>ya(r.parent),$root:r=>ya(r.root),$emit:r=>r.emit,$options:r=>qa(r),$forceUpdate:r=>r.f||(r.f=()=>$a(r.update)),$nextTick:r=>r.n||(r.n=d0.bind(r.proxy)),$watch:r=>N0.bind(r)}),ga=(r,o)=>r!==Et&&!r.__isScriptSetup&&nt(r,o),Y0={get({_:r},o){const{ctx:l,setupState:f,data:d,props:h,accessCache:m,type:C,appContext:y}=r;let E;if(o[0]!=="$"){const z=m[o];if(z!==void 0)switch(z){case 1:return f[o];case 2:return d[o];case 4:return l[o];case 3:return h[o]}else{if(ga(f,o))return m[o]=1,f[o];if(d!==Et&&nt(d,o))return m[o]=2,d[o];if((E=r.propsOptions[0])&&nt(E,o))return m[o]=3,h[o];if(l!==Et&&nt(l,o))return m[o]=4,l[o];Ta&&(m[o]=0)}}const I=us[o];let D,$;if(I)return o==="$attrs"&&gn(r,"get",o),I(r);if((D=C.__cssModules)&&(D=D[o]))return D;if(l!==Et&&nt(l,o))return m[o]=4,l[o];if($=y.config.globalProperties,nt($,o))return $[o]},set({_:r},o,l){const{data:f,setupState:d,ctx:h}=r;return ga(d,o)?(d[o]=l,!0):f!==Et&&nt(f,o)?(f[o]=l,!0):nt(r.props,o)||o[0]==="$"&&o.slice(1)in r?!1:(h[o]=l,!0)},has({_:{data:r,setupState:o,accessCache:l,ctx:f,appContext:d,propsOptions:h}},m){let C;return!!l[m]||r!==Et&&nt(r,m)||ga(o,m)||(C=h[0])&&nt(C,m)||nt(f,m)||nt(us,m)||nt(d.config.globalProperties,m)},defineProperty(r,o,l){return l.get!=null?r._.accessCache[o]=0:nt(l,"value")&&this.set(r,o,l.value,null),Reflect.defineProperty(r,o,l)}};function Ul(r){return Be(r)?r.reduce((o,l)=>(o[l]=null,o),{}):r}let Ta=!0;function j0(r){const o=qa(r),l=r.proxy,f=r.ctx;Ta=!1,o.beforeCreate&&Vl(o.beforeCreate,r,"bc");const{data:d,computed:h,methods:m,watch:C,provide:y,inject:E,created:I,beforeMount:D,mounted:$,beforeUpdate:z,updated:Ae,activated:J,deactivated:de,beforeDestroy:be,beforeUnmount:he,destroyed:ae,unmounted:Q,render:Re,renderTracked:we,renderTriggered:q,errorCaptured:Te,serverPrefetch:j,expose:Pe,inheritAttrs:De,components:_e,directives:Se,filters:rt}=o;if(E&&z0(E,f,null),m)for(const fe in m){const Ge=m[fe];We(Ge)&&(f[fe]=Ge.bind(l))}if(d){const fe=d.call(l,l);wt(fe)&&(r.data=ja(fe))}if(Ta=!0,h)for(const fe in h){const Ge=h[fe],ht=We(Ge)?Ge.bind(l,l):We(Ge.get)?Ge.get.bind(l,l):Hn,Nt=!We(Ge)&&We(Ge.set)?Ge.set.bind(l):Hn,Vt=yh({get:ht,set:Nt});Object.defineProperty(f,fe,{enumerable:!0,configurable:!0,get:()=>Vt.value,set:Ze=>Vt.value=Ze})}if(C)for(const fe in C)i1(C[fe],f,l,fe);if(y){const fe=We(y)?y.call(l):y;Reflect.ownKeys(fe).forEach(Ge=>{J0(Ge,fe[Ge])})}I&&Vl(I,r,"c");function Me(fe,Ge){Be(Ge)?Ge.forEach(ht=>fe(ht.bind(l))):Ge&&fe(Ge.bind(l))}if(Me(M0,D),Me(L0,$),Me(B0,z),Me(P0,Ae),Me(v0,J),Me(R0,de),Me(H0,Te),Me(V0,we),Me(U0,q),Me(F0,he),Me(t1,Q),Me(k0,j),Be(Pe))if(Pe.length){const fe=r.exposed||(r.exposed={});Pe.forEach(Ge=>{Object.defineProperty(fe,Ge,{get:()=>l[Ge],set:ht=>l[Ge]=ht})})}else r.exposed||(r.exposed={});Re&&r.render===Hn&&(r.render=Re),De!=null&&(r.inheritAttrs=De),_e&&(r.components=_e),Se&&(r.directives=Se)}function z0(r,o,l=Hn){Be(r)&&(r=Ia(r));for(const f in r){const d=r[f];let h;wt(d)?"default"in d?h=eo(d.from||f,d.default,!0):h=eo(d.from||f):h=eo(d),qt(h)?Object.defineProperty(o,f,{enumerable:!0,configurable:!0,get:()=>h.value,set:m=>h.value=m}):o[f]=h}}function Vl(r,o,l){Wn(Be(r)?r.map(f=>f.bind(o.proxy)):r.bind(o.proxy),o,l)}function i1(r,o,l,f){const d=f.includes(".")?Qc(l,f):()=>l[f];if(Lt(r)){const h=o[r];We(h)&&da(d,h)}else if(We(r))da(d,r.bind(l));else if(wt(r))if(Be(r))r.forEach(h=>i1(h,o,l,f));else{const h=We(r.handler)?r.handler.bind(l):o[r.handler];We(h)&&da(d,h,r)}}function qa(r){const o=r.type,{mixins:l,extends:f}=o,{mixins:d,optionsCache:h,config:{optionMergeStrategies:m}}=r.appContext,C=h.get(o);let y;return C?y=C:!d.length&&!l&&!f?y=o:(y={},d.length&&d.forEach(E=>uo(y,E,m,!0)),uo(y,o,m)),wt(o)&&h.set(o,y),y}function uo(r,o,l,f=!1){const{mixins:d,extends:h}=o;h&&uo(r,h,l,!0),d&&d.forEach(m=>uo(r,m,l,!0));for(const m in o)if(!(f&&m==="expose")){const C=K0[m]||l&&l[m];r[m]=C?C(r[m],o[m]):o[m]}return r}const K0={data:Hl,props:Wl,emits:Wl,methods:cs,computed:cs,beforeCreate:nn,created:nn,beforeMount:nn,mounted:nn,beforeUpdate:nn,updated:nn,beforeDestroy:nn,beforeUnmount:nn,destroyed:nn,unmounted:nn,activated:nn,deactivated:nn,errorCaptured:nn,serverPrefetch:nn,components:cs,directives:cs,watch:$0,provide:Hl,inject:Z0};function Hl(r,o){return o?r?function(){return Ut(We(r)?r.call(this,this):r,We(o)?o.call(this,this):o)}:o:r}function Z0(r,o){return cs(Ia(r),Ia(o))}function Ia(r){if(Be(r)){const o={};for(let l=0;l<r.length;l++)o[r[l]]=r[l];return o}return r}function nn(r,o){return r?[...new Set([].concat(r,o))]:o}function cs(r,o){return r?Ut(Object.create(null),r,o):o}function Wl(r,o){return r?Be(r)&&Be(o)?[...new Set([...r,...o])]:Ut(Object.create(null),Ul(r),Ul(o??{})):o}function $0(r,o){if(!r)return o;if(!o)return r;const l=Ut(Object.create(null),r);for(const f in o)l[f]=nn(r[f],o[f]);return l}function s1(){return{app:null,config:{isNativeTag:pf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let q0=0;function Q0(r,o){return function(f,d=null){We(f)||(f=Ut({},f)),d!=null&&!wt(d)&&(d=null);const h=s1(),m=new Set;let C=!1;const y=h.app={_uid:q0++,_component:f,_props:d,_container:null,_context:h,_instance:null,version:Sh,get config(){return h.config},set config(E){},use(E,...I){return m.has(E)||(E&&We(E.install)?(m.add(E),E.install(y,...I)):We(E)&&(m.add(E),E(y,...I))),y},mixin(E){return h.mixins.includes(E)||h.mixins.push(E),y},component(E,I){return I?(h.components[E]=I,y):h.components[E]},directive(E,I){return I?(h.directives[E]=I,y):h.directives[E]},mount(E,I,D){if(!C){const $=Gn(f,d);return $.appContext=h,I&&o?o($,E):r($,E,D),C=!0,y._container=E,E.__vue_app__=y,Ro($.component)||$.component.proxy}},unmount(){C&&(r(null,y._container),delete y._container.__vue_app__)},provide(E,I){return h.provides[E]=I,y},runWithContext(E){fo=y;try{return E()}finally{fo=null}}};return y}}let fo=null;function J0(r,o){if(Yt){let l=Yt.provides;const f=Yt.parent&&Yt.parent.provides;f===l&&(l=Yt.provides=Object.create(f)),l[r]=o}}function eo(r,o,l=!1){const f=Yt||Dn;if(f||fo){const d=f?f.parent==null?f.vnode.appContext&&f.vnode.appContext.provides:f.parent.provides:fo._context.provides;if(d&&r in d)return d[r];if(arguments.length>1)return l&&We(o)?o.call(f&&f.proxy):o}}function eh(r,o,l,f=!1){const d={},h={};so(h,vo,1),r.propsDefaults=Object.create(null),o1(r,o,d,h);for(const m in r.propsOptions[0])m in d||(d[m]=void 0);l?r.props=f?d:i0(d):r.type.props?r.props=d:r.props=h,r.attrs=h}function th(r,o,l,f){const{props:d,attrs:h,vnode:{patchFlag:m}}=r,C=ot(d),[y]=r.propsOptions;let E=!1;if((f||m>0)&&!(m&16)){if(m&8){const I=r.vnode.dynamicProps;for(let D=0;D<I.length;D++){let $=I[D];if(Io(r.emitsOptions,$))continue;const z=o[$];if(y)if(nt(h,$))z!==h[$]&&(h[$]=z,E=!0);else{const Ae=nr($);d[Ae]=Sa(y,C,Ae,z,r,!1)}else z!==h[$]&&(h[$]=z,E=!0)}}}else{o1(r,o,d,h)&&(E=!0);let I;for(const D in C)(!o||!nt(o,D)&&((I=Fi(D))===D||!nt(o,I)))&&(y?l&&(l[D]!==void 0||l[I]!==void 0)&&(d[D]=Sa(y,C,D,void 0,r,!0)):delete d[D]);if(h!==C)for(const D in h)(!o||!nt(o,D))&&(delete h[D],E=!0)}E&&mr(r,"set","$attrs")}function o1(r,o,l,f){const[d,h]=r.propsOptions;let m=!1,C;if(o)for(let y in o){if(qs(y))continue;const E=o[y];let I;d&&nt(d,I=nr(y))?!h||!h.includes(I)?l[I]=E:(C||(C={}))[I]=E:Io(r.emitsOptions,y)||(!(y in f)||E!==f[y])&&(f[y]=E,m=!0)}if(h){const y=ot(l),E=C||Et;for(let I=0;I<h.length;I++){const D=h[I];l[D]=Sa(d,y,D,E[D],r,!nt(E,D))}}return m}function Sa(r,o,l,f,d,h){const m=r[l];if(m!=null){const C=nt(m,"default");if(C&&f===void 0){const y=m.default;if(m.type!==Function&&!m.skipFactory&&We(y)){const{propsDefaults:E}=d;l in E?f=E[l]:(Ri(d),f=E[l]=y.call(null,o),ti())}else f=y}m[0]&&(h&&!C?f=!1:m[1]&&(f===""||f===Fi(l))&&(f=!0))}return f}function a1(r,o,l=!1){const f=o.propsCache,d=f.get(r);if(d)return d;const h=r.props,m={},C=[];let y=!1;if(!We(r)){const I=D=>{y=!0;const[$,z]=a1(D,o,!0);Ut(m,$),z&&C.push(...z)};!l&&o.mixins.length&&o.mixins.forEach(I),r.extends&&I(r.extends),r.mixins&&r.mixins.forEach(I)}if(!h&&!y)return wt(r)&&f.set(r,Ti),Ti;if(Be(h))for(let I=0;I<h.length;I++){const D=nr(h[I]);Gl(D)&&(m[D]=Et)}else if(h)for(const I in h){const D=nr(I);if(Gl(D)){const $=h[I],z=m[D]=Be($)||We($)?{type:$}:Ut({},$);if(z){const Ae=jl(Boolean,z.type),J=jl(String,z.type);z[0]=Ae>-1,z[1]=J<0||Ae<J,(Ae>-1||nt(z,"default"))&&C.push(D)}}}const E=[m,C];return wt(r)&&f.set(r,E),E}function Gl(r){return r[0]!=="$"}function Xl(r){const o=r&&r.toString().match(/^\s*(function|class) (\w+)/);return o?o[2]:r===null?"null":""}function Yl(r,o){return Xl(r)===Xl(o)}function jl(r,o){return Be(o)?o.findIndex(l=>Yl(l,r)):We(o)&&Yl(o,r)?0:-1}const l1=r=>r[0]==="_"||r==="$stable",Qa=r=>Be(r)?r.map(Jn):[Jn(r)],nh=(r,o,l)=>{if(o._n)return o;const f=A0((...d)=>Qa(o(...d)),l);return f._c=!1,f},c1=(r,o,l)=>{const f=r._ctx;for(const d in r){if(l1(d))continue;const h=r[d];if(We(h))o[d]=nh(d,h,f);else if(h!=null){const m=Qa(h);o[d]=()=>m}}},u1=(r,o)=>{const l=Qa(o);r.slots.default=()=>l},rh=(r,o)=>{if(r.vnode.shapeFlag&32){const l=o._;l?(r.slots=ot(o),so(o,"_",l)):c1(o,r.slots={})}else r.slots={},o&&u1(r,o);so(r.slots,vo,1)},ih=(r,o,l)=>{const{vnode:f,slots:d}=r;let h=!0,m=Et;if(f.shapeFlag&32){const C=o._;C?l&&C===1?h=!1:(Ut(d,o),!l&&C===1&&delete d._):(h=!o.$stable,c1(o,d)),m=o}else o&&(u1(r,o),m={default:1});if(h)for(const C in d)!l1(C)&&!(C in m)&&delete d[C]};function Na(r,o,l,f,d=!1){if(Be(r)){r.forEach(($,z)=>Na($,o&&(Be(o)?o[z]:o),l,f,d));return}if(Js(f)&&!d)return;const h=f.shapeFlag&4?Ro(f.component)||f.component.proxy:f.el,m=d?null:h,{i:C,r:y}=r,E=o&&o.r,I=C.refs===Et?C.refs={}:C.refs,D=C.setupState;if(E!=null&&E!==y&&(Lt(E)?(I[E]=null,nt(D,E)&&(D[E]=null)):qt(E)&&(E.value=null)),We(y))Rr(y,C,12,[m,I]);else{const $=Lt(y),z=qt(y);if($||z){const Ae=()=>{if(r.f){const J=$?nt(D,y)?D[y]:I[y]:y.value;d?Be(J)&&Fa(J,h):Be(J)?J.includes(h)||J.push(h):$?(I[y]=[h],nt(D,y)&&(D[y]=I[y])):(y.value=[h],r.k&&(I[r.k]=y.value))}else $?(I[y]=m,nt(D,y)&&(D[y]=m)):z&&(y.value=m,r.k&&(I[r.k]=m))};m?(Ae.id=-1,fn(Ae,l)):Ae()}}}const fn=S0;function sh(r){return oh(r)}function oh(r,o){const l=Ea();l.__VUE__=!0;const{insert:f,remove:d,patchProp:h,createElement:m,createText:C,createComment:y,setText:E,setElementText:I,parentNode:D,nextSibling:$,setScopeId:z=Hn,insertStaticContent:Ae}=r,J=(v,M,W,Y=null,Z=null,ne=null,ee=!1,G=null,U=!!M.dynamicChildren)=>{if(v===M)return;v&&!os(v,M)&&(Y=jt(v),Ze(v,Z,ne,!0),v=null),M.patchFlag===-2&&(U=!1,M.dynamicChildren=null);const{type:B,ref:Ce,shapeFlag:me}=M;switch(B){case Oo:de(v,M,W,Y);break;case ri:be(v,M,W,Y);break;case to:v==null&&he(M,W,Y,ee);break;case hn:_e(v,M,W,Y,Z,ne,ee,G,U);break;default:me&1?Re(v,M,W,Y,Z,ne,ee,G,U):me&6?Se(v,M,W,Y,Z,ne,ee,G,U):(me&64||me&128)&&B.process(v,M,W,Y,Z,ne,ee,G,U,Bt)}Ce!=null&&Z&&Na(Ce,v&&v.ref,ne,M||v,!M)},de=(v,M,W,Y)=>{if(v==null)f(M.el=C(M.children),W,Y);else{const Z=M.el=v.el;M.children!==v.children&&E(Z,M.children)}},be=(v,M,W,Y)=>{v==null?f(M.el=y(M.children||""),W,Y):M.el=v.el},he=(v,M,W,Y)=>{[v.el,v.anchor]=Ae(v.children,M,W,Y,v.el,v.anchor)},ae=({el:v,anchor:M},W,Y)=>{let Z;for(;v&&v!==M;)Z=$(v),f(v,W,Y),v=Z;f(M,W,Y)},Q=({el:v,anchor:M})=>{let W;for(;v&&v!==M;)W=$(v),d(v),v=W;d(M)},Re=(v,M,W,Y,Z,ne,ee,G,U)=>{ee=ee||M.type==="svg",v==null?we(M,W,Y,Z,ne,ee,G,U):j(v,M,Z,ne,ee,G,U)},we=(v,M,W,Y,Z,ne,ee,G)=>{let U,B;const{type:Ce,props:me,shapeFlag:pe,transition:Ne,dirs:Oe}=v;if(U=v.el=m(v.type,ne,me&&me.is,me),pe&8?I(U,v.children):pe&16&&Te(v.children,U,null,Y,Z,ne&&Ce!=="foreignObject",ee,G),Oe&&Kr(v,null,Y,"created"),q(U,v,v.scopeId,ee,Y),me){for(const Ue in me)Ue!=="value"&&!qs(Ue)&&h(U,Ue,null,me[Ue],ne,v.children,Y,Z,ge);"value"in me&&h(U,"value",null,me.value),(B=me.onVnodeBeforeMount)&&Qn(B,Y,v)}Oe&&Kr(v,null,Y,"beforeMount");const qe=(!Z||Z&&!Z.pendingBranch)&&Ne&&!Ne.persisted;qe&&Ne.beforeEnter(U),f(U,M,W),((B=me&&me.onVnodeMounted)||qe||Oe)&&fn(()=>{B&&Qn(B,Y,v),qe&&Ne.enter(U),Oe&&Kr(v,null,Y,"mounted")},Z)},q=(v,M,W,Y,Z)=>{if(W&&z(v,W),Y)for(let ne=0;ne<Y.length;ne++)z(v,Y[ne]);if(Z){let ne=Z.subTree;if(M===ne){const ee=Z.vnode;q(v,ee,ee.scopeId,ee.slotScopeIds,Z.parent)}}},Te=(v,M,W,Y,Z,ne,ee,G,U=0)=>{for(let B=U;B<v.length;B++){const Ce=v[B]=G?Or(v[B]):Jn(v[B]);J(null,Ce,M,W,Y,Z,ne,ee,G)}},j=(v,M,W,Y,Z,ne,ee)=>{const G=M.el=v.el;let{patchFlag:U,dynamicChildren:B,dirs:Ce}=M;U|=v.patchFlag&16;const me=v.props||Et,pe=M.props||Et;let Ne;W&&Zr(W,!1),(Ne=pe.onVnodeBeforeUpdate)&&Qn(Ne,W,M,v),Ce&&Kr(M,v,W,"beforeUpdate"),W&&Zr(W,!0);const Oe=Z&&M.type!=="foreignObject";if(B?Pe(v.dynamicChildren,B,G,W,Y,Oe,ne):ee||Ge(v,M,G,null,W,Y,Oe,ne,!1),U>0){if(U&16)De(G,M,me,pe,W,Y,Z);else if(U&2&&me.class!==pe.class&&h(G,"class",null,pe.class,Z),U&4&&h(G,"style",me.style,pe.style,Z),U&8){const qe=M.dynamicProps;for(let Ue=0;Ue<qe.length;Ue++){const Ve=qe[Ue],zt=me[Ve],yn=pe[Ve];(yn!==zt||Ve==="value")&&h(G,Ve,zt,yn,Z,v.children,W,Y,ge)}}U&1&&v.children!==M.children&&I(G,M.children)}else!ee&&B==null&&De(G,M,me,pe,W,Y,Z);((Ne=pe.onVnodeUpdated)||Ce)&&fn(()=>{Ne&&Qn(Ne,W,M,v),Ce&&Kr(M,v,W,"updated")},Y)},Pe=(v,M,W,Y,Z,ne,ee)=>{for(let G=0;G<M.length;G++){const U=v[G],B=M[G],Ce=U.el&&(U.type===hn||!os(U,B)||U.shapeFlag&70)?D(U.el):W;J(U,B,Ce,null,Y,Z,ne,ee,!0)}},De=(v,M,W,Y,Z,ne,ee)=>{if(W!==Y){if(W!==Et)for(const G in W)!qs(G)&&!(G in Y)&&h(v,G,W[G],null,ee,M.children,Z,ne,ge);for(const G in Y){if(qs(G))continue;const U=Y[G],B=W[G];U!==B&&G!=="value"&&h(v,G,B,U,ee,M.children,Z,ne,ge)}"value"in Y&&h(v,"value",W.value,Y.value)}},_e=(v,M,W,Y,Z,ne,ee,G,U)=>{const B=M.el=v?v.el:C(""),Ce=M.anchor=v?v.anchor:C("");let{patchFlag:me,dynamicChildren:pe,slotScopeIds:Ne}=M;Ne&&(G=G?G.concat(Ne):Ne),v==null?(f(B,W,Y),f(Ce,W,Y),Te(M.children,W,Ce,Z,ne,ee,G,U)):me>0&&me&64&&pe&&v.dynamicChildren?(Pe(v.dynamicChildren,pe,W,Z,ne,ee,G),(M.key!=null||Z&&M===Z.subTree)&&f1(v,M,!0)):Ge(v,M,W,Ce,Z,ne,ee,G,U)},Se=(v,M,W,Y,Z,ne,ee,G,U)=>{M.slotScopeIds=G,v==null?M.shapeFlag&512?Z.ctx.activate(M,W,Y,ee,U):rt(M,W,Y,Z,ne,ee,U):H(v,M,U)},rt=(v,M,W,Y,Z,ne,ee)=>{const G=v.component=mh(v,Y,Z);if(Jc(v)&&(G.ctx.renderer=Bt),Eh(G),G.asyncDep){if(Z&&Z.registerDep(G,Me),!v.el){const U=G.subTree=Gn(ri);be(null,U,M,W)}return}Me(G,v,M,W,Z,ne,ee)},H=(v,M,W)=>{const Y=M.component=v.component;if(y0(v,M,W))if(Y.asyncDep&&!Y.asyncResolved){fe(Y,M,W);return}else Y.next=M,p0(Y.update),Y.update();else M.el=v.el,Y.vnode=M},Me=(v,M,W,Y,Z,ne,ee)=>{const G=()=>{if(v.isMounted){let{next:Ce,bu:me,u:pe,parent:Ne,vnode:Oe}=v,qe=Ce,Ue;Zr(v,!1),Ce?(Ce.el=Oe.el,fe(v,Ce,ee)):Ce=Oe,me&&Qs(me),(Ue=Ce.props&&Ce.props.onVnodeBeforeUpdate)&&Qn(Ue,Ne,Ce,Oe),Zr(v,!0);const Ve=ha(v),zt=v.subTree;v.subTree=Ve,J(zt,Ve,D(zt.el),jt(zt),v,Z,ne),Ce.el=Ve.el,qe===null&&T0(v,Ve.el),pe&&fn(pe,Z),(Ue=Ce.props&&Ce.props.onVnodeUpdated)&&fn(()=>Qn(Ue,Ne,Ce,Oe),Z)}else{let Ce;const{el:me,props:pe}=M,{bm:Ne,m:Oe,parent:qe}=v,Ue=Js(M);if(Zr(v,!1),Ne&&Qs(Ne),!Ue&&(Ce=pe&&pe.onVnodeBeforeMount)&&Qn(Ce,qe,M),Zr(v,!0),me&&X){const Ve=()=>{v.subTree=ha(v),X(me,v.subTree,v,Z,null)};Ue?M.type.__asyncLoader().then(()=>!v.isUnmounted&&Ve()):Ve()}else{const Ve=v.subTree=ha(v);J(null,Ve,W,Y,v,Z,ne),M.el=Ve.el}if(Oe&&fn(Oe,Z),!Ue&&(Ce=pe&&pe.onVnodeMounted)){const Ve=M;fn(()=>Qn(Ce,qe,Ve),Z)}(M.shapeFlag&256||qe&&Js(qe.vnode)&&qe.vnode.shapeFlag&256)&&v.a&&fn(v.a,Z),v.isMounted=!0,M=W=Y=null}},U=v.effect=new Wa(G,()=>$a(B),v.scope),B=v.update=()=>U.run();B.id=v.uid,Zr(v,!0),B()},fe=(v,M,W)=>{M.component=v;const Y=v.vnode.props;v.vnode=M,v.next=null,th(v,M.props,Y,W),ih(v,M.children,W),ki(),Pl(),Ui()},Ge=(v,M,W,Y,Z,ne,ee,G,U=!1)=>{const B=v&&v.children,Ce=v?v.shapeFlag:0,me=M.children,{patchFlag:pe,shapeFlag:Ne}=M;if(pe>0){if(pe&128){Nt(B,me,W,Y,Z,ne,ee,G,U);return}else if(pe&256){ht(B,me,W,Y,Z,ne,ee,G,U);return}}Ne&8?(Ce&16&&ge(B,Z,ne),me!==B&&I(W,me)):Ce&16?Ne&16?Nt(B,me,W,Y,Z,ne,ee,G,U):ge(B,Z,ne,!0):(Ce&8&&I(W,""),Ne&16&&Te(me,W,Y,Z,ne,ee,G,U))},ht=(v,M,W,Y,Z,ne,ee,G,U)=>{v=v||Ti,M=M||Ti;const B=v.length,Ce=M.length,me=Math.min(B,Ce);let pe;for(pe=0;pe<me;pe++){const Ne=M[pe]=U?Or(M[pe]):Jn(M[pe]);J(v[pe],Ne,W,null,Z,ne,ee,G,U)}B>Ce?ge(v,Z,ne,!0,!1,me):Te(M,W,Y,Z,ne,ee,G,U,me)},Nt=(v,M,W,Y,Z,ne,ee,G,U)=>{let B=0;const Ce=M.length;let me=v.length-1,pe=Ce-1;for(;B<=me&&B<=pe;){const Ne=v[B],Oe=M[B]=U?Or(M[B]):Jn(M[B]);if(os(Ne,Oe))J(Ne,Oe,W,null,Z,ne,ee,G,U);else break;B++}for(;B<=me&&B<=pe;){const Ne=v[me],Oe=M[pe]=U?Or(M[pe]):Jn(M[pe]);if(os(Ne,Oe))J(Ne,Oe,W,null,Z,ne,ee,G,U);else break;me--,pe--}if(B>me){if(B<=pe){const Ne=pe+1,Oe=Ne<Ce?M[Ne].el:Y;for(;B<=pe;)J(null,M[B]=U?Or(M[B]):Jn(M[B]),W,Oe,Z,ne,ee,G,U),B++}}else if(B>pe)for(;B<=me;)Ze(v[B],Z,ne,!0),B++;else{const Ne=B,Oe=B,qe=new Map;for(B=Oe;B<=pe;B++){const Ke=M[B]=U?Or(M[B]):Jn(M[B]);Ke.key!=null&&qe.set(Ke.key,B)}let Ue,Ve=0;const zt=pe-Oe+1;let yn=!1,oi=0;const ut=new Array(zt);for(B=0;B<zt;B++)ut[B]=0;for(B=Ne;B<=me;B++){const Ke=v[B];if(Ve>=zt){Ze(Ke,Z,ne,!0);continue}let Xe;if(Ke.key!=null)Xe=qe.get(Ke.key);else for(Ue=Oe;Ue<=pe;Ue++)if(ut[Ue-Oe]===0&&os(Ke,M[Ue])){Xe=Ue;break}Xe===void 0?Ze(Ke,Z,ne,!0):(ut[Xe-Oe]=B+1,Xe>=oi?oi=Xe:yn=!0,J(Ke,M[Xe],W,null,Z,ne,ee,G,U),Ve++)}const ce=yn?ah(ut):Ti;for(Ue=ce.length-1,B=zt-1;B>=0;B--){const Ke=Oe+B,Xe=M[Ke],st=Ke+1<Ce?M[Ke+1].el:Y;ut[B]===0?J(null,Xe,W,st,Z,ne,ee,G,U):yn&&(Ue<0||B!==ce[Ue]?Vt(Xe,W,st,2):Ue--)}}},Vt=(v,M,W,Y,Z=null)=>{const{el:ne,type:ee,transition:G,children:U,shapeFlag:B}=v;if(B&6){Vt(v.component.subTree,M,W,Y);return}if(B&128){v.suspense.move(M,W,Y);return}if(B&64){ee.move(v,M,W,Bt);return}if(ee===hn){f(ne,M,W);for(let me=0;me<U.length;me++)Vt(U[me],M,W,Y);f(v.anchor,M,W);return}if(ee===to){ae(v,M,W);return}if(Y!==2&&B&1&&G)if(Y===0)G.beforeEnter(ne),f(ne,M,W),fn(()=>G.enter(ne),Z);else{const{leave:me,delayLeave:pe,afterLeave:Ne}=G,Oe=()=>f(ne,M,W),qe=()=>{me(ne,()=>{Oe(),Ne&&Ne()})};pe?pe(ne,Oe,qe):qe()}else f(ne,M,W)},Ze=(v,M,W,Y=!1,Z=!1)=>{const{type:ne,props:ee,ref:G,children:U,dynamicChildren:B,shapeFlag:Ce,patchFlag:me,dirs:pe}=v;if(G!=null&&Na(G,null,W,v,!0),Ce&256){M.ctx.deactivate(v);return}const Ne=Ce&1&&pe,Oe=!Js(v);let qe;if(Oe&&(qe=ee&&ee.onVnodeBeforeUnmount)&&Qn(qe,M,v),Ce&6)Wt(v.component,W,Y);else{if(Ce&128){v.suspense.unmount(W,Y);return}Ne&&Kr(v,null,M,"beforeUnmount"),Ce&64?v.type.remove(v,M,W,Z,Bt,Y):B&&(ne!==hn||me>0&&me&64)?ge(B,M,W,!1,!0):(ne===hn&&me&384||!Z&&Ce&16)&&ge(U,M,W),Y&&Ht(v)}(Oe&&(qe=ee&&ee.onVnodeUnmounted)||Ne)&&fn(()=>{qe&&Qn(qe,M,v),Ne&&Kr(v,null,M,"unmounted")},W)},Ht=v=>{const{type:M,el:W,anchor:Y,transition:Z}=v;if(M===hn){dt(W,Y);return}if(M===to){Q(v);return}const ne=()=>{d(W),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(v.shapeFlag&1&&Z&&!Z.persisted){const{leave:ee,delayLeave:G}=Z,U=()=>ee(W,ne);G?G(v.el,ne,U):U()}else ne()},dt=(v,M)=>{let W;for(;v!==M;)W=$(v),d(v),v=W;d(M)},Wt=(v,M,W)=>{const{bum:Y,scope:Z,update:ne,subTree:ee,um:G}=v;Y&&Qs(Y),Z.stop(),ne&&(ne.active=!1,Ze(ee,v,M,W)),G&&fn(G,M),fn(()=>{v.isUnmounted=!0},M),M&&M.pendingBranch&&!M.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===M.pendingId&&(M.deps--,M.deps===0&&M.resolve())},ge=(v,M,W,Y=!1,Z=!1,ne=0)=>{for(let ee=ne;ee<v.length;ee++)Ze(v[ee],M,W,Y,Z)},jt=v=>v.shapeFlag&6?jt(v.component.subTree):v.shapeFlag&128?v.suspense.next():$(v.anchor||v.el),Je=(v,M,W)=>{v==null?M._vnode&&Ze(M._vnode,null,null,!0):J(M._vnode||null,v,M,null,null,null,W),Pl(),Kc(),M._vnode=v},Bt={p:J,um:Ze,m:Vt,r:Ht,mt:rt,mc:Te,pc:Ge,pbc:Pe,n:jt,o:r};let on,X;return o&&([on,X]=o(Bt)),{render:Je,hydrate:on,createApp:Q0(Je,on)}}function Zr({effect:r,update:o},l){r.allowRecurse=o.allowRecurse=l}function f1(r,o,l=!1){const f=r.children,d=o.children;if(Be(f)&&Be(d))for(let h=0;h<f.length;h++){const m=f[h];let C=d[h];C.shapeFlag&1&&!C.dynamicChildren&&((C.patchFlag<=0||C.patchFlag===32)&&(C=d[h]=Or(d[h]),C.el=m.el),l||f1(m,C)),C.type===Oo&&(C.el=m.el)}}function ah(r){const o=r.slice(),l=[0];let f,d,h,m,C;const y=r.length;for(f=0;f<y;f++){const E=r[f];if(E!==0){if(d=l[l.length-1],r[d]<E){o[f]=d,l.push(f);continue}for(h=0,m=l.length-1;h<m;)C=h+m>>1,r[l[C]]<E?h=C+1:m=C;E<r[l[h]]&&(h>0&&(o[f]=l[h-1]),l[h]=f)}}for(h=l.length,m=l[h-1];h-- >0;)l[h]=m,m=o[m];return l}const lh=r=>r.__isTeleport,hn=Symbol.for("v-fgt"),Oo=Symbol.for("v-txt"),ri=Symbol.for("v-cmt"),to=Symbol.for("v-stc"),fs=[];let Vn=null;function dn(r=!1){fs.push(Vn=r?null:[])}function ch(){fs.pop(),Vn=fs[fs.length-1]||null}let ws=1;function zl(r){ws+=r}function h1(r){return r.dynamicChildren=ws>0?Vn||Ti:null,ch(),ws>0&&Vn&&Vn.push(r),r}function Un(r,o,l,f,d,h){return h1(se(r,o,l,f,d,h,!0))}function Ja(r,o,l,f,d){return h1(Gn(r,o,l,f,d,!0))}function uh(r){return r?r.__v_isVNode===!0:!1}function os(r,o){return r.type===o.type&&r.key===o.key}const vo="__vInternal",d1=({key:r})=>r??null,no=({ref:r,ref_key:o,ref_for:l})=>(typeof r=="number"&&(r=""+r),r!=null?Lt(r)||qt(r)||We(r)?{i:Dn,r,k:o,f:!!l}:r:null);function se(r,o=null,l=null,f=0,d=null,h=r===hn?0:1,m=!1,C=!1){const y={__v_isVNode:!0,__v_skip:!0,type:r,props:o,key:o&&d1(o),ref:o&&no(o),scopeId:So,slotScopeIds:null,children:l,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:f,dynamicProps:d,dynamicChildren:null,appContext:null,ctx:Dn};return C?(el(y,l),h&128&&r.normalize(y)):l&&(y.shapeFlag|=Lt(l)?8:16),ws>0&&!m&&Vn&&(y.patchFlag>0||h&6)&&y.patchFlag!==32&&Vn.push(y),y}const Gn=fh;function fh(r,o=null,l=null,f=0,d=null,h=!1){if((!r||r===G0)&&(r=ri),uh(r)){const C=vi(r,o,!0);return l&&el(C,l),ws>0&&!h&&Vn&&(C.shapeFlag&6?Vn[Vn.indexOf(r)]=C:Vn.push(C)),C.patchFlag|=-2,C}if(bh(r)&&(r=r.__vccOpts),o){o=hh(o);let{class:C,style:y}=o;C&&!Lt(C)&&(o.class=Va(C)),wt(y)&&(Hc(y)&&!Be(y)&&(y=Ut({},y)),o.style=Ua(y))}const m=Lt(r)?1:I0(r)?128:lh(r)?64:wt(r)?4:We(r)?2:0;return se(r,o,l,f,d,m,h,!0)}function hh(r){return r?Hc(r)||vo in r?Ut({},r):r:null}function vi(r,o,l=!1){const{props:f,ref:d,patchFlag:h,children:m}=r,C=o?gh(f||{},o):f;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:C,key:C&&d1(C),ref:o&&o.ref?l&&d?Be(d)?d.concat(no(o)):[d,no(o)]:no(o):d,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:m,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:o&&r.type!==hn?h===-1?16:h|16:h,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&vi(r.ssContent),ssFallback:r.ssFallback&&vi(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce}}function xr(r=" ",o=0){return Gn(Oo,null,r,o)}function dh(r,o){const l=Gn(to,null,r);return l.staticCount=o,l}function ro(r="",o=!1){return o?(dn(),Ja(ri,null,r)):Gn(ri,null,r)}function Jn(r){return r==null||typeof r=="boolean"?Gn(ri):Be(r)?Gn(hn,null,r.slice()):typeof r=="object"?Or(r):Gn(Oo,null,String(r))}function Or(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:vi(r)}function el(r,o){let l=0;const{shapeFlag:f}=r;if(o==null)o=null;else if(Be(o))l=16;else if(typeof o=="object")if(f&65){const d=o.default;d&&(d._c&&(d._d=!1),el(r,d()),d._c&&(d._d=!0));return}else{l=32;const d=o._;!d&&!(vo in o)?o._ctx=Dn:d===3&&Dn&&(Dn.slots._===1?o._=1:(o._=2,r.patchFlag|=1024))}else We(o)?(o={default:o,_ctx:Dn},l=32):(o=String(o),f&64?(l=16,o=[xr(o)]):l=8);r.children=o,r.shapeFlag|=l}function gh(...r){const o={};for(let l=0;l<r.length;l++){const f=r[l];for(const d in f)if(d==="class")o.class!==f.class&&(o.class=Va([o.class,f.class]));else if(d==="style")o.style=Ua([o.style,f.style]);else if(wo(d)){const h=o[d],m=f[d];m&&h!==m&&!(Be(h)&&h.includes(m))&&(o[d]=h?[].concat(h,m):m)}else d!==""&&(o[d]=f[d])}return o}function Qn(r,o,l,f=null){Wn(r,o,7,[l,f])}const ph=s1();let xh=0;function mh(r,o,l){const f=r.type,d=(o?o.appContext:r.appContext)||ph,h={uid:xh++,vnode:r,type:f,parent:o,appContext:d,root:null,next:null,subTree:null,effect:null,update:null,scope:new Of(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:o?o.provides:Object.create(d.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:a1(f,d),emitsOptions:$c(f,d),emit:null,emitted:null,propsDefaults:Et,inheritAttrs:f.inheritAttrs,ctx:Et,data:Et,props:Et,attrs:Et,slots:Et,refs:Et,setupState:Et,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:l,suspenseId:l?l.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=o?o.root:h,h.emit=E0.bind(null,h),r.ce&&r.ce(h),h}let Yt=null,tl,_i,Kl="__VUE_INSTANCE_SETTERS__";(_i=Ea()[Kl])||(_i=Ea()[Kl]=[]),_i.push(r=>Yt=r),tl=r=>{_i.length>1?_i.forEach(o=>o(r)):_i[0](r)};const Ri=r=>{tl(r),r.scope.on()},ti=()=>{Yt&&Yt.scope.off(),tl(null)};function g1(r){return r.vnode.shapeFlag&4}let _s=!1;function Eh(r,o=!1){_s=o;const{props:l,children:f}=r.vnode,d=g1(r);eh(r,l,d,o),rh(r,f);const h=d?wh(r,o):void 0;return _s=!1,h}function wh(r,o){const l=r.type;r.accessCache=Object.create(null),r.proxy=Wc(new Proxy(r.ctx,Y0));const{setup:f}=l;if(f){const d=r.setupContext=f.length>1?Ah(r):null;Ri(r),ki();const h=Rr(f,r,0,[r.props,d]);if(Ui(),ti(),Tc(h)){if(h.then(ti,ti),o)return h.then(m=>{Zl(r,m,o)}).catch(m=>{To(m,r,0)});r.asyncDep=h}else Zl(r,h,o)}else p1(r,o)}function Zl(r,o,l){We(o)?r.type.__ssrInlineRender?r.ssrRender=o:r.render=o:wt(o)&&(r.setupState=Yc(o)),p1(r,l)}let $l;function p1(r,o,l){const f=r.type;if(!r.render){if(!o&&$l&&!f.render){const d=f.template||qa(r).template;if(d){const{isCustomElement:h,compilerOptions:m}=r.appContext.config,{delimiters:C,compilerOptions:y}=f,E=Ut(Ut({isCustomElement:h,delimiters:C},m),y);f.render=$l(d,E)}}r.render=f.render||Hn}Ri(r),ki(),j0(r),Ui(),ti()}function _h(r){return r.attrsProxy||(r.attrsProxy=new Proxy(r.attrs,{get(o,l){return gn(r,"get","$attrs"),o[l]}}))}function Ah(r){const o=l=>{r.exposed=l||{}};return{get attrs(){return _h(r)},slots:r.slots,emit:r.emit,expose:o}}function Ro(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(Yc(Wc(r.exposed)),{get(o,l){if(l in o)return o[l];if(l in us)return us[l](r)},has(o,l){return l in o||l in us}}))}function Ch(r,o=!0){return We(r)?r.displayName||r.name:r.name||o&&r.__name}function bh(r){return We(r)&&"__vccOpts"in r}const yh=(r,o)=>f0(r,o,_s),Th=Symbol.for("v-scx"),Ih=()=>eo(Th),Sh="3.3.4",Nh="http://www.w3.org/2000/svg",qr=typeof document<"u"?document:null,ql=qr&&qr.createElement("template"),Oh={insert:(r,o,l)=>{o.insertBefore(r,l||null)},remove:r=>{const o=r.parentNode;o&&o.removeChild(r)},createElement:(r,o,l,f)=>{const d=o?qr.createElementNS(Nh,r):qr.createElement(r,l?{is:l}:void 0);return r==="select"&&f&&f.multiple!=null&&d.setAttribute("multiple",f.multiple),d},createText:r=>qr.createTextNode(r),createComment:r=>qr.createComment(r),setText:(r,o)=>{r.nodeValue=o},setElementText:(r,o)=>{r.textContent=o},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>qr.querySelector(r),setScopeId(r,o){r.setAttribute(o,"")},insertStaticContent(r,o,l,f,d,h){const m=l?l.previousSibling:o.lastChild;if(d&&(d===h||d.nextSibling))for(;o.insertBefore(d.cloneNode(!0),l),!(d===h||!(d=d.nextSibling)););else{ql.innerHTML=f?`<svg>${r}</svg>`:r;const C=ql.content;if(f){const y=C.firstChild;for(;y.firstChild;)C.appendChild(y.firstChild);C.removeChild(y)}o.insertBefore(C,l)}return[m?m.nextSibling:o.firstChild,l?l.previousSibling:o.lastChild]}};function vh(r,o,l){const f=r._vtc;f&&(o=(o?[o,...f]:[...f]).join(" ")),o==null?r.removeAttribute("class"):l?r.setAttribute("class",o):r.className=o}function Rh(r,o,l){const f=r.style,d=Lt(l);if(l&&!d){if(o&&!Lt(o))for(const h in o)l[h]==null&&Oa(f,h,"");for(const h in l)Oa(f,h,l[h])}else{const h=f.display;d?o!==l&&(f.cssText=l):o&&r.removeAttribute("style"),"_vod"in r&&(f.display=h)}}const Ql=/\s*!important$/;function Oa(r,o,l){if(Be(l))l.forEach(f=>Oa(r,o,f));else if(l==null&&(l=""),o.startsWith("--"))r.setProperty(o,l);else{const f=Dh(r,o);Ql.test(l)?r.setProperty(Fi(f),l.replace(Ql,""),"important"):r[f]=l}}const Jl=["Webkit","Moz","ms"],pa={};function Dh(r,o){const l=pa[o];if(l)return l;let f=nr(o);if(f!=="filter"&&f in r)return pa[o]=f;f=Co(f);for(let d=0;d<Jl.length;d++){const h=Jl[d]+f;if(h in r)return pa[o]=h}return o}const ec="http://www.w3.org/1999/xlink";function Mh(r,o,l,f,d){if(f&&o.startsWith("xlink:"))l==null?r.removeAttributeNS(ec,o.slice(6,o.length)):r.setAttributeNS(ec,o,l);else{const h=If(o);l==null||h&&!Nc(l)?r.removeAttribute(o):r.setAttribute(o,h?"":l)}}function Lh(r,o,l,f,d,h,m){if(o==="innerHTML"||o==="textContent"){f&&m(f,d,h),r[o]=l??"";return}const C=r.tagName;if(o==="value"&&C!=="PROGRESS"&&!C.includes("-")){r._value=l;const E=C==="OPTION"?r.getAttribute("value"):r.value,I=l??"";E!==I&&(r.value=I),l==null&&r.removeAttribute(o);return}let y=!1;if(l===""||l==null){const E=typeof r[o];E==="boolean"?l=Nc(l):l==null&&E==="string"?(l="",y=!0):E==="number"&&(l=0,y=!0)}try{r[o]=l}catch{}y&&r.removeAttribute(o)}function Qr(r,o,l,f){r.addEventListener(o,l,f)}function Bh(r,o,l,f){r.removeEventListener(o,l,f)}function Ph(r,o,l,f,d=null){const h=r._vei||(r._vei={}),m=h[o];if(f&&m)m.value=f;else{const[C,y]=Fh(o);if(f){const E=h[o]=Vh(f,d);Qr(r,C,E,y)}else m&&(Bh(r,C,m,y),h[o]=void 0)}}const tc=/(?:Once|Passive|Capture)$/;function Fh(r){let o;if(tc.test(r)){o={};let f;for(;f=r.match(tc);)r=r.slice(0,r.length-f[0].length),o[f[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):Fi(r.slice(2)),o]}let xa=0;const kh=Promise.resolve(),Uh=()=>xa||(kh.then(()=>xa=0),xa=Date.now());function Vh(r,o){const l=f=>{if(!f._vts)f._vts=Date.now();else if(f._vts<=l.attached)return;Wn(Hh(f,l.value),o,5,[f])};return l.value=r,l.attached=Uh(),l}function Hh(r,o){if(Be(o)){const l=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{l.call(r),r._stopped=!0},o.map(f=>d=>!d._stopped&&f&&f(d))}else return o}const nc=/^on[a-z]/,Wh=(r,o,l,f,d=!1,h,m,C,y)=>{o==="class"?vh(r,f,d):o==="style"?Rh(r,l,f):wo(o)?Pa(o)||Ph(r,o,l,f,m):(o[0]==="."?(o=o.slice(1),!0):o[0]==="^"?(o=o.slice(1),!1):Gh(r,o,f,d))?Lh(r,o,f,h,m,C,y):(o==="true-value"?r._trueValue=f:o==="false-value"&&(r._falseValue=f),Mh(r,o,f,d))};function Gh(r,o,l,f){return f?!!(o==="innerHTML"||o==="textContent"||o in r&&nc.test(o)&&We(l)):o==="spellcheck"||o==="draggable"||o==="translate"||o==="form"||o==="list"&&r.tagName==="INPUT"||o==="type"&&r.tagName==="TEXTAREA"||nc.test(o)&&Lt(l)?!1:o in r}const ho=r=>{const o=r.props["onUpdate:modelValue"]||!1;return Be(o)?l=>Qs(o,l):o};function Xh(r){r.target.composing=!0}function rc(r){const o=r.target;o.composing&&(o.composing=!1,o.dispatchEvent(new Event("input")))}const ic={created(r,{modifiers:{lazy:o,trim:l,number:f}},d){r._assign=ho(d);const h=f||d.props&&d.props.type==="number";Qr(r,o?"change":"input",m=>{if(m.target.composing)return;let C=r.value;l&&(C=C.trim()),h&&(C=oo(C)),r._assign(C)}),l&&Qr(r,"change",()=>{r.value=r.value.trim()}),o||(Qr(r,"compositionstart",Xh),Qr(r,"compositionend",rc),Qr(r,"change",rc))},mounted(r,{value:o}){r.value=o??""},beforeUpdate(r,{value:o,modifiers:{lazy:l,trim:f,number:d}},h){if(r._assign=ho(h),r.composing||document.activeElement===r&&r.type!=="range"&&(l||f&&r.value.trim()===o||(d||r.type==="number")&&oo(r.value)===o))return;const m=o??"";r.value!==m&&(r.value=m)}},Yh={deep:!0,created(r,{value:o,modifiers:{number:l}},f){const d=_o(o);Qr(r,"change",()=>{const h=Array.prototype.filter.call(r.options,m=>m.selected).map(m=>l?oo(go(m)):go(m));r._assign(r.multiple?d?new Set(h):h:h[0])}),r._assign=ho(f)},mounted(r,{value:o}){sc(r,o)},beforeUpdate(r,o,l){r._assign=ho(l)},updated(r,{value:o}){sc(r,o)}};function sc(r,o){const l=r.multiple;if(!(l&&!Be(o)&&!_o(o))){for(let f=0,d=r.options.length;f<d;f++){const h=r.options[f],m=go(h);if(l)Be(o)?h.selected=Nf(o,m)>-1:h.selected=o.has(m);else if(bo(go(h),o)){r.selectedIndex!==f&&(r.selectedIndex=f);return}}!l&&r.selectedIndex!==-1&&(r.selectedIndex=-1)}}function go(r){return"_value"in r?r._value:r.value}const jh={beforeMount(r,{value:o},{transition:l}){r._vod=r.style.display==="none"?"":r.style.display,l&&o?l.beforeEnter(r):as(r,o)},mounted(r,{value:o},{transition:l}){l&&o&&l.enter(r)},updated(r,{value:o,oldValue:l},{transition:f}){!o!=!l&&(f?o?(f.beforeEnter(r),as(r,!0),f.enter(r)):f.leave(r,()=>{as(r,!1)}):as(r,o))},beforeUnmount(r,{value:o}){as(r,o)}};function as(r,o){r.style.display=o?r._vod:"none"}const zh=Ut({patchProp:Wh},Oh);let oc;function Kh(){return oc||(oc=sh(zh))}const Zh=(...r)=>{const o=Kh().createApp(...r),{mount:l}=o;return o.mount=f=>{const d=$h(f);if(!d)return;const h=o._component;!We(h)&&!h.render&&!h.template&&(h.template=d.innerHTML),d.innerHTML="";const m=l(d,!1,d instanceof SVGElement);return d instanceof Element&&(d.removeAttribute("v-cloak"),d.setAttribute("data-v-app","")),m},o};function $h(r){return Lt(r)?document.querySelector(r):r}const x1=[{gtin:"5060347339978",name:"",price:"38.00",img:"https://api.pns.hk/medias/zoom-front-114639.jpg?context=bWFzdGVyfHBuc2hrL2ltYWdlc3wxMTIwNTB8aW1hZ2UvanBlZ3xhREpoTDJoak9DODVOVGcyTURNME16YzJOek0wTDFCT1UwaExMVEV4TkRZek9TMW1jbTl1ZEM1cWNHY3xlYmJhNzEwMmY3ZjkxZGNhODQzZWM5MDljMDYxYzlhMzg5ODhmYzdlZmVkZTRiMDIzNzhkNTc1YjZmOWQ2ODg5",batchNumber:"ABC123",serialNumber:"BCD123",expiryDate:"2023-12-31"},{gtin:"6940079079757",name:"",price:"42.50",img:"https://api.pns.hk/medias/CLASSIC-CORN-FLAKES-115554.jpg?context=bWFzdGVyfHBuc2hrL2ltYWdlc3wxNTA0OTB8aW1hZ2UvanBlZ3xhR0kxTDJnek1DODVNekU0TlRRM05ESXpNall5TDBOTVFWTlRTVU1nUTA5U1RpQkdURUZMUlZNdE1URTFOVFUwTG1wd1p3fDgxMGY0YTRlNDYwMGI2MDI1ZGM4OTdlOWY2NzMyZDliMjkyMGI2Yzk1Y2VkMjA1MmI2MWEwZDg3YjU0ZjA0NzU",batchNumber:"XYZ456",serialNumber:"ZYX456",expiryDate:"2024-06-30"},{gtin:"6934660555126",name:"",price:"49.00",img:"https://api.pns.hk/medias/STRAWBERRY-ICE-CREAM-134317.jpg?context=bWFzdGVyfHBuc2hrL2ltYWdlc3w5Njk3M3xpbWFnZS9qcGVnfGFETmpMMmd4TVM4NU16RTVNakl3TVRFM05UTTBMMU5VVWtGWFFrVlNVbGtnU1VORklFTlNSVUZOTFRFek5ETXhOeTVxY0djfDIzZWZjMzRjMWEzMjFlYmZiYjQxZGMxYjVlMjIzMGY5NGVkNWMwYzU0ZmI1NjQ1ZWM5OTk0ZThlMDE2MzU5NTg",batchNumber:"DEF789",serialNumber:"FED789",expiryDate:"2022-09-15"},{gtin:"4897024510976",name:"250(9)",price:"25.00",img:"https://api.pns.hk/medias/-LOW-SUGAR-LEMON-TEA-250ML-9PACK-355420.jpg?context=bWFzdGVyfHBuc2hrL2ltYWdlc3wxMTY1MjJ8aW1hZ2UvanBlZ3xhRGN5TDJnME5pODVNekU1TXpBMU5UYzJORGM0THlCTVQxY2dVMVZIUVZJZ1RFVk5UMDRnVkVWQklESTFNRTFNSURsUVFVTkxMVE0xTlRReU1DNXFjR2N8NjVhZWFmYzVjZTNhNThiMDQ2ZmUxZjNlY2I5YmI3NmQwN2I4MDAxNzNlY2RhYzgwZWU3M2VhNWE4NmFiMWQ1Yg",batchNumber:"GHI012",serialNumber:"IHG012",expiryDate:"2023-08-01"},{gtin:"4891338023382",name:"BBBQ105",price:"39.90",img:"https://api.pns.hk/medias/POTATO-CHIPS-BBQ-1260o70.jpg?context=bWFzdGVyfHBuc2hrL2ltYWdlc3wxMTQ3NDZ8aW1hZ2UvanBlZ3xhRFkwTDJoaU5TODVNekU0TlRFeE5UYzFNRGN3TDFCUFZFRlVUeUJEU0VsUVV5MUNRbEV0TVRJMk1EY3dMbXB3Wnd8MzgyMzc5NmYxY2EwMzE1OTAxYzdhZjhlZWIxMTk4NmIxOWUwNjRlMTVkOWM1OWEwNWJjNTllODYyNzZmMzU3YQ",batchNumber:"JKL345",serialNumber:"LKJ345",expiryDate:"2024-03-31"},{gtin:"2000001368350",name:"UHT ",price:"60.00",img:"https://api.pns.hk/medias/zoom-front-110103.jpg?context=bWFzdGVyfHBuc2hrL2ltYWdlc3wxNDI5NjB8aW1hZ2UvanBlZ3xhRFV3TDJnME55ODVPRFF3T0RZNE9EVXhOelF5TDFCT1UwaExMVEV4TURFd015MW1jbTl1ZEM1cWNHY3xhOGNhZTgwNWZlMzg4ZDkwZjY0YTA3YTc1OWRhMzJiNTk4YjRkYWMwZWU2NTM5NzkyY2UwNjk4MjNmOTU0MDYy",batchNumber:"MNO678",serialNumber:"ONM678",expiryDate:"2023-11-30"}],qh="/vue-bootstrap/assets/scan-f6bfbd54.mp3",nl=(r,o)=>{const l=r.__vccOpts||r;for(const[f,d]of o)l[f]=d;return l},Qh={data(){return{selectedDeviceId:"",videoInputDevices:[],showSourceSelectPanel:!1,rawResult:"",productData:[]}},mounted(){this.initializeCodeReader(),this.fetchData()},methods:{fetchData(){this.productData=x1},playSound(){const r=new Audio(qh);r.addEventListener("canplaythrough",()=>{r.play(),r.removeEventListener("canplaythrough",()=>{})})},decode(){new ZXing.BrowserMultiFormatReader().decodeFromVideoDevice(this.selectedDeviceId,this.$refs.video,(o,l)=>{if(o){console.log(o);let f=new RegExp(String.fromCharCode(29),"g");this.rawResult=o.text.replace(f,"<GS>"),this.playSound(),this.$emit("scanned",this.rawResult)}l&&!(l instanceof ZXing.NotFoundException)&&(console.error(l),this.rawResult=l)})},initializeCodeReader(){const r=new ZXing.BrowserMultiFormatReader;console.log("ZXing code reader initialized"),r.getVideoInputDevices().then(o=>{this.videoInputDevices=o,this.selectedDeviceId=o[0].deviceId,this.showSourceSelectPanel=o.length>=1,this.decode(),console.log(`Started continuous decode from camera with id ${this.selectedDeviceId}`)}).catch(o=>{console.error(o)})}}},Jh={class:"wrapper"},ed={class:"container",id:"demo-content"},td={class:"card",style:{width:"100%"}},nd={ref:"video",style:{border:"1px solid gray"}},rd={class:"card-body"},id={class:"card-title"},sd={id:"sourceSelectPanel"},od=se("label",{for:"sourceSelect"},"Change Camera:",-1),ad=["value"],ld=se("label",{for:"result",style:{display:"none"}},"Result:",-1),cd={style:{display:"none"}},ud=se("span",null,"Raw output:",-1),fd={id:"result"};function hd(r,o,l,f,d,h){return dn(),Un("div",null,[se("main",Jh,[se("section",ed,[se("div",td,[se("video",nd,null,512),se("div",rd,[se("div",id,[co(se("div",sd,[od,co(se("select",{id:"sourceSelect",class:"form-select",style:{"max-width":"400px"},"onUpdate:modelValue":o[0]||(o[0]=m=>d.selectedDeviceId=m)},[(dn(!0),Un(hn,null,r1(d.videoInputDevices,(m,C)=>(dn(),Un("option",{key:C,value:m.deviceId},bi(m.label),9,ad))),128))],512),[[Yh,d.selectedDeviceId]])],512),[[jh,d.showSourceSelectPanel]])]),ld,se("pre",cd,[xr("              "),ud,xr(`
              `),se("code",fd,bi(d.rawResult),1),xr(`
            `)])])])])])])}const dd=nl(Qh,[["render",hd]]);var Ee;(function(r){r[r.QR_CODE=0]="QR_CODE",r[r.AZTEC=1]="AZTEC",r[r.CODABAR=2]="CODABAR",r[r.CODE_39=3]="CODE_39",r[r.CODE_93=4]="CODE_93",r[r.CODE_128=5]="CODE_128",r[r.DATA_MATRIX=6]="DATA_MATRIX",r[r.MAXICODE=7]="MAXICODE",r[r.ITF=8]="ITF",r[r.EAN_13=9]="EAN_13",r[r.EAN_8=10]="EAN_8",r[r.PDF_417=11]="PDF_417",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ee||(Ee={}));var ac=new Map([[Ee.QR_CODE,"QR_CODE"],[Ee.AZTEC,"AZTEC"],[Ee.CODABAR,"CODABAR"],[Ee.CODE_39,"CODE_39"],[Ee.CODE_93,"CODE_93"],[Ee.CODE_128,"CODE_128"],[Ee.DATA_MATRIX,"DATA_MATRIX"],[Ee.MAXICODE,"MAXICODE"],[Ee.ITF,"ITF"],[Ee.EAN_13,"EAN_13"],[Ee.EAN_8,"EAN_8"],[Ee.PDF_417,"PDF_417"],[Ee.RSS_14,"RSS_14"],[Ee.RSS_EXPANDED,"RSS_EXPANDED"],[Ee.UPC_A,"UPC_A"],[Ee.UPC_E,"UPC_E"],[Ee.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),lc;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.URL=1]="URL"})(lc||(lc={}));function gd(r){return Object.values(Ee).includes(r)}var po;(function(r){r[r.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",r[r.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(po||(po={}));var pd=function(){function r(){}return r.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",r.SCAN_DEFAULT_FPS=2,r.DEFAULT_DISABLE_FLIP=!1,r.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,r.DEFAULT_SUPPORTED_SCAN_TYPE=[po.SCAN_TYPE_CAMERA,po.SCAN_TYPE_FILE],r}(),m1=function(){function r(o,l){this.format=o,this.formatName=l}return r.prototype.toString=function(){return this.formatName},r.create=function(o){if(!ac.has(o))throw"".concat(o," not in html5QrcodeSupportedFormatsTextMap");return new r(o,ac.get(o))},r}(),cc=function(){function r(){}return r.createFromText=function(o){var l={text:o};return{decodedText:o,result:l}},r.createFromQrcodeResult=function(o){return{decodedText:o.text,result:o}},r}(),va;(function(r){r[r.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",r[r.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",r[r.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(va||(va={}));var xd=function(){function r(){}return r.createFrom=function(o){return{errorMessage:o,type:va.UNKWOWN_ERROR}},r}(),md=function(){function r(o){this.verbose=o}return r.prototype.log=function(o){this.verbose&&console.log(o)},r.prototype.warn=function(o){this.verbose&&console.warn(o)},r.prototype.logError=function(o,l){(this.verbose||l===!0)&&console.error(o)},r.prototype.logErrors=function(o){if(o.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(o)},r}();function gr(r){return typeof r>"u"||r===null}var yi=function(){function r(){}return r.codeParseError=function(o){return"QR code parse error, error = ".concat(o)},r.errorGettingUserMedia=function(o){return"Error getting userMedia, error = ".concat(o)},r.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},r.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},r.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},r.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},r.scannerPaused=function(){return"Scanner paused"},r}(),E1=function(){function r(){}return r.isMediaStreamConstraintsValid=function(o,l){if(typeof o!="object"){var f=typeof o;return l.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(f,"."),!0),!1}for(var d=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],h=new Set(d),m=Object.keys(o),C=0,y=m;C<y.length;C++){var E=y[C];if(h.has(E))return l.logError("".concat(E," is not supported videoConstaints."),!0),!1}return!0},r}(),Ai=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ed(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function wd(r){if(r.__esModule)return r;var o=r.default;if(typeof o=="function"){var l=function f(){return this instanceof f?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};l.prototype=o.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(r).forEach(function(f){var d=Object.getOwnPropertyDescriptor(r,f);Object.defineProperty(l,f,d.get?d:{enumerable:!0,get:function(){return r[f]}})}),l}var Ra={exports:{}};(function(r,o){(function(l,f){f(o)})(Ai,function(l){function f(_){return _==null}var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,e){_.__proto__=e}||function(_,e){for(var t in e)e.hasOwnProperty(t)&&(_[t]=e[t])};function h(_,e){d(_,e);function t(){this.constructor=_}_.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function m(_,e){var t=Object.setPrototypeOf;t?t(_,e):_.__proto__=e}function C(_,e){e===void 0&&(e=_.constructor);var t=Error.captureStackTrace;t&&t(_,e)}var y=function(_){h(e,_);function e(t){var n=this.constructor,i=_.call(this,t)||this;return Object.defineProperty(i,"name",{value:n.name,enumerable:!1}),m(i,n.prototype),C(i),i}return e}(Error);class E extends y{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}E.kind="Exception";class I extends E{}I.kind="ArgumentException";class D extends E{}D.kind="IllegalArgumentException";class ${constructor(e){if(this.binarizer=e,e===null)throw new D("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,n,i){const s=this.binarizer.getLuminanceSource().crop(e,t,n,i);return new $(this.binarizer.createBinarizer(s))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new $(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new $(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class z extends E{static getChecksumInstance(){return new z}}z.kind="ChecksumException";class Ae{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class J{static arraycopy(e,t,n,i,s){for(;s--;)n[i++]=e[t++]}static currentTimeMillis(){return Date.now()}}class de extends E{}de.kind="IndexOutOfBoundsException";class be extends de{constructor(e=void 0,t=void 0){super(t),this.index=e,this.message=t}}be.kind="ArrayIndexOutOfBoundsException";class he{static fill(e,t){for(let n=0,i=e.length;n<i;n++)e[n]=t}static fillWithin(e,t,n,i){he.rangeCheck(e.length,t,n);for(let s=t;s<n;s++)e[s]=i}static rangeCheck(e,t,n){if(t>n)throw new D("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new be(t);if(n>e)throw new be(n)}static asList(...e){return e}static create(e,t,n){return Array.from({length:e}).map(s=>Array.from({length:t}).fill(n))}static createInt32Array(e,t,n){return Array.from({length:e}).map(s=>Int32Array.from({length:t}).fill(n))}static equals(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}static hashCode(e){if(e===null)return 0;let t=1;for(const n of e)t=31*t+n;return t}static fillUint8Array(e,t){for(let n=0;n!==e.length;n++)e[n]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)}static copyOfRange(e,t,n){const i=n-t,s=new Int32Array(i);return J.arraycopy(e,t,s,0,i),s}static binarySearch(e,t,n){n===void 0&&(n=he.numberComparator);let i=0,s=e.length-1;for(;i<=s;){const a=s+i>>1,c=n(t,e[a]);if(c>0)i=a+1;else if(c<0)s=a-1;else return a}return-i-1}static numberComparator(e,t){return e-t}}class ae{static numberOfTrailingZeros(e){let t;if(e===0)return 32;let n=31;return t=e<<16,t!==0&&(n-=16,e=t),t=e<<8,t!==0&&(n-=8,e=t),t=e<<4,t!==0&&(n-=4,e=t),t=e<<2,t!==0&&(n-=2,e=t),n-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e,t=void 0){return parseInt(e,t)}}ae.MIN_VALUE_32_BITS=-2147483648,ae.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Q{constructor(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=Q.makeArray(e):this.bits=t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const t=Q.makeArray(e);J.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const t=this.size;if(e>=t)return t;const n=this.bits;let i=Math.floor(e/32),s=n[i];s&=~((1<<(e&31))-1);const a=n.length;for(;s===0;){if(++i===a)return t;s=n[i]}const c=i*32+ae.numberOfTrailingZeros(s);return c>t?t:c}getNextUnset(e){const t=this.size;if(e>=t)return t;const n=this.bits;let i=Math.floor(e/32),s=~n[i];s&=~((1<<(e&31))-1);const a=n.length;for(;s===0;){if(++i===a)return t;s=~n[i]}const c=i*32+ae.numberOfTrailingZeros(s);return c>t?t:c}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new D;if(t===e)return;t--;const n=Math.floor(e/32),i=Math.floor(t/32),s=this.bits;for(let a=n;a<=i;a++){const c=a>n?0:e&31,g=(2<<(a<i?31:t&31))-(1<<c);s[a]|=g}}clear(){const e=this.bits.length,t=this.bits;for(let n=0;n<e;n++)t[n]=0}isRange(e,t,n){if(t<e||e<0||t>this.size)throw new D;if(t===e)return!0;t--;const i=Math.floor(e/32),s=Math.floor(t/32),a=this.bits;for(let c=i;c<=s;c++){const u=c>i?0:e&31,x=(2<<(c<s?31:t&31))-(1<<u)&4294967295;if((a[c]&x)!==(n?x:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,t){if(t<0||t>32)throw new D("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let n=t;n>0;n--)this.appendBit((e>>n-1&1)===1)}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let n=0;n<t;n++)this.appendBit(e.get(n))}xor(e){if(this.size!==e.size)throw new D("Sizes don't match");const t=this.bits;for(let n=0,i=t.length;n<i;n++)t[n]^=e.bits[n]}toBytes(e,t,n,i){for(let s=0;s<i;s++){let a=0;for(let c=0;c<8;c++)this.get(e)&&(a|=1<<7-c),e++;t[n+s]=a}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,i=this.bits;for(let s=0;s<n;s++){let a=i[s];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[t-s]=a}if(this.size!==n*32){const s=n*32-this.size;let a=e[0]>>>s;for(let c=1;c<n;c++){const u=e[c];a|=u<<32-s,e[c-1]=a,a=u>>>s}e[n-1]=a}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof Q))return!1;const t=e;return this.size===t.size&&he.equals(this.bits,t.bits)}hashCode(){return 31*this.size+he.hashCode(this.bits)}toString(){let e="";for(let t=0,n=this.size;t<n;t++)t&7||(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new Q(this.size,this.bits.slice())}}var Re;(function(_){_[_.OTHER=0]="OTHER",_[_.PURE_BARCODE=1]="PURE_BARCODE",_[_.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",_[_.TRY_HARDER=3]="TRY_HARDER",_[_.CHARACTER_SET=4]="CHARACTER_SET",_[_.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",_[_.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",_[_.ASSUME_GS1=7]="ASSUME_GS1",_[_.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",_[_.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",_[_.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Re||(Re={}));var we=Re;class q extends E{static getFormatInstance(){return new q}}q.kind="FormatException";var Te;(function(_){_[_.Cp437=0]="Cp437",_[_.ISO8859_1=1]="ISO8859_1",_[_.ISO8859_2=2]="ISO8859_2",_[_.ISO8859_3=3]="ISO8859_3",_[_.ISO8859_4=4]="ISO8859_4",_[_.ISO8859_5=5]="ISO8859_5",_[_.ISO8859_6=6]="ISO8859_6",_[_.ISO8859_7=7]="ISO8859_7",_[_.ISO8859_8=8]="ISO8859_8",_[_.ISO8859_9=9]="ISO8859_9",_[_.ISO8859_10=10]="ISO8859_10",_[_.ISO8859_11=11]="ISO8859_11",_[_.ISO8859_13=12]="ISO8859_13",_[_.ISO8859_14=13]="ISO8859_14",_[_.ISO8859_15=14]="ISO8859_15",_[_.ISO8859_16=15]="ISO8859_16",_[_.SJIS=16]="SJIS",_[_.Cp1250=17]="Cp1250",_[_.Cp1251=18]="Cp1251",_[_.Cp1252=19]="Cp1252",_[_.Cp1256=20]="Cp1256",_[_.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",_[_.UTF8=22]="UTF8",_[_.ASCII=23]="ASCII",_[_.Big5=24]="Big5",_[_.GB18030=25]="GB18030",_[_.EUC_KR=26]="EUC_KR"})(Te||(Te={}));class j{constructor(e,t,n,...i){this.valueIdentifier=e,this.name=n,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=i,j.VALUE_IDENTIFIER_TO_ECI.set(e,this),j.NAME_TO_ECI.set(n,this);const s=this.values;for(let a=0,c=s.length;a!==c;a++){const u=s[a];j.VALUES_TO_ECI.set(u,this)}for(const a of i)j.NAME_TO_ECI.set(a,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new q("incorect value");const t=j.VALUES_TO_ECI.get(e);if(t===void 0)throw new q("incorect value");return t}static getCharacterSetECIByName(e){const t=j.NAME_TO_ECI.get(e);if(t===void 0)throw new q("incorect value");return t}equals(e){if(!(e instanceof j))return!1;const t=e;return this.getName()===t.getName()}}j.VALUE_IDENTIFIER_TO_ECI=new Map,j.VALUES_TO_ECI=new Map,j.NAME_TO_ECI=new Map,j.Cp437=new j(Te.Cp437,Int32Array.from([0,2]),"Cp437"),j.ISO8859_1=new j(Te.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),j.ISO8859_2=new j(Te.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),j.ISO8859_3=new j(Te.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),j.ISO8859_4=new j(Te.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),j.ISO8859_5=new j(Te.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),j.ISO8859_6=new j(Te.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),j.ISO8859_7=new j(Te.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),j.ISO8859_8=new j(Te.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),j.ISO8859_9=new j(Te.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),j.ISO8859_10=new j(Te.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),j.ISO8859_11=new j(Te.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),j.ISO8859_13=new j(Te.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),j.ISO8859_14=new j(Te.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),j.ISO8859_15=new j(Te.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),j.ISO8859_16=new j(Te.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),j.SJIS=new j(Te.SJIS,20,"SJIS","Shift_JIS"),j.Cp1250=new j(Te.Cp1250,21,"Cp1250","windows-1250"),j.Cp1251=new j(Te.Cp1251,22,"Cp1251","windows-1251"),j.Cp1252=new j(Te.Cp1252,23,"Cp1252","windows-1252"),j.Cp1256=new j(Te.Cp1256,24,"Cp1256","windows-1256"),j.UnicodeBigUnmarked=new j(Te.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),j.UTF8=new j(Te.UTF8,26,"UTF8","UTF-8"),j.ASCII=new j(Te.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),j.Big5=new j(Te.Big5,28,"Big5"),j.GB18030=new j(Te.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),j.EUC_KR=new j(Te.EUC_KR,30,"EUC_KR","EUC-KR");class Pe extends E{}Pe.kind="UnsupportedOperationException";class De{static decode(e,t){const n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)}static shouldDecodeOnFallback(e){return!De.isBrowser()&&e==="ISO-8859-1"}static encode(e,t){const n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof j?e:j.getCharacterSetECIByName(e)}static decodeFallback(e,t){const n=this.encodingCharacterSet(t);if(De.isDecodeFallbackSupported(n)){let i="";for(let s=0,a=e.length;s<a;s++){let c=e[s].toString(16);c.length<2&&(c="0"+c),i+="%"+c}return decodeURIComponent(i)}if(n.equals(j.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Pe(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(j.UTF8)||e.equals(j.ISO8859_1)||e.equals(j.ASCII)}static encodeFallback(e){const n=btoa(unescape(encodeURIComponent(e))).split(""),i=[];for(let s=0;s<n.length;s++)i.push(n[s].charCodeAt(0));return new Uint8Array(i)}}class _e{static castAsNonUtf8Char(e,t=null){const n=t?t.getName():this.ISO88591;return De.decode(new Uint8Array([e]),n)}static guessEncoding(e,t){if(t!=null&&t.get(we.CHARACTER_SET)!==void 0)return t.get(we.CHARACTER_SET).toString();const n=e.length;let i=!0,s=!0,a=!0,c=0,u=0,g=0,x=0,w=0,b=0,S=0,R=0,L=0,P=0,V=0;const ie=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let oe=0;oe<n&&(i||s||a);oe++){const re=e[oe]&255;a&&(c>0?re&128?c--:a=!1:re&128&&(re&64?(c++,re&32?(c++,re&16?(c++,re&8?a=!1:x++):g++):u++):a=!1)),i&&(re>127&&re<160?i=!1:re>159&&(re<192||re===215||re===247)&&V++),s&&(w>0?re<64||re===127||re>252?s=!1:w--:re===128||re===160||re>239?s=!1:re>160&&re<224?(b++,R=0,S++,S>L&&(L=S)):re>127?(w++,S=0,R++,R>P&&(P=R)):(S=0,R=0))}return a&&c>0&&(a=!1),s&&w>0&&(s=!1),a&&(ie||u+g+x>0)?_e.UTF8:s&&(_e.ASSUME_SHIFT_JIS||L>=3||P>=3)?_e.SHIFT_JIS:i&&s?L===2&&b===2||V*10>=n?_e.SHIFT_JIS:_e.ISO88591:i?_e.ISO88591:s?_e.SHIFT_JIS:a?_e.UTF8:_e.PLATFORM_DEFAULT_ENCODING}static format(e,...t){let n=-1;function i(a,c,u,g,x,w){if(a==="%%")return"%";if(t[++n]===void 0)return;a=g?parseInt(g.substr(1)):void 0;let b=x?parseInt(x.substr(1)):void 0,S;switch(w){case"s":S=t[n];break;case"c":S=t[n][0];break;case"f":S=parseFloat(t[n]).toFixed(a);break;case"p":S=parseFloat(t[n]).toPrecision(a);break;case"e":S=parseFloat(t[n]).toExponential(a);break;case"x":S=parseInt(t[n]).toString(b||16);break;case"d":S=parseFloat(parseInt(t[n],b||10).toPrecision(a)).toFixed(0);break}S=typeof S=="object"?JSON.stringify(S):(+S).toString(b);let R=parseInt(u),L=u&&u[0]+""=="0"?"0":" ";for(;S.length<R;)S=c!==void 0?S+L:L+S;return S}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)}static getBytes(e,t){return De.encode(e,t)}static getCharCode(e,t=0){return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}_e.SHIFT_JIS=j.SJIS.getName(),_e.GB2312="GB2312",_e.ISO88591=j.ISO8859_1.getName(),_e.EUC_JP="EUC_JP",_e.UTF8=j.UTF8.getName(),_e.PLATFORM_DEFAULT_ENCODING=_e.UTF8,_e.ASSUME_SHIFT_JIS=!1;class Se{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=_e.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,n){for(let i=t;t<t+n;i++)this.append(e[i]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class rt{constructor(e,t,n,i){if(this.width=e,this.height=t,this.rowSize=n,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new D("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,n=e[0].length,i=new rt(n,t);for(let s=0;s<t;s++){const a=e[s];for(let c=0;c<n;c++)a[c]&&i.set(c,s)}return i}static parseFromString(e,t,n){if(e===null)throw new D("stringRepresentation cannot be null");const i=new Array(e.length);let s=0,a=0,c=-1,u=0,g=0;for(;g<e.length;)if(e.charAt(g)===`
`||e.charAt(g)==="\r"){if(s>a){if(c===-1)c=s-a;else if(s-a!==c)throw new D("row lengths do not match");a=s,u++}g++}else if(e.substring(g,g+t.length)===t)g+=t.length,i[s]=!0,s++;else if(e.substring(g,g+n.length)===n)g+=n.length,i[s]=!1,s++;else throw new D("illegal character encountered: "+e.substring(g));if(s>a){if(c===-1)c=s-a;else if(s-a!==c)throw new D("row lengths do not match");u++}const x=new rt(c,u);for(let w=0;w<s;w++)i[w]&&x.set(Math.floor(w%c),Math.floor(w/c));return x}get(e,t){const n=t*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0}set(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295}unset(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)}flip(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new D("input matrix dimensions do not match");const t=new Q(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits;for(let s=0,a=this.height;s<a;s++){const c=s*n,u=e.getRow(s,t).getBitArray();for(let g=0;g<n;g++)i[c+g]^=u[g]}}clear(){const e=this.bits,t=e.length;for(let n=0;n<t;n++)e[n]=0}setRegion(e,t,n,i){if(t<0||e<0)throw new D("Left and top must be nonnegative");if(i<1||n<1)throw new D("Height and width must be at least 1");const s=e+n,a=t+i;if(a>this.height||s>this.width)throw new D("The region must fit inside the matrix");const c=this.rowSize,u=this.bits;for(let g=t;g<a;g++){const x=g*c;for(let w=e;w<s;w++)u[x+Math.floor(w/32)]|=1<<(w&31)&4294967295}}getRow(e,t){t==null||t.getSize()<this.width?t=new Q(this.width):t.clear();const n=this.rowSize,i=this.bits,s=e*n;for(let a=0;a<n;a++)t.setBulk(a*32,i[s+a]);return t}setRow(e,t){J.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let n=new Q(e),i=new Q(e);for(let s=0,a=Math.floor((t+1)/2);s<a;s++)n=this.getRow(s,n),i=this.getRow(t-1-s,i),n.reverse(),i.reverse(),this.setRow(s,i),this.setRow(t-1-s,n)}getEnclosingRectangle(){const e=this.width,t=this.height,n=this.rowSize,i=this.bits;let s=e,a=t,c=-1,u=-1;for(let g=0;g<t;g++)for(let x=0;x<n;x++){const w=i[g*n+x];if(w!==0){if(g<a&&(a=g),g>u&&(u=g),x*32<s){let b=0;for(;!(w<<31-b&4294967295);)b++;x*32+b<s&&(s=x*32+b)}if(x*32+31>c){let b=31;for(;!(w>>>b);)b--;x*32+b>c&&(c=x*32+b)}}}return c<s||u<a?null:Int32Array.from([s,a,c-s+1,u-a+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let n=0;for(;n<t.length&&t[n]===0;)n++;if(n===t.length)return null;const i=n/e;let s=n%e*32;const a=t[n];let c=0;for(;!(a<<31-c&4294967295);)c++;return s+=c,Int32Array.from([s,i])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let n=t.length-1;for(;n>=0&&t[n]===0;)n--;if(n<0)return null;const i=Math.floor(n/e);let s=Math.floor(n%e)*32;const a=t[n];let c=31;for(;!(a>>>c);)c--;return s+=c,Int32Array.from([s,i])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof rt))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&he.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+he.hashCode(this.bits),e}toString(e="X ",t="  ",n=`
`){return this.buildToString(e,t,n)}buildToString(e,t,n){let i=new Se;for(let s=0,a=this.height;s<a;s++){for(let c=0,u=this.width;c<u;c++)i.append(this.get(c,s)?e:t);i.append(n)}return i.toString()}clone(){return new rt(this.width,this.height,this.rowSize,this.bits.slice())}}class H extends E{static getNotFoundInstance(){return new H}}H.kind="NotFoundException";class Me extends Ae{constructor(e){super(e),this.luminances=Me.EMPTY,this.buckets=new Int32Array(Me.LUMINANCE_BUCKETS)}getBlackRow(e,t){const n=this.getLuminanceSource(),i=n.getWidth();t==null||t.getSize()<i?t=new Q(i):t.clear(),this.initArrays(i);const s=n.getRow(e,this.luminances),a=this.buckets;for(let u=0;u<i;u++)a[(s[u]&255)>>Me.LUMINANCE_SHIFT]++;const c=Me.estimateBlackPoint(a);if(i<3)for(let u=0;u<i;u++)(s[u]&255)<c&&t.set(u);else{let u=s[0]&255,g=s[1]&255;for(let x=1;x<i-1;x++){const w=s[x+1]&255;(g*4-u-w)/2<c&&t.set(x),u=g,g=w}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight(),i=new rt(t,n);this.initArrays(t);const s=this.buckets;for(let u=1;u<5;u++){const g=Math.floor(n*u/5),x=e.getRow(g,this.luminances),w=Math.floor(t*4/5);for(let b=Math.floor(t/5);b<w;b++){const S=x[b]&255;s[S>>Me.LUMINANCE_SHIFT]++}}const a=Me.estimateBlackPoint(s),c=e.getMatrix();for(let u=0;u<n;u++){const g=u*t;for(let x=0;x<t;x++)(c[g+x]&255)<a&&i.set(x,u)}return i}createBinarizer(e){return new Me(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let n=0;n<Me.LUMINANCE_BUCKETS;n++)t[n]=0}static estimateBlackPoint(e){const t=e.length;let n=0,i=0,s=0;for(let x=0;x<t;x++)e[x]>s&&(i=x,s=e[x]),e[x]>n&&(n=e[x]);let a=0,c=0;for(let x=0;x<t;x++){const w=x-i,b=e[x]*w*w;b>c&&(a=x,c=b)}if(i>a){const x=i;i=a,a=x}if(a-i<=t/16)throw new H;let u=a-1,g=-1;for(let x=a-1;x>i;x--){const w=x-i,b=w*w*(a-x)*(n-e[x]);b>g&&(u=x,g=b)}return u<<Me.LUMINANCE_SHIFT}}Me.LUMINANCE_BITS=5,Me.LUMINANCE_SHIFT=8-Me.LUMINANCE_BITS,Me.LUMINANCE_BUCKETS=1<<Me.LUMINANCE_BITS,Me.EMPTY=Uint8ClampedArray.from([0]);class fe extends Me{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight();if(t>=fe.MINIMUM_DIMENSION&&n>=fe.MINIMUM_DIMENSION){const i=e.getMatrix();let s=t>>fe.BLOCK_SIZE_POWER;t&fe.BLOCK_SIZE_MASK&&s++;let a=n>>fe.BLOCK_SIZE_POWER;n&fe.BLOCK_SIZE_MASK&&a++;const c=fe.calculateBlackPoints(i,s,a,t,n),u=new rt(t,n);fe.calculateThresholdForBlock(i,s,a,t,n,c,u),this.matrix=u}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new fe(e)}static calculateThresholdForBlock(e,t,n,i,s,a,c){const u=s-fe.BLOCK_SIZE,g=i-fe.BLOCK_SIZE;for(let x=0;x<n;x++){let w=x<<fe.BLOCK_SIZE_POWER;w>u&&(w=u);const b=fe.cap(x,2,n-3);for(let S=0;S<t;S++){let R=S<<fe.BLOCK_SIZE_POWER;R>g&&(R=g);const L=fe.cap(S,2,t-3);let P=0;for(let ie=-2;ie<=2;ie++){const oe=a[b+ie];P+=oe[L-2]+oe[L-1]+oe[L]+oe[L+1]+oe[L+2]}const V=P/25;fe.thresholdBlock(e,R,w,V,i,c)}}}static cap(e,t,n){return e<t?t:e>n?n:e}static thresholdBlock(e,t,n,i,s,a){for(let c=0,u=n*s+t;c<fe.BLOCK_SIZE;c++,u+=s)for(let g=0;g<fe.BLOCK_SIZE;g++)(e[u+g]&255)<=i&&a.set(t+g,n+c)}static calculateBlackPoints(e,t,n,i,s){const a=s-fe.BLOCK_SIZE,c=i-fe.BLOCK_SIZE,u=new Array(n);for(let g=0;g<n;g++){u[g]=new Int32Array(t);let x=g<<fe.BLOCK_SIZE_POWER;x>a&&(x=a);for(let w=0;w<t;w++){let b=w<<fe.BLOCK_SIZE_POWER;b>c&&(b=c);let S=0,R=255,L=0;for(let V=0,ie=x*i+b;V<fe.BLOCK_SIZE;V++,ie+=i){for(let oe=0;oe<fe.BLOCK_SIZE;oe++){const re=e[ie+oe]&255;S+=re,re<R&&(R=re),re>L&&(L=re)}if(L-R>fe.MIN_DYNAMIC_RANGE)for(V++,ie+=i;V<fe.BLOCK_SIZE;V++,ie+=i)for(let oe=0;oe<fe.BLOCK_SIZE;oe++)S+=e[ie+oe]&255}let P=S>>fe.BLOCK_SIZE_POWER*2;if(L-R<=fe.MIN_DYNAMIC_RANGE&&(P=R/2,g>0&&w>0)){const V=(u[g-1][w]+2*u[g][w-1]+u[g-1][w-1])/4;R<V&&(P=V)}u[g][w]=P}}return u}}fe.BLOCK_SIZE_POWER=3,fe.BLOCK_SIZE=1<<fe.BLOCK_SIZE_POWER,fe.BLOCK_SIZE_MASK=fe.BLOCK_SIZE-1,fe.MINIMUM_DIMENSION=fe.BLOCK_SIZE*5,fe.MIN_DYNAMIC_RANGE=24;class Ge{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,n,i){throw new Pe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Pe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Pe("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new Se;for(let n=0;n<this.height;n++){const i=this.getRow(n,e);for(let s=0;s<this.width;s++){const a=i[s]&255;let c;a<64?c="#":a<128?c="+":a<192?c=".":c=" ",t.append(c)}t.append(`
`)}return t.toString()}}class ht extends Ge{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const n=this.delegate.getRow(e,t),i=this.getWidth();for(let s=0;s<i;s++)n[s]=255-(n[s]&255);return n}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(t);for(let i=0;i<t;i++)n[i]=255-(e[i]&255);return n}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,n,i){return new ht(this.delegate.crop(e,t,n,i))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ht(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ht(this.delegate.rotateCounterClockwise45())}}class Nt extends Ge{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=Nt.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return Nt.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,n){const i=new Uint8ClampedArray(t*n);for(let s=0,a=0,c=e.length;s<c;s+=4,a++){let u;if(e[s+3]===0)u=255;else{const x=e[s],w=e[s+1],b=e[s+2];u=306*x+601*w+117*b+512>>10}i[a]=u}return i}getRow(e,t){if(e<0||e>=this.getHeight())throw new D("Requested row is outside the image: "+e);const n=this.getWidth(),i=e*n;return t===null?t=this.buffer.slice(i,i+n):(t.length<n&&(t=new Uint8ClampedArray(n)),t.set(this.buffer.slice(i,i+n))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,n,i){return super.crop(e,t,n,i),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),n=t.getContext("2d"),i=e*Nt.DEGREE_TO_RADIANS,s=this.canvas.width,a=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(i))*s+Math.abs(Math.sin(i))*a),u=Math.ceil(Math.abs(Math.sin(i))*s+Math.abs(Math.cos(i))*a);return t.width=c,t.height=u,n.translate(c/2,u/2),n.rotate(i),n.drawImage(this.canvas,s/-2,a/-2),this.buffer=Nt.makeBufferFromCanvasImageData(t),this}invert(){return new ht(this)}}Nt.DEGREE_TO_RADIANS=Math.PI/180;class Vt{constructor(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ze=(globalThis||Ai||self||window||void 0)&&(globalThis||Ai||self||window||void 0).__awaiter||function(_,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function c(x){try{g(n.next(x))}catch(w){a(w)}}function u(x){try{g(n.throw(x))}catch(w){a(w)}}function g(x){x.done?s(x.value):i(x.value).then(c,u)}g((n=n.apply(_,e||[])).next())})};class Ht{constructor(e,t=500,n){this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return Ze(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const n of e){const i=n.kind==="video"?"videoinput":n.kind;if(i!=="videoinput")continue;const s=n.deviceId||n.id,a=n.label||`Video device ${t.length+1}`,c=n.groupId,u={deviceId:s,label:a,kind:i,groupId:c};t.push(u)}return t})}getVideoInputDevices(){return Ze(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(t=>new Vt(t.deviceId,t.label))})}findDeviceById(e){return Ze(this,void 0,void 0,function*(){const t=yield this.listVideoInputDevices();return t?t.find(n=>n.deviceId===e):null})}decodeFromInputVideoDevice(e,t){return Ze(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,t)})}decodeOnceFromVideoDevice(e,t){return Ze(this,void 0,void 0,function*(){this.reset();let n;e?n={deviceId:{exact:e}}:n={facingMode:"environment"};const i={video:n};return yield this.decodeOnceFromConstraints(i,t)})}decodeOnceFromConstraints(e,t){return Ze(this,void 0,void 0,function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(n,t)})}decodeOnceFromStream(e,t){return Ze(this,void 0,void 0,function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(n)})}decodeFromInputVideoDeviceContinuously(e,t,n){return Ze(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,t,n)})}decodeFromVideoDevice(e,t,n){return Ze(this,void 0,void 0,function*(){let i;e?i={deviceId:{exact:e}}:i={facingMode:"environment"};const s={video:i};return yield this.decodeFromConstraints(s,t,n)})}decodeFromConstraints(e,t,n){return Ze(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(i,t,n)})}decodeFromStream(e,t,n){return Ze(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(i,n)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return Ze(this,void 0,void 0,function*(){const n=this.prepareVideoElement(t);return this.addVideoSource(n,e),this.videoElement=n,this.stream=e,yield this.playVideoOnLoadAsync(n),n})}playVideoOnLoadAsync(e){return new Promise((t,n)=>this.playVideoOnLoad(e,()=>t()))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return Ze(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,t){const n=document.getElementById(e);if(!n)throw new I(`element with id '${e}' not found`);if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new I(`element with id '${e}' must be an ${t} element`);return n}decodeFromImage(e,t){if(!e&&!t)throw new I("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new I("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,n){if(e===void 0&&t===void 0)throw new I("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)}decodeFromImageElement(e){if(!e)throw new I("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);this.imageElement=t;let n;return this.isImageLoaded(t)?n=this.decodeOnce(t,!1,!0):n=this._decodeOnLoadImage(t),n}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)}_decodeFromVideoElementSetup(e){if(!e)throw new I("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new I("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const n=this._decodeOnLoadImage(t);return t.src=e,n}decodeFromVideoUrl(e){if(!e)throw new I("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n}decodeFromVideoUrlContinuously(e,t){if(!e)throw new I("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,t);return n.src=e,i}_decodeOnLoadImage(e){return new Promise((t,n)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,n),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return Ze(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,t){return Ze(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e,t=!0,n=!0){this._stopAsyncDecode=!1;const i=(s,a)=>{if(this._stopAsyncDecode){a(new H("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const c=this.decode(e);s(c)}catch(c){const u=t&&c instanceof H,x=(c instanceof z||c instanceof q)&&n;if(u||x)return setTimeout(i,this._timeBetweenDecodingAttempts,s,a);a(c)}};return new Promise((s,a)=>i(s,a))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const n=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const i=this.decode(e);t(i,null),setTimeout(n,this.timeBetweenScansMillis)}catch(i){t(null,i);const s=i instanceof z||i instanceof q,a=i instanceof H;(s||a)&&setTimeout(n,this._timeBetweenDecodingAttempts)}};n()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,t,n){t||(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n||(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t,n=this.captureCanvasContext){t||(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n||(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const t=this.getCaptureCanvas(e),n=new Nt(t),i=new fe(n);return new $(i)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const n=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=n}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=i+"px",t.width=n,t.height=i,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class dt{constructor(e,t,n=t==null?0:8*t.length,i,s,a=J.currentTimeMillis()){this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=i,this.format=s,this.timestamp=a,this.text=e,this.rawBytes=t,n==null?this.numBits=t==null?0:8*t.length:this.numBits=n,this.resultPoints=i,this.format=s,this.resultMetadata=null,a==null?this.timestamp=J.currentTimeMillis():this.timestamp=a}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){const n=new Array(t.length+e.length);J.arraycopy(t,0,n,0,t.length),J.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Wt;(function(_){_[_.AZTEC=0]="AZTEC",_[_.CODABAR=1]="CODABAR",_[_.CODE_39=2]="CODE_39",_[_.CODE_93=3]="CODE_93",_[_.CODE_128=4]="CODE_128",_[_.DATA_MATRIX=5]="DATA_MATRIX",_[_.EAN_8=6]="EAN_8",_[_.EAN_13=7]="EAN_13",_[_.ITF=8]="ITF",_[_.MAXICODE=9]="MAXICODE",_[_.PDF_417=10]="PDF_417",_[_.QR_CODE=11]="QR_CODE",_[_.RSS_14=12]="RSS_14",_[_.RSS_EXPANDED=13]="RSS_EXPANDED",_[_.UPC_A=14]="UPC_A",_[_.UPC_E=15]="UPC_E",_[_.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Wt||(Wt={}));var ge=Wt,jt;(function(_){_[_.OTHER=0]="OTHER",_[_.ORIENTATION=1]="ORIENTATION",_[_.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",_[_.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",_[_.ISSUE_NUMBER=4]="ISSUE_NUMBER",_[_.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",_[_.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",_[_.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",_[_.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",_[_.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",_[_.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(jt||(jt={}));var Je=jt;class Bt{constructor(e,t,n,i,s=-1,a=-1){this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class on{exp(e){return this.expTable[e]}log(e){if(e===0)throw new D;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class X{constructor(e,t){if(t.length===0)throw new D;this.field=e;const n=t.length;if(n>1&&t[0]===0){let i=1;for(;i<n&&t[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),J.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const t=this.coefficients;let n;if(e===1){n=0;for(let a=0,c=t.length;a!==c;a++){const u=t[a];n=on.addOrSubtract(n,u)}return n}n=t[0];const i=t.length,s=this.field;for(let a=1;a<i;a++)n=on.addOrSubtract(s.multiply(e,n),t[a]);return n}addOrSubtract(e){if(!this.field.equals(e.field))throw new D("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){const a=t;t=n,n=a}let i=new Int32Array(n.length);const s=n.length-t.length;J.arraycopy(n,0,i,0,s);for(let a=s;a<n.length;a++)i[a]=on.addOrSubtract(t[a-s],n[a]);return new X(this.field,i)}multiply(e){if(!this.field.equals(e.field))throw new D("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,n=t.length,i=e.coefficients,s=i.length,a=new Int32Array(n+s-1),c=this.field;for(let u=0;u<n;u++){const g=t[u];for(let x=0;x<s;x++)a[u+x]=on.addOrSubtract(a[u+x],c.multiply(g,i[x]))}return new X(c,a)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const t=this.coefficients.length,n=this.field,i=new Int32Array(t),s=this.coefficients;for(let a=0;a<t;a++)i[a]=n.multiply(s[a],e);return new X(n,i)}multiplyByMonomial(e,t){if(e<0)throw new D;if(t===0)return this.field.getZero();const n=this.coefficients,i=n.length,s=new Int32Array(i+e),a=this.field;for(let c=0;c<i;c++)s[c]=a.multiply(n[c],t);return new X(a,s)}divide(e){if(!this.field.equals(e.field))throw new D("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new D("Divide by 0");const t=this.field;let n=t.getZero(),i=this;const s=e.getCoefficient(e.getDegree()),a=t.inverse(s);for(;i.getDegree()>=e.getDegree()&&!i.isZero();){const c=i.getDegree()-e.getDegree(),u=t.multiply(i.getCoefficient(i.getDegree()),a),g=e.multiplyByMonomial(c,u),x=t.buildMonomial(c,u);n=n.addOrSubtract(x),i=i.addOrSubtract(g)}return[n,i]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),t===0||n!==1){const i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e}}class v extends E{}v.kind="ArithmeticException";class M extends on{constructor(e,t,n){super(),this.primitive=e,this.size=t,this.generatorBase=n;const i=new Int32Array(t);let s=1;for(let c=0;c<t;c++)i[c]=s,s*=2,s>=t&&(s^=e,s&=t-1);this.expTable=i;const a=new Int32Array(t);for(let c=0;c<t-1;c++)a[i[c]]=c;this.logTable=a,this.zero=new X(this,Int32Array.from([0])),this.one=new X(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new D;if(t===0)return this.zero;const n=new Int32Array(e+1);return n[0]=t,new X(this,n)}inverse(e){if(e===0)throw new v;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+ae.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}M.AZTEC_DATA_12=new M(4201,4096,1),M.AZTEC_DATA_10=new M(1033,1024,1),M.AZTEC_DATA_6=new M(67,64,1),M.AZTEC_PARAM=new M(19,16,1),M.QR_CODE_FIELD_256=new M(285,256,0),M.DATA_MATRIX_FIELD_256=new M(301,256,1),M.AZTEC_DATA_8=M.DATA_MATRIX_FIELD_256,M.MAXICODE_FIELD_64=M.AZTEC_DATA_6;class W extends E{}W.kind="ReedSolomonException";class Y extends E{}Y.kind="IllegalStateException";class Z{constructor(e){this.field=e}decode(e,t){const n=this.field,i=new X(n,e),s=new Int32Array(t);let a=!0;for(let S=0;S<t;S++){const R=i.evaluateAt(n.exp(S+n.getGeneratorBase()));s[s.length-1-S]=R,R!==0&&(a=!1)}if(a)return;const c=new X(n,s),u=this.runEuclideanAlgorithm(n.buildMonomial(t,1),c,t),g=u[0],x=u[1],w=this.findErrorLocations(g),b=this.findErrorMagnitudes(x,w);for(let S=0;S<w.length;S++){const R=e.length-1-n.log(w[S]);if(R<0)throw new W("Bad error location");e[R]=M.addOrSubtract(e[R],b[S])}}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){const S=e;e=t,t=S}const i=this.field;let s=e,a=t,c=i.getZero(),u=i.getOne();for(;a.getDegree()>=(n/2|0);){let S=s,R=c;if(s=a,c=u,s.isZero())throw new W("r_{i-1} was zero");a=S;let L=i.getZero();const P=s.getCoefficient(s.getDegree()),V=i.inverse(P);for(;a.getDegree()>=s.getDegree()&&!a.isZero();){const ie=a.getDegree()-s.getDegree(),oe=i.multiply(a.getCoefficient(a.getDegree()),V);L=L.addOrSubtract(i.buildMonomial(ie,oe)),a=a.addOrSubtract(s.multiplyByMonomial(ie,oe))}if(u=L.multiply(c).addOrSubtract(R),a.getDegree()>=s.getDegree())throw new Y("Division algorithm failed to reduce polynomial?")}const g=u.getCoefficient(0);if(g===0)throw new W("sigmaTilde(0) was zero");const x=i.inverse(g),w=u.multiplyScalar(x),b=a.multiplyScalar(x);return[w,b]}findErrorLocations(e){const t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);const n=new Int32Array(t);let i=0;const s=this.field;for(let a=1;a<s.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(n[i]=s.inverse(a),i++);if(i!==t)throw new W("Error locator degree does not match number of roots");return n}findErrorMagnitudes(e,t){const n=t.length,i=new Int32Array(n),s=this.field;for(let a=0;a<n;a++){const c=s.inverse(t[a]);let u=1;for(let g=0;g<n;g++)if(a!==g){const x=s.multiply(t[g],c),w=x&1?x&-2:x|1;u=s.multiply(u,w)}i[a]=s.multiply(e.evaluateAt(c),s.inverse(u)),s.getGeneratorBase()!==0&&(i[a]=s.multiply(i[a],c))}return i}}var ne;(function(_){_[_.UPPER=0]="UPPER",_[_.LOWER=1]="LOWER",_[_.MIXED=2]="MIXED",_[_.DIGIT=3]="DIGIT",_[_.PUNCT=4]="PUNCT",_[_.BINARY=5]="BINARY"})(ne||(ne={}));class ee{decode(e){this.ddata=e;let t=e.getBits(),n=this.extractBits(t),i=this.correctBits(n),s=ee.convertBoolArrayToByteArray(i),a=ee.getEncodedData(i),c=new Bt(s,a,null,null);return c.setNumBits(i.length),c}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,n=ne.UPPER,i=ne.UPPER,s="",a=0;for(;a<t;)if(i===ne.BINARY){if(t-a<5)break;let c=ee.readCode(e,a,5);if(a+=5,c===0){if(t-a<11)break;c=ee.readCode(e,a,11)+31,a+=11}for(let u=0;u<c;u++){if(t-a<8){a=t;break}const g=ee.readCode(e,a,8);s+=_e.castAsNonUtf8Char(g),a+=8}i=n}else{let c=i===ne.DIGIT?4:5;if(t-a<c)break;let u=ee.readCode(e,a,c);a+=c;let g=ee.getCharacter(i,u);g.startsWith("CTRL_")?(n=i,i=ee.getTable(g.charAt(5)),g.charAt(6)==="L"&&(n=i)):(s+=g,i=n)}return s}static getTable(e){switch(e){case"L":return ne.LOWER;case"P":return ne.PUNCT;case"M":return ne.MIXED;case"D":return ne.DIGIT;case"B":return ne.BINARY;case"U":default:return ne.UPPER}}static getCharacter(e,t){switch(e){case ne.UPPER:return ee.UPPER_TABLE[t];case ne.LOWER:return ee.LOWER_TABLE[t];case ne.MIXED:return ee.MIXED_TABLE[t];case ne.PUNCT:return ee.PUNCT_TABLE[t];case ne.DIGIT:return ee.DIGIT_TABLE[t];default:throw new Y("Bad table")}}correctBits(e){let t,n;this.ddata.getNbLayers()<=2?(n=6,t=M.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=M.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=M.AZTEC_DATA_10):(n=12,t=M.AZTEC_DATA_12);let i=this.ddata.getNbDatablocks(),s=e.length/n;if(s<i)throw new q;let a=e.length%n,c=new Int32Array(s);for(let b=0;b<s;b++,a+=n)c[b]=ee.readCode(e,a,n);try{new Z(t).decode(c,s-i)}catch(b){throw new q(b)}let u=(1<<n)-1,g=0;for(let b=0;b<i;b++){let S=c[b];if(S===0||S===u)throw new q;(S===1||S===u-1)&&g++}let x=new Array(i*n-g),w=0;for(let b=0;b<i;b++){let S=c[b];if(S===1||S===u-1)x.fill(S>1,w,w+n-1),w+=n-1;else for(let R=n-1;R>=0;--R)x[w++]=(S&1<<R)!==0}return x}extractBits(e){let t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(t?11:14)+n*4,s=new Int32Array(i),a=new Array(this.totalBitsInLayer(n,t));if(t)for(let c=0;c<s.length;c++)s[c]=c;else{let c=i+1+2*ae.truncDivision(ae.truncDivision(i,2)-1,15),u=i/2,g=ae.truncDivision(c,2);for(let x=0;x<u;x++){let w=x+ae.truncDivision(x,15);s[u-x-1]=g-w-1,s[u+x]=g+w+1}}for(let c=0,u=0;c<n;c++){let g=(n-c)*4+(t?9:12),x=c*2,w=i-1-x;for(let b=0;b<g;b++){let S=b*2;for(let R=0;R<2;R++)a[u+S+R]=e.get(s[x+R],s[x+b]),a[u+2*g+S+R]=e.get(s[x+b],s[w-R]),a[u+4*g+S+R]=e.get(s[w-R],s[w-b]),a[u+6*g+S+R]=e.get(s[w-b],s[x+R])}u+=g*8}return a}static readCode(e,t,n){let i=0;for(let s=t;s<t+n;s++)i<<=1,e[s]&&(i|=1);return i}static readByte(e,t){let n=e.length-t;return n>=8?ee.readCode(e,t,8):ee.readCode(e,t,n)<<8-n}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let n=0;n<t.length;n++)t[n]=ee.readByte(e,8*n);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}ee.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ee.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ee.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ee.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ee.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class G{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,n,i){const s=e-n,a=t-i;return Math.sqrt(s*s+a*a)}static sum(e){let t=0;for(let n=0,i=e.length;n!==i;n++){const s=e[n];t+=s}return t}}class U{static floatToIntBits(e){return e}}U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class B{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof B){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*U.floatToIntBits(this.x)+U.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]);let s,a,c;if(n>=t&&n>=i?(a=e[0],s=e[1],c=e[2]):i>=n&&i>=t?(a=e[1],s=e[0],c=e[2]):(a=e[2],s=e[0],c=e[1]),this.crossProductZ(s,a,c)<0){const u=s;s=c,c=u}e[0]=s,e[1]=a,e[2]=c}static distance(e,t){return G.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,n){const i=t.x,s=t.y;return(n.x-i)*(e.y-s)-(n.y-s)*(e.x-i)}}class Ce{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class me extends Ce{constructor(e,t,n,i,s){super(e,t),this.compact=n,this.nbDatablocks=i,this.nbLayers=s}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class pe{constructor(e,t,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=pe.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);const s=t/2|0;if(this.leftInit=n-s,this.rightInit=n+s,this.upInit=i-s,this.downInit=i+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new H}detect(){let e=this.leftInit,t=this.rightInit,n=this.upInit,i=this.downInit,s=!1,a=!0,c=!1,u=!1,g=!1,x=!1,w=!1;const b=this.width,S=this.height;for(;a;){a=!1;let R=!0;for(;(R||!u)&&t<b;)R=this.containsBlackPoint(n,i,t,!1),R?(t++,a=!0,u=!0):u||t++;if(t>=b){s=!0;break}let L=!0;for(;(L||!g)&&i<S;)L=this.containsBlackPoint(e,t,i,!0),L?(i++,a=!0,g=!0):g||i++;if(i>=S){s=!0;break}let P=!0;for(;(P||!x)&&e>=0;)P=this.containsBlackPoint(n,i,e,!1),P?(e--,a=!0,x=!0):x||e--;if(e<0){s=!0;break}let V=!0;for(;(V||!w)&&n>=0;)V=this.containsBlackPoint(e,t,n,!0),V?(n--,a=!0,w=!0):w||n--;if(n<0){s=!0;break}a&&(c=!0)}if(!s&&c){const R=t-e;let L=null;for(let oe=1;L===null&&oe<R;oe++)L=this.getBlackPointOnSegment(e,i-oe,e+oe,i);if(L==null)throw new H;let P=null;for(let oe=1;P===null&&oe<R;oe++)P=this.getBlackPointOnSegment(e,n+oe,e+oe,n);if(P==null)throw new H;let V=null;for(let oe=1;V===null&&oe<R;oe++)V=this.getBlackPointOnSegment(t,n+oe,t-oe,n);if(V==null)throw new H;let ie=null;for(let oe=1;ie===null&&oe<R;oe++)ie=this.getBlackPointOnSegment(t,i-oe,t-oe,i);if(ie==null)throw new H;return this.centerEdges(ie,L,V,P)}else throw new H}getBlackPointOnSegment(e,t,n,i){const s=G.round(G.distance(e,t,n,i)),a=(n-e)/s,c=(i-t)/s,u=this.image;for(let g=0;g<s;g++){const x=G.round(e+g*a),w=G.round(t+g*c);if(u.get(x,w))return new B(x,w)}return null}centerEdges(e,t,n,i){const s=e.getX(),a=e.getY(),c=t.getX(),u=t.getY(),g=n.getX(),x=n.getY(),w=i.getX(),b=i.getY(),S=pe.CORR;return s<this.width/2?[new B(w-S,b+S),new B(c+S,u+S),new B(g-S,x-S),new B(s+S,a-S)]:[new B(w+S,b+S),new B(c+S,u-S),new B(g-S,x+S),new B(s-S,a-S)]}containsBlackPoint(e,t,n,i){const s=this.image;if(i){for(let a=e;a<=t;a++)if(s.get(a,n))return!0}else for(let a=e;a<=t;a++)if(s.get(n,a))return!0;return!1}}pe.INIT_SIZE=10,pe.CORR=1;class Ne{static checkAndNudgePoints(e,t){const n=e.getWidth(),i=e.getHeight();let s=!0;for(let a=0;a<t.length&&s;a+=2){const c=Math.floor(t[a]),u=Math.floor(t[a+1]);if(c<-1||c>n||u<-1||u>i)throw new H;s=!1,c===-1?(t[a]=0,s=!0):c===n&&(t[a]=n-1,s=!0),u===-1?(t[a+1]=0,s=!0):u===i&&(t[a+1]=i-1,s=!0)}s=!0;for(let a=t.length-2;a>=0&&s;a-=2){const c=Math.floor(t[a]),u=Math.floor(t[a+1]);if(c<-1||c>n||u<-1||u>i)throw new H;s=!1,c===-1?(t[a]=0,s=!0):c===n&&(t[a]=n-1,s=!0),u===-1?(t[a+1]=0,s=!0):u===i&&(t[a+1]=i-1,s=!0)}}}class Oe{constructor(e,t,n,i,s,a,c,u,g){this.a11=e,this.a21=t,this.a31=n,this.a12=i,this.a22=s,this.a32=a,this.a13=c,this.a23=u,this.a33=g}static quadrilateralToQuadrilateral(e,t,n,i,s,a,c,u,g,x,w,b,S,R,L,P){const V=Oe.quadrilateralToSquare(e,t,n,i,s,a,c,u);return Oe.squareToQuadrilateral(g,x,w,b,S,R,L,P).times(V)}transformPoints(e){const t=e.length,n=this.a11,i=this.a12,s=this.a13,a=this.a21,c=this.a22,u=this.a23,g=this.a31,x=this.a32,w=this.a33;for(let b=0;b<t;b+=2){const S=e[b],R=e[b+1],L=s*S+u*R+w;e[b]=(n*S+a*R+g)/L,e[b+1]=(i*S+c*R+x)/L}}transformPointsWithValues(e,t){const n=this.a11,i=this.a12,s=this.a13,a=this.a21,c=this.a22,u=this.a23,g=this.a31,x=this.a32,w=this.a33,b=e.length;for(let S=0;S<b;S++){const R=e[S],L=t[S],P=s*R+u*L+w;e[S]=(n*R+a*L+g)/P,t[S]=(i*R+c*L+x)/P}}static squareToQuadrilateral(e,t,n,i,s,a,c,u){const g=e-n+s-c,x=t-i+a-u;if(g===0&&x===0)return new Oe(n-e,s-n,e,i-t,a-i,t,0,0,1);{const w=n-s,b=c-s,S=i-a,R=u-a,L=w*R-b*S,P=(g*R-b*x)/L,V=(w*x-g*S)/L;return new Oe(n-e+P*n,c-e+V*c,e,i-t+P*i,u-t+V*u,t,P,V,1)}}static quadrilateralToSquare(e,t,n,i,s,a,c,u){return Oe.squareToQuadrilateral(e,t,n,i,s,a,c,u).buildAdjoint()}buildAdjoint(){return new Oe(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Oe(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class qe extends Ne{sampleGrid(e,t,n,i,s,a,c,u,g,x,w,b,S,R,L,P,V,ie,oe){const re=Oe.quadrilateralToQuadrilateral(i,s,a,c,u,g,x,w,b,S,R,L,P,V,ie,oe);return this.sampleGridWithTransform(e,t,n,re)}sampleGridWithTransform(e,t,n,i){if(t<=0||n<=0)throw new H;const s=new rt(t,n),a=new Float32Array(2*t);for(let c=0;c<n;c++){const u=a.length,g=c+.5;for(let x=0;x<u;x+=2)a[x]=x/2+.5,a[x+1]=g;i.transformPoints(a),Ne.checkAndNudgePoints(e,a);try{for(let x=0;x<u;x+=2)e.get(Math.floor(a[x]),Math.floor(a[x+1]))&&s.set(x/2,c)}catch{throw new H}}return s}}class Ue{static setGridSampler(e){Ue.gridSampler=e}static getInstance(){return Ue.gridSampler}}Ue.gridSampler=new qe;class Ve{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new B(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class zt{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){let a=n[0];n[0]=n[2],n[2]=a}this.extractParameters(n);let i=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),s=this.getMatrixCornerPoints(n);return new me(i,s,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new H;let t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);let i=0;for(let a=0;a<4;a++){let c=n[(this.shift+a)%4];this.compact?(i<<=7,i+=c>>1&127):(i<<=10,i+=(c>>2&992)+(c>>1&31))}let s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)}getRotation(e,t){let n=0;e.forEach((i,s,a)=>{let c=(i>>t-2<<1)+(i&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(let i=0;i<4;i++)if(ae.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new H}getCorrectedParameterData(e,t){let n,i;t?(n=7,i=2):(n=10,i=4);let s=n-i,a=new Int32Array(n);for(let u=n-1;u>=0;--u)a[u]=e&15,e>>=4;try{new Z(M.AZTEC_PARAM).decode(a,s)}catch{throw new H}let c=0;for(let u=0;u<i;u++)c=(c<<4)+a[u];return c}getBullsEyeCorners(e){let t=e,n=e,i=e,s=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let w=this.getFirstDifferent(t,a,1,-1),b=this.getFirstDifferent(n,a,1,1),S=this.getFirstDifferent(i,a,-1,1),R=this.getFirstDifferent(s,a,-1,-1);if(this.nbCenterLayers>2){let L=this.distancePoint(R,w)*this.nbCenterLayers/(this.distancePoint(s,t)*(this.nbCenterLayers+2));if(L<.75||L>1.25||!this.isWhiteOrBlackRectangle(w,b,S,R))break}t=w,n=b,i=S,s=R,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new H;this.compact=this.nbCenterLayers===5;let c=new B(t.getX()+.5,t.getY()-.5),u=new B(n.getX()+.5,n.getY()+.5),g=new B(i.getX()-.5,i.getY()+.5),x=new B(s.getX()-.5,s.getY()-.5);return this.expandSquare([c,u,g,x],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,n,i;try{let c=new pe(this.image).detect();e=c[0],t=c[1],n=c[2],i=c[3]}catch{let u=this.image.getWidth()/2,g=this.image.getHeight()/2;e=this.getFirstDifferent(new Ve(u+7,g-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Ve(u+7,g+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ve(u-7,g+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ve(u-7,g-7),!1,-1,-1).toResultPoint()}let s=G.round((e.getX()+i.getX()+t.getX()+n.getX())/4),a=G.round((e.getY()+i.getY()+t.getY()+n.getY())/4);try{let c=new pe(this.image,15,s,a).detect();e=c[0],t=c[1],n=c[2],i=c[3]}catch{e=this.getFirstDifferent(new Ve(s+7,a-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Ve(s+7,a+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ve(s-7,a+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ve(s-7,a-7),!1,-1,-1).toResultPoint()}return s=G.round((e.getX()+i.getX()+t.getX()+n.getX())/4),a=G.round((e.getY()+i.getY()+t.getY()+n.getY())/4),new Ve(s,a)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,n,i,s){let a=Ue.getInstance(),c=this.getDimension(),u=c/2-this.nbCenterLayers,g=c/2+this.nbCenterLayers;return a.sampleGrid(e,c,c,u,u,g,u,g,g,u,g,t.getX(),t.getY(),n.getX(),n.getY(),i.getX(),i.getY(),s.getX(),s.getY())}sampleLine(e,t,n){let i=0,s=this.distanceResultPoint(e,t),a=s/n,c=e.getX(),u=e.getY(),g=a*(t.getX()-e.getX())/s,x=a*(t.getY()-e.getY())/s;for(let w=0;w<n;w++)this.image.get(G.round(c+w*g),G.round(u+w*x))&&(i|=1<<n-w-1);return i}isWhiteOrBlackRectangle(e,t,n,i){let s=3;e=new Ve(e.getX()-s,e.getY()+s),t=new Ve(t.getX()-s,t.getY()-s),n=new Ve(n.getX()+s,n.getY()-s),i=new Ve(i.getX()+s,i.getY()+s);let a=this.getColor(i,e);if(a===0)return!1;let c=this.getColor(e,t);return c!==a||(c=this.getColor(t,n),c!==a)?!1:(c=this.getColor(n,i),c===a)}getColor(e,t){let n=this.distancePoint(e,t),i=(t.getX()-e.getX())/n,s=(t.getY()-e.getY())/n,a=0,c=e.getX(),u=e.getY(),g=this.image.get(e.getX(),e.getY()),x=Math.ceil(n);for(let b=0;b<x;b++)c+=i,u+=s,this.image.get(G.round(c),G.round(u))!==g&&a++;let w=a/n;return w>.1&&w<.9?0:w<=.1===g?1:-1}getFirstDifferent(e,t,n,i){let s=e.getX()+n,a=e.getY()+i;for(;this.isValid(s,a)&&this.image.get(s,a)===t;)s+=n,a+=i;for(s-=n,a-=i;this.isValid(s,a)&&this.image.get(s,a)===t;)s+=n;for(s-=n;this.isValid(s,a)&&this.image.get(s,a)===t;)a+=i;return a-=i,new Ve(s,a)}expandSquare(e,t,n){let i=n/(2*t),s=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),c=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,g=new B(c+i*s,u+i*a),x=new B(c-i*s,u-i*a);s=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),c=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;let w=new B(c+i*s,u+i*a),b=new B(c-i*s,u-i*a);return[g,w,x,b]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=G.round(e.getX()),n=G.round(e.getY());return this.isValid(t,n)}distancePoint(e,t){return G.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return G.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(ae.truncDivision(this.nbLayers-4,8)+1)+15}}class yn{decode(e,t=null){let n=null,i=new zt(e.getBlackMatrix()),s=null,a=null;try{let x=i.detectMirror(!1);s=x.getPoints(),this.reportFoundResultPoints(t,s),a=new ee().decode(x)}catch(x){n=x}if(a==null)try{let x=i.detectMirror(!0);s=x.getPoints(),this.reportFoundResultPoints(t,s),a=new ee().decode(x)}catch(x){throw n??x}let c=new dt(a.getText(),a.getRawBytes(),a.getNumBits(),s,ge.AZTEC,J.currentTimeMillis()),u=a.getByteSegments();u!=null&&c.putMetadata(Je.BYTE_SEGMENTS,u);let g=a.getECLevel();return g!=null&&c.putMetadata(Je.ERROR_CORRECTION_LEVEL,g),c}reportFoundResultPoints(e,t){if(e!=null){let n=e.get(we.NEED_RESULT_POINT_CALLBACK);n!=null&&t.forEach((i,s,a)=>{n.foundPossibleResultPoint(i)})}}reset(){}}class oi extends Ht{constructor(e=500){super(new yn,e)}}class ut{decode(e,t){try{return this.doDecode(e,t)}catch{if(t&&t.get(we.TRY_HARDER)===!0&&e.isRotateSupported()){const s=e.rotateCounterClockwise(),a=this.doDecode(s,t),c=a.getResultMetadata();let u=270;c!==null&&c.get(Je.ORIENTATION)===!0&&(u=u+c.get(Je.ORIENTATION)%360),a.putMetadata(Je.ORIENTATION,u);const g=a.getResultPoints();if(g!==null){const x=s.getHeight();for(let w=0;w<g.length;w++)g[w]=new B(x-g[w].getY()-1,g[w].getX())}return a}else throw new H}}reset(){}doDecode(e,t){const n=e.getWidth(),i=e.getHeight();let s=new Q(n);const a=t&&t.get(we.TRY_HARDER)===!0,c=Math.max(1,i>>(a?8:5));let u;a?u=i:u=15;const g=Math.trunc(i/2);for(let x=0;x<u;x++){const w=Math.trunc((x+1)/2),b=(x&1)===0,S=g+c*(b?w:-w);if(S<0||S>=i)break;try{s=e.getBlackRow(S,s)}catch{continue}for(let R=0;R<2;R++){if(R===1&&(s.reverse(),t&&t.get(we.NEED_RESULT_POINT_CALLBACK)===!0)){const L=new Map;t.forEach((P,V)=>L.set(V,P)),L.delete(we.NEED_RESULT_POINT_CALLBACK),t=L}try{const L=this.decodeRow(S,s,t);if(R===1){L.putMetadata(Je.ORIENTATION,180);const P=L.getResultPoints();P!==null&&(P[0]=new B(n-P[0].getX()-1,P[0].getY()),P[1]=new B(n-P[1].getX()-1,P[1].getY()))}return L}catch{}}}throw new H}static recordPattern(e,t,n){const i=n.length;for(let g=0;g<i;g++)n[g]=0;const s=e.getSize();if(t>=s)throw new H;let a=!e.get(t),c=0,u=t;for(;u<s;){if(e.get(u)!==a)n[c]++;else{if(++c===i)break;n[c]=1,a=!a}u++}if(!(c===i||c===i-1&&u===s))throw new H}static recordPatternInReverse(e,t,n){let i=n.length,s=e.get(t);for(;t>0&&i>=0;)e.get(--t)!==s&&(i--,s=!s);if(i>=0)throw new H;ut.recordPattern(e,t+1,n)}static patternMatchVariance(e,t,n){const i=e.length;let s=0,a=0;for(let g=0;g<i;g++)s+=e[g],a+=t[g];if(s<a)return Number.POSITIVE_INFINITY;const c=s/a;n*=c;let u=0;for(let g=0;g<i;g++){const x=e[g],w=t[g]*c,b=x>w?x-w:w-x;if(b>n)return Number.POSITIVE_INFINITY;u+=b}return u/s}}class ce extends ut{static findStartPattern(e){const t=e.getSize(),n=e.getNextSet(0);let i=0,s=Int32Array.from([0,0,0,0,0,0]),a=n,c=!1;const u=6;for(let g=n;g<t;g++)if(e.get(g)!==c)s[i]++;else{if(i===u-1){let x=ce.MAX_AVG_VARIANCE,w=-1;for(let b=ce.CODE_START_A;b<=ce.CODE_START_C;b++){const S=ut.patternMatchVariance(s,ce.CODE_PATTERNS[b],ce.MAX_INDIVIDUAL_VARIANCE);S<x&&(x=S,w=b)}if(w>=0&&e.isRange(Math.max(0,a-(g-a)/2),a,!1))return Int32Array.from([a,g,w]);a+=s[0]+s[1],s=s.slice(2,s.length-1),s[i-1]=0,s[i]=0,i--}else i++;s[i]=1,c=!c}throw new H}static decodeCode(e,t,n){ut.recordPattern(e,n,t);let i=ce.MAX_AVG_VARIANCE,s=-1;for(let a=0;a<ce.CODE_PATTERNS.length;a++){const c=ce.CODE_PATTERNS[a],u=this.patternMatchVariance(t,c,ce.MAX_INDIVIDUAL_VARIANCE);u<i&&(i=u,s=a)}if(s>=0)return s;throw new H}decodeRow(e,t,n){const i=n&&n.get(we.ASSUME_GS1)===!0,s=ce.findStartPattern(t),a=s[2];let c=0;const u=new Uint8Array(20);u[c++]=a;let g;switch(a){case ce.CODE_START_A:g=ce.CODE_CODE_A;break;case ce.CODE_START_B:g=ce.CODE_CODE_B;break;case ce.CODE_START_C:g=ce.CODE_CODE_C;break;default:throw new q}let x=!1,w=!1,b="",S=s[0],R=s[1];const L=Int32Array.from([0,0,0,0,0,0]);let P=0,V=0,ie=a,oe=0,re=!0,je=!1,Fe=!1;for(;!x;){const Ir=w;switch(w=!1,P=V,V=ce.decodeCode(t,L,R),u[c++]=V,V!==ce.CODE_STOP&&(re=!0),V!==ce.CODE_STOP&&(oe++,ie+=oe*V),S=R,R+=L.reduce((ta,na)=>ta+na,0),V){case ce.CODE_START_A:case ce.CODE_START_B:case ce.CODE_START_C:throw new q}switch(g){case ce.CODE_CODE_A:if(V<64)Fe===je?b+=String.fromCharCode(" ".charCodeAt(0)+V):b+=String.fromCharCode(" ".charCodeAt(0)+V+128),Fe=!1;else if(V<96)Fe===je?b+=String.fromCharCode(V-64):b+=String.fromCharCode(V+64),Fe=!1;else switch(V!==ce.CODE_STOP&&(re=!1),V){case ce.CODE_FNC_1:i&&(b.length===0?b+="]C1":b+=String.fromCharCode(29));break;case ce.CODE_FNC_2:case ce.CODE_FNC_3:break;case ce.CODE_FNC_4_A:!je&&Fe?(je=!0,Fe=!1):je&&Fe?(je=!1,Fe=!1):Fe=!0;break;case ce.CODE_SHIFT:w=!0,g=ce.CODE_CODE_B;break;case ce.CODE_CODE_B:g=ce.CODE_CODE_B;break;case ce.CODE_CODE_C:g=ce.CODE_CODE_C;break;case ce.CODE_STOP:x=!0;break}break;case ce.CODE_CODE_B:if(V<96)Fe===je?b+=String.fromCharCode(" ".charCodeAt(0)+V):b+=String.fromCharCode(" ".charCodeAt(0)+V+128),Fe=!1;else switch(V!==ce.CODE_STOP&&(re=!1),V){case ce.CODE_FNC_1:i&&(b.length===0?b+="]C1":b+=String.fromCharCode(29));break;case ce.CODE_FNC_2:case ce.CODE_FNC_3:break;case ce.CODE_FNC_4_B:!je&&Fe?(je=!0,Fe=!1):je&&Fe?(je=!1,Fe=!1):Fe=!0;break;case ce.CODE_SHIFT:w=!0,g=ce.CODE_CODE_A;break;case ce.CODE_CODE_A:g=ce.CODE_CODE_A;break;case ce.CODE_CODE_C:g=ce.CODE_CODE_C;break;case ce.CODE_STOP:x=!0;break}break;case ce.CODE_CODE_C:if(V<100)V<10&&(b+="0"),b+=V;else switch(V!==ce.CODE_STOP&&(re=!1),V){case ce.CODE_FNC_1:i&&(b.length===0?b+="]C1":b+=String.fromCharCode(29));break;case ce.CODE_CODE_A:g=ce.CODE_CODE_A;break;case ce.CODE_CODE_B:g=ce.CODE_CODE_B;break;case ce.CODE_STOP:x=!0;break}break}Ir&&(g=g===ce.CODE_CODE_A?ce.CODE_CODE_B:ce.CODE_CODE_A)}const Kt=R-S;if(R=t.getNextUnset(R),!t.isRange(R,Math.min(t.getSize(),R+(R-S)/2),!1))throw new H;if(ie-=oe*P,ie%103!==P)throw new z;const wn=b.length;if(wn===0)throw new H;wn>0&&re&&(g===ce.CODE_CODE_C?b=b.substring(0,wn-2):b=b.substring(0,wn-1));const Zt=(s[1]+s[0])/2,ct=S+Kt/2,Rt=u.length,tn=new Uint8Array(Rt);for(let Ir=0;Ir<Rt;Ir++)tn[Ir]=u[Ir];const Tr=[new B(Zt,e),new B(ct,e)];return new dt(b,tn,0,Tr,ge.CODE_128,new Date().getTime())}}ce.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ce.MAX_AVG_VARIANCE=.25,ce.MAX_INDIVIDUAL_VARIANCE=.7,ce.CODE_SHIFT=98,ce.CODE_CODE_C=99,ce.CODE_CODE_B=100,ce.CODE_CODE_A=101,ce.CODE_FNC_1=102,ce.CODE_FNC_2=97,ce.CODE_FNC_3=96,ce.CODE_FNC_4_A=101,ce.CODE_FNC_4_B=100,ce.CODE_START_A=103,ce.CODE_START_B=104,ce.CODE_START_C=105,ce.CODE_STOP=106;class Ke extends ut{constructor(e=!1,t=!1){super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,n){let i=this.counters;i.fill(0),this.decodeRowResult="";let s=Ke.findAsteriskPattern(t,i),a=t.getNextSet(s[1]),c=t.getSize(),u,g;do{Ke.recordPattern(t,a,i);let L=Ke.toNarrowWidePattern(i);if(L<0)throw new H;u=Ke.patternToChar(L),this.decodeRowResult+=u,g=a;for(let P of i)a+=P;a=t.getNextSet(a)}while(u!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let x=0;for(let L of i)x+=L;let w=a-g-x;if(a!==c&&w*2<x)throw new H;if(this.usingCheckDigit){let L=this.decodeRowResult.length-1,P=0;for(let V=0;V<L;V++)P+=Ke.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(V));if(this.decodeRowResult.charAt(L)!==Ke.ALPHABET_STRING.charAt(P%43))throw new z;this.decodeRowResult=this.decodeRowResult.substring(0,L)}if(this.decodeRowResult.length===0)throw new H;let b;this.extendedMode?b=Ke.decodeExtended(this.decodeRowResult):b=this.decodeRowResult;let S=(s[1]+s[0])/2,R=g+x/2;return new dt(b,null,0,[new B(S,e),new B(R,e)],ge.CODE_39,new Date().getTime())}static findAsteriskPattern(e,t){let n=e.getSize(),i=e.getNextSet(0),s=0,a=i,c=!1,u=t.length;for(let g=i;g<n;g++)if(e.get(g)!==c)t[s]++;else{if(s===u-1){if(this.toNarrowWidePattern(t)===Ke.ASTERISK_ENCODING&&e.isRange(Math.max(0,a-Math.floor((g-a)/2)),a,!1))return[a,g];a+=t[0]+t[1],t.copyWithin(0,2,2+s-1),t[s-1]=0,t[s]=0,s--}else s++;t[s]=1,c=!c}throw new H}static toNarrowWidePattern(e){let t=e.length,n=0,i;do{let s=2147483647;for(let u of e)u<s&&u>n&&(s=u);n=s,i=0;let a=0,c=0;for(let u=0;u<t;u++){let g=e[u];g>n&&(c|=1<<t-1-u,i++,a+=g)}if(i===3){for(let u=0;u<t&&i>0;u++){let g=e[u];if(g>n&&(i--,g*2>=a))return-1}return c}}while(i>3);return-1}static patternToChar(e){for(let t=0;t<Ke.CHARACTER_ENCODINGS.length;t++)if(Ke.CHARACTER_ENCODINGS[t]===e)return Ke.ALPHABET_STRING.charAt(t);if(e===Ke.ASTERISK_ENCODING)return"*";throw new H}static decodeExtended(e){let t=e.length,n="";for(let i=0;i<t;i++){let s=e.charAt(i);if(s==="+"||s==="$"||s==="%"||s==="/"){let a=e.charAt(i+1),c="\0";switch(s){case"+":if(a>="A"&&a<="Z")c=String.fromCharCode(a.charCodeAt(0)+32);else throw new q;break;case"$":if(a>="A"&&a<="Z")c=String.fromCharCode(a.charCodeAt(0)-64);else throw new q;break;case"%":if(a>="A"&&a<="E")c=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")c=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")c=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")c=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")c="\0";else if(a==="V")c="@";else if(a==="W")c="`";else if(a==="X"||a==="Y"||a==="Z")c="";else throw new q;break;case"/":if(a>="A"&&a<="O")c=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")c=":";else throw new q;break}n+=c,i++}else n+=s}return n}}Ke.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ke.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ke.ASTERISK_ENCODING=148;class Xe extends ut{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,n){let i=this.decodeStart(t),s=this.decodeEnd(t),a=new Se;Xe.decodeMiddle(t,i[1],s[0],a);let c=a.toString(),u=null;n!=null&&(u=n.get(we.ALLOWED_LENGTHS)),u==null&&(u=Xe.DEFAULT_ALLOWED_LENGTHS);let g=c.length,x=!1,w=0;for(let R of u){if(g===R){x=!0;break}R>w&&(w=R)}if(!x&&g>w&&(x=!0),!x)throw new q;const b=[new B(i[1],e),new B(s[0],e)];return new dt(c,null,0,b,ge.ITF,new Date().getTime())}static decodeMiddle(e,t,n,i){let s=new Int32Array(10),a=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),a.fill(0),c.fill(0);t<n;){ut.recordPattern(e,t,s);for(let g=0;g<5;g++){let x=2*g;a[g]=s[x],c[g]=s[x+1]}let u=Xe.decodeDigit(a);i.append(u.toString()),u=this.decodeDigit(c),i.append(u.toString()),s.forEach(function(g){t+=g})}}decodeStart(e){let t=Xe.skipWhiteSpace(e),n=Xe.findGuardPattern(e,t,Xe.START_PATTERN);return this.narrowLineWidth=(n[1]-n[0])/4,this.validateQuietZone(e,n[0]),n}validateQuietZone(e,t){let n=this.narrowLineWidth*10;n=n<t?n:t;for(let i=t-1;n>0&&i>=0&&!e.get(i);i--)n--;if(n!==0)throw new H}static skipWhiteSpace(e){const t=e.getSize(),n=e.getNextSet(0);if(n===t)throw new H;return n}decodeEnd(e){e.reverse();try{let t=Xe.skipWhiteSpace(e),n;try{n=Xe.findGuardPattern(e,t,Xe.END_PATTERN_REVERSED[0])}catch(s){s instanceof H&&(n=Xe.findGuardPattern(e,t,Xe.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,n[0]);let i=n[0];return n[0]=e.getSize()-n[1],n[1]=e.getSize()-i,n}finally{e.reverse()}}static findGuardPattern(e,t,n){let i=n.length,s=new Int32Array(i),a=e.getSize(),c=!1,u=0,g=t;s.fill(0);for(let x=t;x<a;x++)if(e.get(x)!==c)s[u]++;else{if(u===i-1){if(ut.patternMatchVariance(s,n,Xe.MAX_INDIVIDUAL_VARIANCE)<Xe.MAX_AVG_VARIANCE)return[g,x];g+=s[0]+s[1],J.arraycopy(s,2,s,0,u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,c=!c}throw new H}static decodeDigit(e){let t=Xe.MAX_AVG_VARIANCE,n=-1,i=Xe.PATTERNS.length;for(let s=0;s<i;s++){let a=Xe.PATTERNS[s],c=ut.patternMatchVariance(e,a,Xe.MAX_INDIVIDUAL_VARIANCE);c<t?(t=c,n=s):c===t&&(n=-1)}if(n>=0)return n%10;throw new H}}Xe.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Xe.MAX_AVG_VARIANCE=.38,Xe.MAX_INDIVIDUAL_VARIANCE=.5,Xe.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Xe.START_PATTERN=Int32Array.from([1,1,1,1]),Xe.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class st extends ut{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t=!1,n,i=0,s=Int32Array.from([0,0,0]);for(;!t;){s=Int32Array.from([0,0,0]),n=st.findGuardPattern(e,i,!1,this.START_END_PATTERN,s);let a=n[0];i=n[1];let c=a-(i-a);c>=0&&(t=e.isRange(c,a,!1))}return n}static checkChecksum(e){return st.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let n=parseInt(e.charAt(t-1),10);return st.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let i=t-1;i>=0;i-=2){let s=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new q;n+=s}n*=3;for(let i=t-2;i>=0;i-=2){let s=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new q;n+=s}return(1e3-n)%10}static decodeEnd(e,t){return st.findGuardPattern(e,t,!1,st.START_END_PATTERN,new Int32Array(st.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,n,i){return this.findGuardPattern(e,t,n,i,new Int32Array(i.length))}static findGuardPattern(e,t,n,i,s){let a=e.getSize();t=n?e.getNextUnset(t):e.getNextSet(t);let c=0,u=t,g=i.length,x=n;for(let w=t;w<a;w++)if(e.get(w)!==x)s[c]++;else{if(c===g-1){if(ut.patternMatchVariance(s,i,st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE)return Int32Array.from([u,w]);u+=s[0]+s[1];let b=s.slice(2,s.length-1);for(let S=0;S<c-1;S++)s[S]=b[S];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,x=!x}throw new H}static decodeDigit(e,t,n,i){this.recordPattern(e,n,t);let s=this.MAX_AVG_VARIANCE,a=-1,c=i.length;for(let u=0;u<c;u++){let g=i[u],x=ut.patternMatchVariance(t,g,st.MAX_INDIVIDUAL_VARIANCE);x<s&&(s=x,a=u)}if(a>=0)return a;throw new H}}st.MAX_AVG_VARIANCE=.48,st.MAX_INDIVIDUAL_VARIANCE=.7,st.START_END_PATTERN=Int32Array.from([1,1,1]),st.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),st.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),st.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Lr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let i=this.decodeRowStringBuffer,s=this.decodeMiddle(t,n,i),a=i.toString(),c=Lr.parseExtensionString(a),u=[new B((n[0]+n[1])/2,e),new B(s,e)],g=new dt(a,null,0,u,ge.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&g.putAllMetadata(c),g}decodeMiddle(e,t,n){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let s=e.getSize(),a=t[1],c=0;for(let g=0;g<5&&a<s;g++){let x=st.decodeDigit(e,i,a,st.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+x%10);for(let w of i)a+=w;x>=10&&(c|=1<<4-g),g!==4&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(n.length!==5)throw new H;let u=this.determineCheckDigit(c);if(Lr.extensionChecksum(n.toString())!==u)throw new H;return a}static extensionChecksum(e){let t=e.length,n=0;for(let i=t-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(let i=t-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);return n*=3,n%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new H}static parseExtensionString(e){if(e.length!==5)return null;let t=Lr.parseExtension5String(e);return t==null?null:new Map([[Je.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}let n=parseInt(e.substring(1)),i=(n/100).toString(),s=n%100,a=s<10?"0"+s:s.toString();return t+i+"."+a}}class Xn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let i=this.decodeRowStringBuffer,s=this.decodeMiddle(t,n,i),a=i.toString(),c=Xn.parseExtensionString(a),u=[new B((n[0]+n[1])/2,e),new B(s,e)],g=new dt(a,null,0,u,ge.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&g.putAllMetadata(c),g}decodeMiddle(e,t,n){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let s=e.getSize(),a=t[1],c=0;for(let u=0;u<2&&a<s;u++){let g=st.decodeDigit(e,i,a,st.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+g%10);for(let x of i)a+=x;g>=10&&(c|=1<<1-u),u!==1&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(n.length!==2)throw new H;if(parseInt(n.toString())%4!==c)throw new H;return a}static parseExtensionString(e){return e.length!==2?null:new Map([[Je.ISSUE_NUMBER,parseInt(e)]])}}class bs{static decodeRow(e,t,n){let i=st.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Lr().decodeRow(e,t,i)}catch{return new Xn().decodeRow(e,t,i)}}}bs.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class et extends st{constructor(){super(),this.decodeRowStringBuffer="",et.L_AND_G_PATTERNS=et.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let t=et.L_PATTERNS[e-10],n=new Int32Array(t.length);for(let i=0;i<t.length;i++)n[i]=t[t.length-i-1];et.L_AND_G_PATTERNS[e]=n}}decodeRow(e,t,n){let i=et.findStartGuardPattern(t),s=n==null?null:n.get(we.NEED_RESULT_POINT_CALLBACK);if(s!=null){const re=new B((i[0]+i[1])/2,e);s.foundPossibleResultPoint(re)}let a=this.decodeMiddle(t,i,this.decodeRowStringBuffer),c=a.rowOffset,u=a.resultString;if(s!=null){const re=new B(c,e);s.foundPossibleResultPoint(re)}let g=this.decodeEnd(t,c);if(s!=null){const re=new B((g[0]+g[1])/2,e);s.foundPossibleResultPoint(re)}let x=g[1],w=x+(x-g[0]);if(w>=t.getSize()||!t.isRange(x,w,!1))throw new H;let b=u.toString();if(b.length<8)throw new q;if(!et.checkChecksum(b))throw new z;let S=(i[1]+i[0])/2,R=(g[1]+g[0])/2,L=this.getBarcodeFormat(),P=[new B(S,e),new B(R,e)],V=new dt(b,null,0,P,L,new Date().getTime()),ie=0;try{let re=bs.decodeRow(e,t,g[1]);V.putMetadata(Je.UPC_EAN_EXTENSION,re.getText()),V.putAllMetadata(re.getResultMetadata()),V.addResultPoints(re.getResultPoints()),ie=re.getText().length}catch{}let oe=n==null?null:n.get(we.ALLOWED_EAN_EXTENSIONS);if(oe!=null){let re=!1;for(let je in oe)if(ie.toString()===je){re=!0;break}if(!re)throw new H}return V}decodeEnd(e,t){return et.findGuardPattern(e,t,!1,et.START_END_PATTERN,new Int32Array(et.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return et.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let n=parseInt(e.charAt(t-1),10);return et.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let i=t-1;i>=0;i-=2){let s=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new q;n+=s}n*=3;for(let i=t-2;i>=0;i-=2){let s=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new q;n+=s}return(1e3-n)%10}}class ir extends et{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let s=e.getSize(),a=t[1],c=0;for(let g=0;g<6&&a<s;g++){let x=et.decodeDigit(e,i,a,et.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+x%10);for(let w of i)a+=w;x>=10&&(c|=1<<5-g)}n=ir.determineFirstDigit(n,c),a=et.findGuardPattern(e,a,!0,et.MIDDLE_PATTERN,new Int32Array(et.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&a<s;g++){let x=et.decodeDigit(e,i,a,et.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+x);for(let w of i)a+=w}return{rowOffset:a,resultString:n}}getBarcodeFormat(){return ge.EAN_13}static determineFirstDigit(e,t){for(let n=0;n<10;n++)if(t===this.FIRST_DIGIT_ENCODINGS[n])return e=String.fromCharCode("0".charCodeAt(0)+n)+e,e;throw new H}}ir.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ys extends et{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){const i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let s=e.getSize(),a=t[1];for(let u=0;u<4&&a<s;u++){let g=et.decodeDigit(e,i,a,et.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+g);for(let x of i)a+=x}a=et.findGuardPattern(e,a,!0,et.MIDDLE_PATTERN,new Int32Array(et.MIDDLE_PATTERN.length).fill(0))[1];for(let u=0;u<4&&a<s;u++){let g=et.decodeDigit(e,i,a,et.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+g);for(let x of i)a+=x}return{rowOffset:a,resultString:n}}getBarcodeFormat(){return ge.EAN_8}}class Ts extends et{constructor(){super(...arguments),this.ean13Reader=new ir}getBarcodeFormat(){return ge.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,n){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,n))}decodeMiddle(e,t,n){return this.ean13Reader.decodeMiddle(e,t,n)}maybeReturnResult(e){let t=e.getText();if(t.charAt(0)==="0"){let n=new dt(t.substring(1),null,null,e.getResultPoints(),ge.UPC_A);return e.getResultMetadata()!=null&&n.putAllMetadata(e.getResultMetadata()),n}else throw new H}reset(){this.ean13Reader.reset()}}class pn extends et{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,n){const i=this.decodeMiddleCounters.map(g=>g);i[0]=0,i[1]=0,i[2]=0,i[3]=0;const s=e.getSize();let a=t[1],c=0;for(let g=0;g<6&&a<s;g++){const x=pn.decodeDigit(e,i,a,pn.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+x%10);for(let w of i)a+=w;x>=10&&(c|=1<<5-g)}let u=pn.determineNumSysAndCheckDigit(n,c);return{rowOffset:a,resultString:u}}decodeEnd(e,t){return pn.findGuardPatternWithoutCounters(e,t,!0,pn.MIDDLE_END_PATTERN)}checkChecksum(e){return et.checkChecksum(pn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let n=0;n<=1;n++)for(let i=0;i<10;i++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[n][i]){let s=String.fromCharCode("0".charCodeAt(0)+n),a=String.fromCharCode("0".charCodeAt(0)+i);return s+e+a}throw H.getNotFoundInstance()}getBarcodeFormat(){return ge.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map(s=>s.charCodeAt(0)),n=new Se;n.append(e.charAt(0));let i=t[5];switch(i){case 0:case 1:case 2:n.appendChars(t,0,2),n.append(i),n.append("0000"),n.appendChars(t,2,3);break;case 3:n.appendChars(t,0,3),n.append("00000"),n.appendChars(t,3,2);break;case 4:n.appendChars(t,0,4),n.append("00000"),n.append(t[4]);break;default:n.appendChars(t,0,5),n.append("0000"),n.append(i);break}return e.length>=8&&n.append(e.charAt(7)),n.toString()}}pn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),pn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Hi extends ut{constructor(e){super();let t=e==null?null:e.get(we.POSSIBLE_FORMATS),n=[];f(t)?(n.push(new ir),n.push(new Ts),n.push(new ys),n.push(new pn)):(t.indexOf(ge.EAN_13)>-1&&n.push(new ir),t.indexOf(ge.UPC_A)>-1&&n.push(new Ts),t.indexOf(ge.EAN_8)>-1&&n.push(new ys),t.indexOf(ge.UPC_E)>-1&&n.push(new pn)),this.readers=n}decodeRow(e,t,n){for(let i of this.readers)try{const s=i.decodeRow(e,t,n),a=s.getBarcodeFormat()===ge.EAN_13&&s.getText().charAt(0)==="0",c=n==null?null:n.get(we.POSSIBLE_FORMATS),u=c==null||c.includes(ge.UPC_A);if(a&&u){const g=s.getRawBytes(),x=new dt(s.getText().substring(1),g,g?g.length:null,s.getResultPoints(),ge.UPC_A);return x.putAllMetadata(s.getResultMetadata()),x}return s}catch{}throw new H}reset(){for(let e of this.readers)e.reset()}}class Pt extends ut{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let n=0;n<t.length;n++)if(ut.patternMatchVariance(e,t[n],Pt.MAX_INDIVIDUAL_VARIANCE)<Pt.MAX_AVG_VARIANCE)return n;throw new H}static count(e){return G.sum(new Int32Array(e))}static increment(e,t){let n=0,i=t[0];for(let s=1;s<e.length;s++)t[s]>i&&(i=t[s],n=s);e[n]++}static decrement(e,t){let n=0,i=t[0];for(let s=1;s<e.length;s++)t[s]<i&&(i=t[s],n=s);e[n]--}static isFinderPattern(e){let t=e[0]+e[1],n=t+e[2]+e[3],i=t/n;if(i>=Pt.MIN_FINDER_PATTERN_RATIO&&i<=Pt.MAX_FINDER_PATTERN_RATIO){let s=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(let c of e)c>a&&(a=c),c<s&&(s=c);return a<10*s}return!1}}Pt.MAX_AVG_VARIANCE=.2,Pt.MAX_INDIVIDUAL_VARIANCE=.45,Pt.MIN_FINDER_PATTERN_RATIO=9.5/12,Pt.MAX_FINDER_PATTERN_RATIO=12.5/14;class _r{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof _r))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ai{constructor(e,t,n,i,s){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new B(n,s)),this.resultPoints.push(new B(i,s))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof ai))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class Tn{constructor(){}static getRSSvalue(e,t,n){let i=0;for(let u of e)i+=u;let s=0,a=0,c=e.length;for(let u=0;u<c-1;u++){let g;for(g=1,a|=1<<u;g<e[u];g++,a&=~(1<<u)){let x=Tn.combins(i-g-1,c-u-2);if(n&&a===0&&i-g-(c-u-1)>=c-u-1&&(x-=Tn.combins(i-g-(c-u),c-u-2)),c-u-1>1){let w=0;for(let b=i-g-(c-u-2);b>t;b--)w+=Tn.combins(i-g-b-1,c-u-3);x-=w*(c-1-u)}else i-g>t&&x--;s+=x}i-=g}return s}static combins(e,t){let n,i;e-t>t?(i=t,n=e-t):(i=e-t,n=t);let s=1,a=1;for(let c=e;c>n;c--)s*=c,a<=i&&(s/=a,a++);for(;a<=i;)s/=a,a++;return s}}class li{static buildBitArray(e){let t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);let n=12*t,i=new Q(n),s=0,c=e[0].getRightChar().getValue();for(let u=11;u>=0;--u)c&1<<u&&i.set(s),s++;for(let u=1;u<e.length;++u){let g=e[u],x=g.getLeftChar().getValue();for(let w=11;w>=0;--w)x&1<<w&&i.set(s),s++;if(g.getRightChar()!=null){let w=g.getRightChar().getValue();for(let b=11;b>=0;--b)w&1<<b&&i.set(s),s++}}return i}}class sr{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Is{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class At extends Is{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===At.FNC1}}At.FNC1="$";class Yn extends Is{constructor(e,t,n){super(e),n?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class an extends Is{constructor(e,t,n){if(super(e),t<0||t>10||n<0||n>10)throw new q;this.firstDigit=t,this.secondDigit=n}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===an.FNC1}isSecondDigitFNC1(){return this.secondDigit===an.FNC1}isAnyFNC1(){return this.firstDigit===an.FNC1||this.secondDigit===an.FNC1}}an.FNC1=10;class xe{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new H;let t=e.substring(0,2);for(let s of xe.TWO_DIGIT_DATA_LENGTH)if(s[0]===t)return s[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(2,s[2],e):xe.processFixedAI(2,s[1],e);if(e.length<3)throw new H;let n=e.substring(0,3);for(let s of xe.THREE_DIGIT_DATA_LENGTH)if(s[0]===n)return s[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(3,s[2],e):xe.processFixedAI(3,s[1],e);for(let s of xe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(s[0]===n)return s[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(4,s[2],e):xe.processFixedAI(4,s[1],e);if(e.length<4)throw new H;let i=e.substring(0,4);for(let s of xe.FOUR_DIGIT_DATA_LENGTH)if(s[0]===i)return s[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(4,s[2],e):xe.processFixedAI(4,s[1],e);throw new H}static processFixedAI(e,t,n){if(n.length<e)throw new H;let i=n.substring(0,e);if(n.length<e+t)throw new H;let s=n.substring(e,e+t),a=n.substring(e+t),c="("+i+")"+s,u=xe.parseFieldsInGeneralPurpose(a);return u==null?c:c+u}static processVariableAI(e,t,n){let i=n.substring(0,e),s;n.length<e+t?s=n.length:s=e+t;let a=n.substring(e,s),c=n.substring(s),u="("+i+")"+a,g=xe.parseFieldsInGeneralPurpose(c);return g==null?u:u+g}}xe.VARIABLE_LENGTH=[],xe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",xe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",xe.VARIABLE_LENGTH,20],["22",xe.VARIABLE_LENGTH,29],["30",xe.VARIABLE_LENGTH,8],["37",xe.VARIABLE_LENGTH,8],["90",xe.VARIABLE_LENGTH,30],["91",xe.VARIABLE_LENGTH,30],["92",xe.VARIABLE_LENGTH,30],["93",xe.VARIABLE_LENGTH,30],["94",xe.VARIABLE_LENGTH,30],["95",xe.VARIABLE_LENGTH,30],["96",xe.VARIABLE_LENGTH,30],["97",xe.VARIABLE_LENGTH,3],["98",xe.VARIABLE_LENGTH,30],["99",xe.VARIABLE_LENGTH,30]],xe.THREE_DIGIT_DATA_LENGTH=[["240",xe.VARIABLE_LENGTH,30],["241",xe.VARIABLE_LENGTH,30],["242",xe.VARIABLE_LENGTH,6],["250",xe.VARIABLE_LENGTH,30],["251",xe.VARIABLE_LENGTH,30],["253",xe.VARIABLE_LENGTH,17],["254",xe.VARIABLE_LENGTH,20],["400",xe.VARIABLE_LENGTH,30],["401",xe.VARIABLE_LENGTH,30],["402",17],["403",xe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",xe.VARIABLE_LENGTH,20],["421",xe.VARIABLE_LENGTH,15],["422",3],["423",xe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],xe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",xe.VARIABLE_LENGTH,15],["391",xe.VARIABLE_LENGTH,18],["392",xe.VARIABLE_LENGTH,15],["393",xe.VARIABLE_LENGTH,18],["703",xe.VARIABLE_LENGTH,30]],xe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",xe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",xe.VARIABLE_LENGTH,20],["8003",xe.VARIABLE_LENGTH,30],["8004",xe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",xe.VARIABLE_LENGTH,30],["8008",xe.VARIABLE_LENGTH,12],["8018",18],["8020",xe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",xe.VARIABLE_LENGTH,70],["8200",xe.VARIABLE_LENGTH,70]];class Ar{constructor(e){this.buffer=new Se,this.information=e}decodeAllCodes(e,t){let n=t,i=null;do{let s=this.decodeGeneralPurposeField(n,i),a=xe.parseFieldsInGeneralPurpose(s.getNewString());if(a!=null&&e.append(a),s.isRemaining()?i=""+s.getRemainingValue():i=null,n===s.getNewPosition())break;n=s.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let s=this.extractNumericValueFromBitArray(e,4);return s===0?new an(this.information.getSize(),an.FNC1,an.FNC1):new an(this.information.getSize(),s-1,an.FNC1)}let t=this.extractNumericValueFromBitArray(e,7),n=(t-8)/11,i=(t-8)%11;return new an(e+7,n,i)}extractNumericValueFromBitArray(e,t){return Ar.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,n){let i=0;for(let s=0;s<n;++s)e.get(t+s)&&(i|=1<<n-s-1);return i}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);let n=this.parseBlocks();return n!=null&&n.isRemaining()?new Yn(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Yn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let n=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),!(n!==this.current.getPosition())&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return e.isSecondDigitFNC1()?t=new Yn(this.current.getPosition(),this.buffer.toString()):t=new Yn(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new sr(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let t=new Yn(this.current.getPosition(),this.buffer.toString());return new sr(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new sr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Yn(this.current.getPosition(),this.buffer.toString());return new sr(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new sr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Yn(this.current.getPosition(),this.buffer.toString());return new sr(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new sr(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new At(e+5,At.FNC1);if(t>=5&&t<15)return new At(e+5,"0"+(t-5));let n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new At(e+7,""+(n+1));if(n>=90&&n<116)return new At(e+7,""+(n+7));let i=this.extractNumericValueFromBitArray(e,8),s;switch(i){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new q}return new At(e+8,s)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new At(e+5,At.FNC1);if(t>=5&&t<15)return new At(e+5,"0"+(t-5));let n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new At(e+6,""+(n+33));let i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Y("Decoding invalid alphanumeric value: "+n)}return new At(e+6,i)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class or{constructor(e){this.information=e,this.generalDecoder=new Ar(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class yt extends or{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let n=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,n)}encodeCompressedGtinWithoutAI(e,t,n){for(let i=0;i<4;++i){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*i,10);s/100===0&&e.append("0"),s/10===0&&e.append("0"),e.append(s)}yt.appendCheckDigit(e,n)}static appendCheckDigit(e,t){let n=0;for(let i=0;i<13;i++){let s=e.charAt(i+t).charCodeAt(0)-"0".charCodeAt(0);n+=i&1?s:3*s}n=10-n%10,n===10&&(n=0),e.append(n)}}yt.GTIN_SIZE=40;class xn extends yt{constructor(e){super(e)}parseInformation(){let e=new Se;e.append("(01)");let t=e.length(),n=this.getGeneralDecoder().extractNumericValueFromBitArray(xn.HEADER_SIZE,4);return e.append(n),this.encodeCompressedGtinWithoutAI(e,xn.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,xn.HEADER_SIZE+44)}}xn.HEADER_SIZE=1+1+2;class ar extends or{constructor(e){super(e)}parseInformation(){let e=new Se;return this.getGeneralDecoder().decodeAllCodes(e,ar.HEADER_SIZE)}}ar.HEADER_SIZE=2+1+2;class ci extends yt{constructor(e){super(e)}encodeCompressedWeight(e,t,n){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(t,n);this.addWeightCode(e,i);let s=this.checkWeight(i),a=1e5;for(let c=0;c<5;++c)s/a===0&&e.append("0"),a/=10;e.append(s)}}class ln extends ci{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=ln.HEADER_SIZE+ci.GTIN_SIZE+ln.WEIGHT_SIZE)throw new H;let e=new Se;return this.encodeCompressedGtin(e,ln.HEADER_SIZE),this.encodeCompressedWeight(e,ln.HEADER_SIZE+ci.GTIN_SIZE,ln.WEIGHT_SIZE),e.toString()}}ln.HEADER_SIZE=4+1,ln.WEIGHT_SIZE=15;class Bo extends ln{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class Po extends ln{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class In extends yt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<In.HEADER_SIZE+yt.GTIN_SIZE)throw new H;let e=new Se;this.encodeCompressedGtin(e,In.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(In.HEADER_SIZE+yt.GTIN_SIZE,In.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let n=this.getGeneralDecoder().decodeGeneralPurposeField(In.HEADER_SIZE+yt.GTIN_SIZE+In.LAST_DIGIT_SIZE,null);return e.append(n.getNewString()),e.toString()}}In.HEADER_SIZE=5+1+2,In.LAST_DIGIT_SIZE=2;class Gt extends yt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Gt.HEADER_SIZE+yt.GTIN_SIZE)throw new H;let e=new Se;this.encodeCompressedGtin(e,Gt.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Gt.HEADER_SIZE+yt.GTIN_SIZE,Gt.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Gt.HEADER_SIZE+yt.GTIN_SIZE+Gt.LAST_DIGIT_SIZE,Gt.FIRST_THREE_DIGITS_SIZE);n/100==0&&e.append("0"),n/10==0&&e.append("0"),e.append(n);let i=this.getGeneralDecoder().decodeGeneralPurposeField(Gt.HEADER_SIZE+yt.GTIN_SIZE+Gt.LAST_DIGIT_SIZE+Gt.FIRST_THREE_DIGITS_SIZE,null);return e.append(i.getNewString()),e.toString()}}Gt.HEADER_SIZE=5+1+2,Gt.LAST_DIGIT_SIZE=2,Gt.FIRST_THREE_DIGITS_SIZE=10;class gt extends ci{constructor(e,t,n){super(e),this.dateCode=n,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=gt.HEADER_SIZE+gt.GTIN_SIZE+gt.WEIGHT_SIZE+gt.DATE_SIZE)throw new H;let e=new Se;return this.encodeCompressedGtin(e,gt.HEADER_SIZE),this.encodeCompressedWeight(e,gt.HEADER_SIZE+gt.GTIN_SIZE,gt.WEIGHT_SIZE),this.encodeCompressedDate(e,gt.HEADER_SIZE+gt.GTIN_SIZE+gt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,gt.DATE_SIZE);if(n==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let i=n%32;n/=32;let s=n%12+1;n/=12;let a=n;a/10==0&&e.append("0"),e.append(a),s/10==0&&e.append("0"),e.append(s),i/10==0&&e.append("0"),e.append(i)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}gt.HEADER_SIZE=7+1,gt.WEIGHT_SIZE=20,gt.DATE_SIZE=16;function Ss(_){try{if(_.get(1))return new xn(_);if(!_.get(2))return new ar(_);switch(Ar.extractNumericValueFromBitArray(_,1,4)){case 4:return new Bo(_);case 5:return new Po(_)}switch(Ar.extractNumericValueFromBitArray(_,1,5)){case 12:return new In(_);case 13:return new Gt(_)}switch(Ar.extractNumericValueFromBitArray(_,1,7)){case 56:return new gt(_,"310","11");case 57:return new gt(_,"320","11");case 58:return new gt(_,"310","13");case 59:return new gt(_,"320","13");case 60:return new gt(_,"310","15");case 61:return new gt(_,"320","15");case 62:return new gt(_,"310","17");case 63:return new gt(_,"320","17")}}catch(e){throw console.log(e),new Y("unknown decoder: "+_)}}class Ln{constructor(e,t,n,i){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=i}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof Ln?Ln.equalsOrNull(e.leftchar,t.leftchar)&&Ln.equalsOrNull(e.rightchar,t.rightchar)&&Ln.equalsOrNull(e.finderpattern,t.finderpattern):!1}static equalsOrNull(e,t){return e===null?t===null:Ln.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Cr{constructor(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof Cr?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1}checkEqualitity(e,t){if(!e||!t)return;let n;return e.forEach((i,s)=>{t.forEach(a=>{i.getLeftChar().getValue()===a.getLeftChar().getValue()&&i.getRightChar().getValue()===a.getRightChar().getValue()&&i.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(n=!0)})}),n}}class te extends Pt{constructor(e){super(...arguments),this.pairs=new Array(te.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,t,n){this.pairs.length=0,this.startFromEven=!1;try{return te.constructResult(this.decodeRow2pairs(e,t))}catch(i){this.verbose&&console.log(i)}return this.pairs.length=0,this.startFromEven=!0,te.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let n=!1;for(;!n;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(s){if(s instanceof H){if(!this.pairs.length)throw new H;n=!0}}if(this.checkChecksum())return this.pairs;let i;if(this.rows.length?i=!0:i=!1,this.storeRow(e,!1),i){let s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new H}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(n){this.verbose&&console.log(n)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let n=t;n<this.rows.length;n++){let i=this.rows[n];this.pairs.length=0;for(let a of e)this.pairs.push(a.getPairs());if(this.pairs.push(i.getPairs()),!te.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let s=new Array(e);s.push(i);try{return this.checkRows(s,n+1)}catch(a){this.verbose&&console.log(a)}}throw new H}static isValidSequence(e){for(let t of te.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let n=!0;for(let i=0;i<e.length;i++)if(e[i].getFinderPattern().getValue()!=t[i]){n=!1;break}if(n)return!0}return!1}storeRow(e,t){let n=0,i=!1,s=!1;for(;n<this.rows.length;){let a=this.rows[n];if(a.getRowNumber()>e){s=a.isEquivalent(this.pairs);break}i=a.isEquivalent(this.pairs),n++}s||i||te.isPartialRow(this.pairs,this.rows)||(this.rows.push(n,new Cr(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let n of t)if(n.getPairs().length!==e.length){for(let i of n.getPairs())for(let s of e)if(Ln.equals(i,s))break}}static isPartialRow(e,t){for(let n of t){let i=!0;for(let s of e){let a=!1;for(let c of n.getPairs())if(s.equals(c)){a=!0;break}if(!a){i=!1;break}}if(i)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=li.buildBitArray(e),i=Ss(t).parseInformation(),s=e[0].getFinderPattern().getResultPoints(),a=e[e.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],a[0],a[1]];return new dt(i,null,null,c,ge.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),n=e.getRightChar();if(n==null)return!1;let i=n.getChecksumPortion(),s=2;for(let c=1;c<this.pairs.size();++c){let u=this.pairs.get(c);i+=u.getLeftChar().getChecksumPortion(),s++;let g=u.getRightChar();g!=null&&(i+=g.getChecksumPortion(),s++)}return i%=211,211*(s-4)+i==t.getValue()}static getNextSecondBar(e,t){let n;return e.get(t)?(n=e.getNextUnset(t),n=e.getNextSet(n)):(n=e.getNextSet(t),n=e.getNextUnset(n)),n}retrieveNextPair(e,t,n){let i=t.length%2==0;this.startFromEven&&(i=!i);let s,a=!0,c=-1;do this.findNextPair(e,t,c),s=this.parseFoundFinderPattern(e,n,i),s==null?c=te.getNextSecondBar(e,this.startEnd[0]):a=!1;while(a);let u=this.decodeDataCharacter(e,s,i,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new H;let g;try{g=this.decodeDataCharacter(e,s,i,!1)}catch(x){g=null,this.verbose&&console.log(x)}return new Ln(u,g,s,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,t,n){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let s=e.getSize(),a;n>=0?a=n:this.isEmptyPair(t)?a=0:a=t[t.length-1].getFinderPattern().getStartEnd()[1];let c=t.length%2!=0;this.startFromEven&&(c=!c);let u=!1;for(;a<s&&(u=!e.get(a),!!u);)a++;let g=0,x=a;for(let w=a;w<s;w++)if(e.get(w)!=u)i[g]++;else{if(g==3){if(c&&te.reverseCounters(i),te.isFinderPattern(i)){this.startEnd[0]=x,this.startEnd[1]=w;return}c&&te.reverseCounters(i),x+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,g--}else g++;i[g]=1,u=!u}throw new H}static reverseCounters(e){let t=e.length;for(let n=0;n<t/2;++n){let i=e[n];e[n]=e[t-n-1],e[t-n-1]=i}}parseFoundFinderPattern(e,t,n){let i,s,a;if(n){let g=this.startEnd[0]-1;for(;g>=0&&!e.get(g);)g--;g++,i=this.startEnd[0]-g,s=g,a=this.startEnd[1]}else s=this.startEnd[0],a=e.getNextUnset(this.startEnd[1]+1),i=a-this.startEnd[1];let c=this.getDecodeFinderCounters();J.arraycopy(c,0,c,1,c.length-1),c[0]=i;let u;try{u=this.parseFinderValue(c,te.FINDER_PATTERNS)}catch{return null}return new ai(u,[s,a],s,a,t)}decodeDataCharacter(e,t,n,i){let s=this.getDataCharacterCounters();for(let ct=0;ct<s.length;ct++)s[ct]=0;if(i)te.recordPatternInReverse(e,t.getStartEnd()[0],s);else{te.recordPattern(e,t.getStartEnd()[1],s);for(let ct=0,Rt=s.length-1;ct<Rt;ct++,Rt--){let tn=s[ct];s[ct]=s[Rt],s[Rt]=tn}}let a=17,c=G.sum(new Int32Array(s))/a,u=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(c-u)/u>.3)throw new H;let g=this.getOddCounts(),x=this.getEvenCounts(),w=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let ct=0;ct<s.length;ct++){let Rt=1*s[ct]/c,tn=Rt+.5;if(tn<1){if(Rt<.3)throw new H;tn=1}else if(tn>8){if(Rt>8.7)throw new H;tn=8}let Tr=ct/2;ct&1?(x[Tr]=tn,b[Tr]=Rt-tn):(g[Tr]=tn,w[Tr]=Rt-tn)}this.adjustOddEvenCounts(a);let S=4*t.getValue()+(n?0:2)+(i?0:1)-1,R=0,L=0;for(let ct=g.length-1;ct>=0;ct--){if(te.isNotA1left(t,n,i)){let Rt=te.WEIGHTS[S][2*ct];L+=g[ct]*Rt}R+=g[ct]}let P=0;for(let ct=x.length-1;ct>=0;ct--)if(te.isNotA1left(t,n,i)){let Rt=te.WEIGHTS[S][2*ct+1];P+=x[ct]*Rt}let V=L+P;if(R&1||R>13||R<4)throw new H;let ie=(13-R)/2,oe=te.SYMBOL_WIDEST[ie],re=9-oe,je=Tn.getRSSvalue(g,oe,!0),Fe=Tn.getRSSvalue(x,re,!1),Kt=te.EVEN_TOTAL_SUBSET[ie],wn=te.GSUM[ie],Zt=je*Kt+Fe+wn;return new _r(Zt,V)}static isNotA1left(e,t,n){return!(e.getValue()==0&&t&&n)}adjustOddEvenCounts(e){let t=G.sum(new Int32Array(this.getOddCounts())),n=G.sum(new Int32Array(this.getEvenCounts())),i=!1,s=!1;t>13?s=!0:t<4&&(i=!0);let a=!1,c=!1;n>13?c=!0:n<4&&(a=!0);let u=t+n-e,g=(t&1)==1,x=(n&1)==0;if(u==1)if(g){if(x)throw new H;s=!0}else{if(!x)throw new H;c=!0}else if(u==-1)if(g){if(x)throw new H;i=!0}else{if(!x)throw new H;a=!0}else if(u==0){if(g){if(!x)throw new H;t<n?(i=!0,c=!0):(s=!0,a=!0)}else if(x)throw new H}else throw new H;if(i){if(s)throw new H;te.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&te.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(c)throw new H;te.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&te.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}te.SYMBOL_WIDEST=[7,5,4,3,1],te.EVEN_TOTAL_SUBSET=[4,20,52,104,204],te.GSUM=[0,348,1388,2948,3988],te.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],te.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],te.FINDER_PAT_A=0,te.FINDER_PAT_B=1,te.FINDER_PAT_C=2,te.FINDER_PAT_D=3,te.FINDER_PAT_E=4,te.FINDER_PAT_F=5,te.FINDER_PATTERN_SEQUENCES=[[te.FINDER_PAT_A,te.FINDER_PAT_A],[te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B],[te.FINDER_PAT_A,te.FINDER_PAT_C,te.FINDER_PAT_B,te.FINDER_PAT_D],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_C],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_D,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_D],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_E],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F]],te.MAX_PAIRS=11;class Fo extends _r{constructor(e,t,n){super(e,t),this.count=0,this.finderPattern=n}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class _t extends Pt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,n){const i=this.decodePair(t,!1,e,n);_t.addOrTally(this.possibleLeftPairs,i),t.reverse();let s=this.decodePair(t,!0,e,n);_t.addOrTally(this.possibleRightPairs,s),t.reverse();for(let a of this.possibleLeftPairs)if(a.getCount()>1){for(let c of this.possibleRightPairs)if(c.getCount()>1&&_t.checkChecksum(a,c))return _t.constructResult(a,c)}throw new H}static addOrTally(e,t){if(t==null)return;let n=!1;for(let i of e)if(i.getValue()===t.getValue()){i.incrementCount(),n=!0;break}n||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let n=4537077*e.getValue()+t.getValue(),i=new String(n).toString(),s=new Se;for(let g=13-i.length;g>0;g--)s.append("0");s.append(i);let a=0;for(let g=0;g<13;g++){let x=s.charAt(g).charCodeAt(0)-"0".charCodeAt(0);a+=g&1?x:3*x}a=10-a%10,a===10&&(a=0),s.append(a.toString());let c=e.getFinderPattern().getResultPoints(),u=t.getFinderPattern().getResultPoints();return new dt(s.toString(),null,0,[c[0],c[1],u[0],u[1]],ge.RSS_14,new Date().getTime())}static checkChecksum(e,t){let n=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,i=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,n===i}decodePair(e,t,n,i){try{let s=this.findFinderPattern(e,t),a=this.parseFoundFinderPattern(e,n,t,s),c=i==null?null:i.get(we.NEED_RESULT_POINT_CALLBACK);if(c!=null){let x=(s[0]+s[1])/2;t&&(x=e.getSize()-1-x),c.foundPossibleResultPoint(new B(x,n))}let u=this.decodeDataCharacter(e,a,!0),g=this.decodeDataCharacter(e,a,!1);return new Fo(1597*u.getValue()+g.getValue(),u.getChecksumPortion()+4*g.getChecksumPortion(),a)}catch{return null}}decodeDataCharacter(e,t,n){let i=this.getDataCharacterCounters();for(let P=0;P<i.length;P++)i[P]=0;if(n)ut.recordPatternInReverse(e,t.getStartEnd()[0],i);else{ut.recordPattern(e,t.getStartEnd()[1]+1,i);for(let P=0,V=i.length-1;P<V;P++,V--){let ie=i[P];i[P]=i[V],i[V]=ie}}let s=n?16:15,a=G.sum(new Int32Array(i))/s,c=this.getOddCounts(),u=this.getEvenCounts(),g=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors();for(let P=0;P<i.length;P++){let V=i[P]/a,ie=Math.floor(V+.5);ie<1?ie=1:ie>8&&(ie=8);let oe=Math.floor(P/2);P&1?(u[oe]=ie,x[oe]=V-ie):(c[oe]=ie,g[oe]=V-ie)}this.adjustOddEvenCounts(n,s);let w=0,b=0;for(let P=c.length-1;P>=0;P--)b*=9,b+=c[P],w+=c[P];let S=0,R=0;for(let P=u.length-1;P>=0;P--)S*=9,S+=u[P],R+=u[P];let L=b+3*S;if(n){if(w&1||w>12||w<4)throw new H;let P=(12-w)/2,V=_t.OUTSIDE_ODD_WIDEST[P],ie=9-V,oe=Tn.getRSSvalue(c,V,!1),re=Tn.getRSSvalue(u,ie,!0),je=_t.OUTSIDE_EVEN_TOTAL_SUBSET[P],Fe=_t.OUTSIDE_GSUM[P];return new _r(oe*je+re+Fe,L)}else{if(R&1||R>10||R<4)throw new H;let P=(10-R)/2,V=_t.INSIDE_ODD_WIDEST[P],ie=9-V,oe=Tn.getRSSvalue(c,V,!0),re=Tn.getRSSvalue(u,ie,!1),je=_t.INSIDE_ODD_TOTAL_SUBSET[P],Fe=_t.INSIDE_GSUM[P];return new _r(re*je+oe+Fe,L)}}findFinderPattern(e,t){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),s=!1,a=0;for(;a<i&&(s=!e.get(a),t!==s);)a++;let c=0,u=a;for(let g=a;g<i;g++)if(e.get(g)!==s)n[c]++;else{if(c===3){if(Pt.isFinderPattern(n))return[u,g];u+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,c--}else c++;n[c]=1,s=!s}throw new H}parseFoundFinderPattern(e,t,n,i){let s=e.get(i[0]),a=i[0]-1;for(;a>=0&&s!==e.get(a);)a--;a++;const c=i[0]-a,u=this.getDecodeFinderCounters(),g=new Int32Array(u.length);J.arraycopy(u,0,g,1,u.length-1),g[0]=c;const x=this.parseFinderValue(g,_t.FINDER_PATTERNS);let w=a,b=i[1];return n&&(w=e.getSize()-1-w,b=e.getSize()-1-b),new ai(x,[a,i[1]],w,b,t)}adjustOddEvenCounts(e,t){let n=G.sum(new Int32Array(this.getOddCounts())),i=G.sum(new Int32Array(this.getEvenCounts())),s=!1,a=!1,c=!1,u=!1;e?(n>12?a=!0:n<4&&(s=!0),i>12?u=!0:i<4&&(c=!0)):(n>11?a=!0:n<5&&(s=!0),i>10?u=!0:i<4&&(c=!0));let g=n+i-t,x=(n&1)===(e?1:0),w=(i&1)===1;if(g===1)if(x){if(w)throw new H;a=!0}else{if(!w)throw new H;u=!0}else if(g===-1)if(x){if(w)throw new H;s=!0}else{if(!w)throw new H;c=!0}else if(g===0){if(x){if(!w)throw new H;n<i?(s=!0,u=!0):(a=!0,c=!0)}else if(w)throw new H}else throw new H;if(s){if(a)throw new H;Pt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&Pt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new H;Pt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&Pt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}_t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],_t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],_t.OUTSIDE_GSUM=[0,161,961,2015,2715],_t.INSIDE_GSUM=[0,336,1036,1516],_t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],_t.INSIDE_ODD_WIDEST=[2,4,6,8],_t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class br extends ut{constructor(e,t){super(),this.readers=[],this.verbose=t===!0;const n=e?e.get(we.POSSIBLE_FORMATS):null,i=e&&e.get(we.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;n?((n.includes(ge.EAN_13)||n.includes(ge.UPC_A)||n.includes(ge.EAN_8)||n.includes(ge.UPC_E))&&this.readers.push(new Hi(e)),n.includes(ge.CODE_39)&&this.readers.push(new Ke(i)),n.includes(ge.CODE_128)&&this.readers.push(new ce),n.includes(ge.ITF)&&this.readers.push(new Xe),n.includes(ge.RSS_14)&&this.readers.push(new _t),n.includes(ge.RSS_EXPANDED)&&this.readers.push(new te(this.verbose))):(this.readers.push(new Hi(e)),this.readers.push(new Ke),this.readers.push(new Hi(e)),this.readers.push(new ce),this.readers.push(new Xe),this.readers.push(new _t),this.readers.push(new te(this.verbose)))}decodeRow(e,t,n){for(let i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(e,t,n)}catch{}throw new H}reset(){this.readers.forEach(e=>e.reset())}}class ko extends Ht{constructor(e=500,t){super(new br(t),e,t)}}class tt{constructor(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Qe{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ze{constructor(e,t,n,i,s,a){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=s,this.ecBlocks=a;let c=0;const u=a.getECCodewords(),g=a.getECBlocks();for(let x of g)c+=x.getCount()*(x.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if(e&1||t&1)throw new q;for(let n of ze.VERSIONS)if(n.symbolSizeRows===e&&n.symbolSizeColumns===t)return n;throw new q}toString(){return""+this.versionNumber}static buildVersions(){return[new ze(1,10,10,8,8,new tt(5,new Qe(1,3))),new ze(2,12,12,10,10,new tt(7,new Qe(1,5))),new ze(3,14,14,12,12,new tt(10,new Qe(1,8))),new ze(4,16,16,14,14,new tt(12,new Qe(1,12))),new ze(5,18,18,16,16,new tt(14,new Qe(1,18))),new ze(6,20,20,18,18,new tt(18,new Qe(1,22))),new ze(7,22,22,20,20,new tt(20,new Qe(1,30))),new ze(8,24,24,22,22,new tt(24,new Qe(1,36))),new ze(9,26,26,24,24,new tt(28,new Qe(1,44))),new ze(10,32,32,14,14,new tt(36,new Qe(1,62))),new ze(11,36,36,16,16,new tt(42,new Qe(1,86))),new ze(12,40,40,18,18,new tt(48,new Qe(1,114))),new ze(13,44,44,20,20,new tt(56,new Qe(1,144))),new ze(14,48,48,22,22,new tt(68,new Qe(1,174))),new ze(15,52,52,24,24,new tt(42,new Qe(2,102))),new ze(16,64,64,14,14,new tt(56,new Qe(2,140))),new ze(17,72,72,16,16,new tt(36,new Qe(4,92))),new ze(18,80,80,18,18,new tt(48,new Qe(4,114))),new ze(19,88,88,20,20,new tt(56,new Qe(4,144))),new ze(20,96,96,22,22,new tt(68,new Qe(4,174))),new ze(21,104,104,24,24,new tt(56,new Qe(6,136))),new ze(22,120,120,18,18,new tt(68,new Qe(6,175))),new ze(23,132,132,20,20,new tt(62,new Qe(8,163))),new ze(24,144,144,22,22,new tt(62,new Qe(8,156),new Qe(2,155))),new ze(25,8,18,6,16,new tt(7,new Qe(1,5))),new ze(26,8,32,6,14,new tt(11,new Qe(1,10))),new ze(27,12,26,10,24,new tt(14,new Qe(1,16))),new ze(28,12,36,10,16,new tt(18,new Qe(1,22))),new ze(29,16,36,14,16,new tt(24,new Qe(1,32))),new ze(30,16,48,14,22,new tt(28,new Qe(1,49)))]}}ze.VERSIONS=ze.buildVersions();class Wi{constructor(e){const t=e.getHeight();if(t<8||t>144||t&1)throw new q;this.version=Wi.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new rt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),n=e.getWidth();return ze.getVersionForDimensions(t,n)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,n=4,i=0;const s=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth();let c=!1,u=!1,g=!1,x=!1;do if(n===s&&i===0&&!c)e[t++]=this.readCorner1(s,a)&255,n-=2,i+=2,c=!0;else if(n===s-2&&i===0&&a&3&&!u)e[t++]=this.readCorner2(s,a)&255,n-=2,i+=2,u=!0;else if(n===s+4&&i===2&&!(a&7)&&!g)e[t++]=this.readCorner3(s,a)&255,n-=2,i+=2,g=!0;else if(n===s-2&&i===0&&(a&7)===4&&!x)e[t++]=this.readCorner4(s,a)&255,n-=2,i+=2,x=!0;else{do n<s&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,s,a)&255),n-=2,i+=2;while(n>=0&&i<a);n+=1,i+=3;do n>=0&&i<a&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,s,a)&255),n+=2,i-=2;while(n<s&&i>=0);n+=3,i+=1}while(n<s||i<a);if(t!==this.version.getTotalCodewords())throw new q;return e}readModule(e,t,n,i){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,n,i){let s=0;return this.readModule(e-2,t-2,n,i)&&(s|=1),s<<=1,this.readModule(e-2,t-1,n,i)&&(s|=1),s<<=1,this.readModule(e-1,t-2,n,i)&&(s|=1),s<<=1,this.readModule(e-1,t-1,n,i)&&(s|=1),s<<=1,this.readModule(e-1,t,n,i)&&(s|=1),s<<=1,this.readModule(e,t-2,n,i)&&(s|=1),s<<=1,this.readModule(e,t-1,n,i)&&(s|=1),s<<=1,this.readModule(e,t,n,i)&&(s|=1),s}readCorner1(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}readCorner2(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner3(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner4(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new D("Dimension of bitMatrix must match the version size");const i=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),a=t/i|0,c=n/s|0,u=a*i,g=c*s,x=new rt(g,u);for(let w=0;w<a;++w){const b=w*i;for(let S=0;S<c;++S){const R=S*s;for(let L=0;L<i;++L){const P=w*(i+2)+1+L,V=b+L;for(let ie=0;ie<s;++ie){const oe=S*(s+2)+1+ie;if(e.get(oe,P)){const re=R+ie;x.set(re,V)}}}}}return x}}class Gi{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const n=t.getECBlocks();let i=0;const s=n.getECBlocks();for(let L of s)i+=L.getCount();const a=new Array(i);let c=0;for(let L of s)for(let P=0;P<L.getCount();P++){const V=L.getDataCodewords(),ie=n.getECCodewords()+V;a[c++]=new Gi(V,new Uint8Array(ie))}const g=a[0].codewords.length-n.getECCodewords(),x=g-1;let w=0;for(let L=0;L<x;L++)for(let P=0;P<c;P++)a[P].codewords[L]=e[w++];const b=t.getVersionNumber()===24,S=b?8:c;for(let L=0;L<S;L++)a[L].codewords[g-1]=e[w++];const R=a[0].codewords.length;for(let L=g;L<R;L++)for(let P=0;P<c;P++){const V=b?(P+8)%c:P,ie=b&&V>7?L-1:L;a[V].codewords[ie]=e[w++]}if(w!==e.length)throw new D;return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Xi{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new D(""+e);let t=0,n=this.bitOffset,i=this.byteOffset;const s=this.bytes;if(n>0){const a=8-n,c=e<a?e:a,u=a-c,g=255>>8-c<<u;t=(s[i]&g)>>u,e-=c,n+=c,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)t=t<<8|s[i]&255,i++,e-=8;if(e>0){const a=8-e,c=255>>a<<a;t=t<<e|(s[i]&c)>>a,n+=e}}return this.bitOffset=n,this.byteOffset=i,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Tt;(function(_){_[_.PAD_ENCODE=0]="PAD_ENCODE",_[_.ASCII_ENCODE=1]="ASCII_ENCODE",_[_.C40_ENCODE=2]="C40_ENCODE",_[_.TEXT_ENCODE=3]="TEXT_ENCODE",_[_.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",_[_.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",_[_.BASE256_ENCODE=6]="BASE256_ENCODE"})(Tt||(Tt={}));class jn{static decode(e){const t=new Xi(e),n=new Se,i=new Se,s=new Array;let a=Tt.ASCII_ENCODE;do if(a===Tt.ASCII_ENCODE)a=this.decodeAsciiSegment(t,n,i);else{switch(a){case Tt.C40_ENCODE:this.decodeC40Segment(t,n);break;case Tt.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case Tt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case Tt.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case Tt.BASE256_ENCODE:this.decodeBase256Segment(t,n,s);break;default:throw new q}a=Tt.ASCII_ENCODE}while(a!==Tt.PAD_ENCODE&&t.available()>0);return i.length()>0&&n.append(i.toString()),new Bt(e,n.toString(),s.length===0?null:s,null)}static decodeAsciiSegment(e,t,n){let i=!1;do{let s=e.readBits(8);if(s===0)throw new q;if(s<=128)return i&&(s+=128),t.append(String.fromCharCode(s-1)),Tt.ASCII_ENCODE;if(s===129)return Tt.PAD_ENCODE;if(s<=229){const a=s-130;a<10&&t.append("0"),t.append(""+a)}else switch(s){case 230:return Tt.C40_ENCODE;case 231:return Tt.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),n.insert(0,"");break;case 237:t.append("[)>06"),n.insert(0,"");break;case 238:return Tt.ANSIX12_ENCODE;case 239:return Tt.TEXT_ENCODE;case 240:return Tt.EDIFACT_ENCODE;case 241:break;default:if(s!==254||e.available()!==0)throw new q;break}}while(e.available()>0);return Tt.ASCII_ENCODE}static decodeC40Segment(e,t){let n=!1;const i=[];let s=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(let c=0;c<3;c++){const u=i[c];switch(s){case 0:if(u<3)s=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[u];n?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):t.append(g)}else throw new q;break;case 1:n?(t.append(String.fromCharCode(u+128)),n=!1):t.append(String.fromCharCode(u)),s=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[u];n?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):t.append(g)}else switch(u){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new q}s=0;break;case 3:n?(t.append(String.fromCharCode(u+224)),n=!1):t.append(String.fromCharCode(u+96)),s=0;break;default:throw new q}}}while(e.available()>0)}static decodeTextSegment(e,t){let n=!1,i=[],s=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(let c=0;c<3;c++){const u=i[c];switch(s){case 0:if(u<3)s=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[u];n?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):t.append(g)}else throw new q;break;case 1:n?(t.append(String.fromCharCode(u+128)),n=!1):t.append(String.fromCharCode(u)),s=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[u];n?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):t.append(g)}else switch(u){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new q}s=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[u];n?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):t.append(g),s=0}else throw new q;break;default:throw new q}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const n=[];do{if(e.available()===8)return;const i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(let s=0;s<3;s++){const a=n[s];switch(a){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(a<14)t.append(String.fromCharCode(a+44));else if(a<40)t.append(String.fromCharCode(a+51));else throw new q;break}}}while(e.available()>0)}static parseTwoBytes(e,t,n){let i=(e<<8)+t-1,s=Math.floor(i/1600);n[0]=s,i-=s*1600,s=Math.floor(i/40),n[1]=s,n[2]=i-s*40}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let n=0;n<4;n++){let i=e.readBits(6);if(i===31){const s=8-e.getBitOffset();s!==8&&e.readBits(s);return}i&32||(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)}static decodeBase256Segment(e,t,n){let i=1+e.getByteOffset();const s=this.unrandomize255State(e.readBits(8),i++);let a;if(s===0?a=e.available()/8|0:s<250?a=s:a=250*(s-249)+this.unrandomize255State(e.readBits(8),i++),a<0)throw new q;const c=new Uint8Array(a);for(let u=0;u<a;u++){if(e.available()<8)throw new q;c[u]=this.unrandomize255State(e.readBits(8),i++)}n.push(c);try{t.append(De.decode(c,_e.ISO88591))}catch(u){throw new Y("Platform does not support required encoding: "+u.message)}}static unrandomize255State(e,t){const n=149*t%255+1,i=e-n;return i>=0?i:i+256}}jn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],jn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],jn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],jn.TEXT_SHIFT2_SET_CHARS=jn.C40_SHIFT2_SET_CHARS,jn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class Uo{constructor(){this.rsDecoder=new Z(M.DATA_MATRIX_FIELD_256)}decode(e){const t=new Wi(e),n=t.getVersion(),i=t.readCodewords(),s=Gi.getDataBlocks(i,n);let a=0;for(let g of s)a+=g.getNumDataCodewords();const c=new Uint8Array(a),u=s.length;for(let g=0;g<u;g++){const x=s[g],w=x.getCodewords(),b=x.getNumDataCodewords();this.correctErrors(w,b);for(let S=0;S<b;S++)c[S*u+g]=w[S]}return jn.decode(c)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new z}for(let i=0;i<t;i++)e[i]=n[i]}}class Ct{constructor(e){this.image=e,this.rectangleDetector=new pe(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new H;t=this.shiftToModuleCenter(t);const n=t[0],i=t[1],s=t[2],a=t[3];let c=this.transitionsBetween(n,a)+1,u=this.transitionsBetween(s,a)+1;(c&1)===1&&(c+=1),(u&1)===1&&(u+=1),4*c<7*u&&4*u<7*c&&(c=u=Math.max(c,u));let g=Ct.sampleGrid(this.image,n,i,s,a,c,u);return new Ce(g,[n,i,s,a])}static shiftPoint(e,t,n){let i=(t.getX()-e.getX())/(n+1),s=(t.getY()-e.getY())/(n+1);return new B(e.getX()+i,e.getY()+s)}static moveAway(e,t,n){let i=e.getX(),s=e.getY();return i<t?i-=1:i+=1,s<n?s-=1:s+=1,new B(i,s)}detectSolid1(e){let t=e[0],n=e[1],i=e[3],s=e[2],a=this.transitionsBetween(t,n),c=this.transitionsBetween(n,i),u=this.transitionsBetween(i,s),g=this.transitionsBetween(s,t),x=a,w=[s,t,n,i];return x>c&&(x=c,w[0]=t,w[1]=n,w[2]=i,w[3]=s),x>u&&(x=u,w[0]=n,w[1]=i,w[2]=s,w[3]=t),x>g&&(w[0]=i,w[1]=s,w[2]=t,w[3]=n),w}detectSolid2(e){let t=e[0],n=e[1],i=e[2],s=e[3],a=this.transitionsBetween(t,s),c=Ct.shiftPoint(n,i,(a+1)*4),u=Ct.shiftPoint(i,n,(a+1)*4),g=this.transitionsBetween(c,t),x=this.transitionsBetween(u,s);return g<x?(e[0]=t,e[1]=n,e[2]=i,e[3]=s):(e[0]=n,e[1]=i,e[2]=s,e[3]=t),e}correctTopRight(e){let t=e[0],n=e[1],i=e[2],s=e[3],a=this.transitionsBetween(t,s),c=this.transitionsBetween(n,s),u=Ct.shiftPoint(t,n,(c+1)*4),g=Ct.shiftPoint(i,n,(a+1)*4);a=this.transitionsBetween(u,s),c=this.transitionsBetween(g,s);let x=new B(s.getX()+(i.getX()-n.getX())/(a+1),s.getY()+(i.getY()-n.getY())/(a+1)),w=new B(s.getX()+(t.getX()-n.getX())/(c+1),s.getY()+(t.getY()-n.getY())/(c+1));if(!this.isValid(x))return this.isValid(w)?w:null;if(!this.isValid(w))return x;let b=this.transitionsBetween(u,x)+this.transitionsBetween(g,x),S=this.transitionsBetween(u,w)+this.transitionsBetween(g,w);return b>S?x:w}shiftToModuleCenter(e){let t=e[0],n=e[1],i=e[2],s=e[3],a=this.transitionsBetween(t,s)+1,c=this.transitionsBetween(i,s)+1,u=Ct.shiftPoint(t,n,c*4),g=Ct.shiftPoint(i,n,a*4);a=this.transitionsBetween(u,s)+1,c=this.transitionsBetween(g,s)+1,(a&1)===1&&(a+=1),(c&1)===1&&(c+=1);let x=(t.getX()+n.getX()+i.getX()+s.getX())/4,w=(t.getY()+n.getY()+i.getY()+s.getY())/4;t=Ct.moveAway(t,x,w),n=Ct.moveAway(n,x,w),i=Ct.moveAway(i,x,w),s=Ct.moveAway(s,x,w);let b,S;return u=Ct.shiftPoint(t,n,c*4),u=Ct.shiftPoint(u,s,a*4),b=Ct.shiftPoint(n,t,c*4),b=Ct.shiftPoint(b,i,a*4),g=Ct.shiftPoint(i,s,c*4),g=Ct.shiftPoint(g,n,a*4),S=Ct.shiftPoint(s,i,c*4),S=Ct.shiftPoint(S,t,a*4),[u,b,g,S]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,n,i,s,a,c){return Ue.getInstance().sampleGrid(e,a,c,.5,.5,a-.5,.5,a-.5,c-.5,.5,c-.5,t.getX(),t.getY(),s.getX(),s.getY(),i.getX(),i.getY(),n.getX(),n.getY())}transitionsBetween(e,t){let n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),s=Math.trunc(t.getX()),a=Math.trunc(t.getY()),c=Math.abs(a-i)>Math.abs(s-n);if(c){let L=n;n=i,i=L,L=s,s=a,a=L}let u=Math.abs(s-n),g=Math.abs(a-i),x=-u/2,w=i<a?1:-1,b=n<s?1:-1,S=0,R=this.image.get(c?i:n,c?n:i);for(let L=n,P=i;L!==s;L+=b){let V=this.image.get(c?P:L,c?L:P);if(V!==R&&(S++,R=V),x+=g,x>0){if(P===a)break;P+=w,x-=u}}return S}}class Qt{constructor(){this.decoder=new Uo}decode(e,t=null){let n,i;if(t!=null&&t.has(we.PURE_BARCODE)){const g=Qt.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(g),i=Qt.NO_POINTS}else{const g=new Ct(e.getBlackMatrix()).detect();n=this.decoder.decode(g.getBits()),i=g.getPoints()}const s=n.getRawBytes(),a=new dt(n.getText(),s,8*s.length,i,ge.DATA_MATRIX,J.currentTimeMillis()),c=n.getByteSegments();c!=null&&a.putMetadata(Je.BYTE_SEGMENTS,c);const u=n.getECLevel();return u!=null&&a.putMetadata(Je.ERROR_CORRECTION_LEVEL,u),a}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t==null||n==null)throw new H;const i=this.moduleSize(t,e);let s=t[1];const a=n[1];let c=t[0];const g=(n[0]-c+1)/i,x=(a-s+1)/i;if(g<=0||x<=0)throw new H;const w=i/2;s+=w,c+=w;const b=new rt(g,x);for(let S=0;S<x;S++){const R=s+S*i;for(let L=0;L<g;L++)e.get(c+L*i,R)&&b.set(L,S)}return b}static moduleSize(e,t){const n=t.getWidth();let i=e[0];const s=e[1];for(;i<n&&t.get(i,s);)i++;if(i===n)throw new H;const a=i-e[0];if(a===0)throw new H;return a}}Qt.NO_POINTS=[];class Vo extends Ht{constructor(e=500){super(new Qt,e)}}var Br;(function(_){_[_.L=0]="L",_[_.M=1]="M",_[_.Q=2]="Q",_[_.H=3]="H"})(Br||(Br={}));class it{constructor(e,t,n){this.value=e,this.stringValue=t,this.bits=n,it.FOR_BITS.set(n,this),it.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return it.L;case"M":return it.M;case"Q":return it.Q;case"H":return it.H;default:throw new I(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof it))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=it.FOR_BITS.size)throw new D;return it.FOR_BITS.get(e)}}it.FOR_BITS=new Map,it.FOR_VALUE=new Map,it.L=new it(Br.L,"L",1),it.M=new it(Br.M,"M",0),it.Q=new it(Br.Q,"Q",3),it.H=new it(Br.H,"H",2);class Ft{constructor(e){this.errorCorrectionLevel=it.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,t){return ae.bitCount(e^t)}static decodeFormatInformation(e,t){const n=Ft.doDecodeFormatInformation(e,t);return n!==null?n:Ft.doDecodeFormatInformation(e^Ft.FORMAT_INFO_MASK_QR,t^Ft.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let n=Number.MAX_SAFE_INTEGER,i=0;for(const s of Ft.FORMAT_INFO_DECODE_LOOKUP){const a=s[0];if(a===e||a===t)return new Ft(s[1]);let c=Ft.numBitsDiffering(e,a);c<n&&(i=s[1],n=c),e!==t&&(c=Ft.numBitsDiffering(t,a),c<n&&(i=s[1],n=c))}return n<=3?new Ft(i):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Ft))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}Ft.FORMAT_INFO_MASK_QR=21522,Ft.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class F{constructor(e,...t){this.ecCodewordsPerBlock=e,this.ecBlocks=t}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const n of t)e+=n.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class T{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ye{constructor(e,t,...n){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=n;let i=0;const s=n[0].getECCodewordsPerBlock(),a=n[0].getECBlocks();for(const c of a)i+=c.getCount()*(c.getDataCodewords()+s);this.totalCodewords=i}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new q;try{return this.getVersionForNumber((e-17)/4)}catch{throw new q}}static getVersionForNumber(e){if(e<1||e>40)throw new D;return ye.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,n=0;for(let i=0;i<ye.VERSION_DECODE_INFO.length;i++){const s=ye.VERSION_DECODE_INFO[i];if(s===e)return ye.getVersionForNumber(i+7);const a=Ft.numBitsDiffering(e,s);a<t&&(n=i+7,t=a)}return t<=3?ye.getVersionForNumber(n):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new rt(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const n=this.alignmentPatternCenters.length;for(let i=0;i<n;i++){const s=this.alignmentPatternCenters[i]-2;for(let a=0;a<n;a++)i===0&&(a===0||a===n-1)||i===n-1&&a===0||t.setRegion(this.alignmentPatternCenters[a]-2,s,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}ye.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ye.VERSIONS=[new ye(1,new Int32Array(0),new F(7,new T(1,19)),new F(10,new T(1,16)),new F(13,new T(1,13)),new F(17,new T(1,9))),new ye(2,Int32Array.from([6,18]),new F(10,new T(1,34)),new F(16,new T(1,28)),new F(22,new T(1,22)),new F(28,new T(1,16))),new ye(3,Int32Array.from([6,22]),new F(15,new T(1,55)),new F(26,new T(1,44)),new F(18,new T(2,17)),new F(22,new T(2,13))),new ye(4,Int32Array.from([6,26]),new F(20,new T(1,80)),new F(18,new T(2,32)),new F(26,new T(2,24)),new F(16,new T(4,9))),new ye(5,Int32Array.from([6,30]),new F(26,new T(1,108)),new F(24,new T(2,43)),new F(18,new T(2,15),new T(2,16)),new F(22,new T(2,11),new T(2,12))),new ye(6,Int32Array.from([6,34]),new F(18,new T(2,68)),new F(16,new T(4,27)),new F(24,new T(4,19)),new F(28,new T(4,15))),new ye(7,Int32Array.from([6,22,38]),new F(20,new T(2,78)),new F(18,new T(4,31)),new F(18,new T(2,14),new T(4,15)),new F(26,new T(4,13),new T(1,14))),new ye(8,Int32Array.from([6,24,42]),new F(24,new T(2,97)),new F(22,new T(2,38),new T(2,39)),new F(22,new T(4,18),new T(2,19)),new F(26,new T(4,14),new T(2,15))),new ye(9,Int32Array.from([6,26,46]),new F(30,new T(2,116)),new F(22,new T(3,36),new T(2,37)),new F(20,new T(4,16),new T(4,17)),new F(24,new T(4,12),new T(4,13))),new ye(10,Int32Array.from([6,28,50]),new F(18,new T(2,68),new T(2,69)),new F(26,new T(4,43),new T(1,44)),new F(24,new T(6,19),new T(2,20)),new F(28,new T(6,15),new T(2,16))),new ye(11,Int32Array.from([6,30,54]),new F(20,new T(4,81)),new F(30,new T(1,50),new T(4,51)),new F(28,new T(4,22),new T(4,23)),new F(24,new T(3,12),new T(8,13))),new ye(12,Int32Array.from([6,32,58]),new F(24,new T(2,92),new T(2,93)),new F(22,new T(6,36),new T(2,37)),new F(26,new T(4,20),new T(6,21)),new F(28,new T(7,14),new T(4,15))),new ye(13,Int32Array.from([6,34,62]),new F(26,new T(4,107)),new F(22,new T(8,37),new T(1,38)),new F(24,new T(8,20),new T(4,21)),new F(22,new T(12,11),new T(4,12))),new ye(14,Int32Array.from([6,26,46,66]),new F(30,new T(3,115),new T(1,116)),new F(24,new T(4,40),new T(5,41)),new F(20,new T(11,16),new T(5,17)),new F(24,new T(11,12),new T(5,13))),new ye(15,Int32Array.from([6,26,48,70]),new F(22,new T(5,87),new T(1,88)),new F(24,new T(5,41),new T(5,42)),new F(30,new T(5,24),new T(7,25)),new F(24,new T(11,12),new T(7,13))),new ye(16,Int32Array.from([6,26,50,74]),new F(24,new T(5,98),new T(1,99)),new F(28,new T(7,45),new T(3,46)),new F(24,new T(15,19),new T(2,20)),new F(30,new T(3,15),new T(13,16))),new ye(17,Int32Array.from([6,30,54,78]),new F(28,new T(1,107),new T(5,108)),new F(28,new T(10,46),new T(1,47)),new F(28,new T(1,22),new T(15,23)),new F(28,new T(2,14),new T(17,15))),new ye(18,Int32Array.from([6,30,56,82]),new F(30,new T(5,120),new T(1,121)),new F(26,new T(9,43),new T(4,44)),new F(28,new T(17,22),new T(1,23)),new F(28,new T(2,14),new T(19,15))),new ye(19,Int32Array.from([6,30,58,86]),new F(28,new T(3,113),new T(4,114)),new F(26,new T(3,44),new T(11,45)),new F(26,new T(17,21),new T(4,22)),new F(26,new T(9,13),new T(16,14))),new ye(20,Int32Array.from([6,34,62,90]),new F(28,new T(3,107),new T(5,108)),new F(26,new T(3,41),new T(13,42)),new F(30,new T(15,24),new T(5,25)),new F(28,new T(15,15),new T(10,16))),new ye(21,Int32Array.from([6,28,50,72,94]),new F(28,new T(4,116),new T(4,117)),new F(26,new T(17,42)),new F(28,new T(17,22),new T(6,23)),new F(30,new T(19,16),new T(6,17))),new ye(22,Int32Array.from([6,26,50,74,98]),new F(28,new T(2,111),new T(7,112)),new F(28,new T(17,46)),new F(30,new T(7,24),new T(16,25)),new F(24,new T(34,13))),new ye(23,Int32Array.from([6,30,54,78,102]),new F(30,new T(4,121),new T(5,122)),new F(28,new T(4,47),new T(14,48)),new F(30,new T(11,24),new T(14,25)),new F(30,new T(16,15),new T(14,16))),new ye(24,Int32Array.from([6,28,54,80,106]),new F(30,new T(6,117),new T(4,118)),new F(28,new T(6,45),new T(14,46)),new F(30,new T(11,24),new T(16,25)),new F(30,new T(30,16),new T(2,17))),new ye(25,Int32Array.from([6,32,58,84,110]),new F(26,new T(8,106),new T(4,107)),new F(28,new T(8,47),new T(13,48)),new F(30,new T(7,24),new T(22,25)),new F(30,new T(22,15),new T(13,16))),new ye(26,Int32Array.from([6,30,58,86,114]),new F(28,new T(10,114),new T(2,115)),new F(28,new T(19,46),new T(4,47)),new F(28,new T(28,22),new T(6,23)),new F(30,new T(33,16),new T(4,17))),new ye(27,Int32Array.from([6,34,62,90,118]),new F(30,new T(8,122),new T(4,123)),new F(28,new T(22,45),new T(3,46)),new F(30,new T(8,23),new T(26,24)),new F(30,new T(12,15),new T(28,16))),new ye(28,Int32Array.from([6,26,50,74,98,122]),new F(30,new T(3,117),new T(10,118)),new F(28,new T(3,45),new T(23,46)),new F(30,new T(4,24),new T(31,25)),new F(30,new T(11,15),new T(31,16))),new ye(29,Int32Array.from([6,30,54,78,102,126]),new F(30,new T(7,116),new T(7,117)),new F(28,new T(21,45),new T(7,46)),new F(30,new T(1,23),new T(37,24)),new F(30,new T(19,15),new T(26,16))),new ye(30,Int32Array.from([6,26,52,78,104,130]),new F(30,new T(5,115),new T(10,116)),new F(28,new T(19,47),new T(10,48)),new F(30,new T(15,24),new T(25,25)),new F(30,new T(23,15),new T(25,16))),new ye(31,Int32Array.from([6,30,56,82,108,134]),new F(30,new T(13,115),new T(3,116)),new F(28,new T(2,46),new T(29,47)),new F(30,new T(42,24),new T(1,25)),new F(30,new T(23,15),new T(28,16))),new ye(32,Int32Array.from([6,34,60,86,112,138]),new F(30,new T(17,115)),new F(28,new T(10,46),new T(23,47)),new F(30,new T(10,24),new T(35,25)),new F(30,new T(19,15),new T(35,16))),new ye(33,Int32Array.from([6,30,58,86,114,142]),new F(30,new T(17,115),new T(1,116)),new F(28,new T(14,46),new T(21,47)),new F(30,new T(29,24),new T(19,25)),new F(30,new T(11,15),new T(46,16))),new ye(34,Int32Array.from([6,34,62,90,118,146]),new F(30,new T(13,115),new T(6,116)),new F(28,new T(14,46),new T(23,47)),new F(30,new T(44,24),new T(7,25)),new F(30,new T(59,16),new T(1,17))),new ye(35,Int32Array.from([6,30,54,78,102,126,150]),new F(30,new T(12,121),new T(7,122)),new F(28,new T(12,47),new T(26,48)),new F(30,new T(39,24),new T(14,25)),new F(30,new T(22,15),new T(41,16))),new ye(36,Int32Array.from([6,24,50,76,102,128,154]),new F(30,new T(6,121),new T(14,122)),new F(28,new T(6,47),new T(34,48)),new F(30,new T(46,24),new T(10,25)),new F(30,new T(2,15),new T(64,16))),new ye(37,Int32Array.from([6,28,54,80,106,132,158]),new F(30,new T(17,122),new T(4,123)),new F(28,new T(29,46),new T(14,47)),new F(30,new T(49,24),new T(10,25)),new F(30,new T(24,15),new T(46,16))),new ye(38,Int32Array.from([6,32,58,84,110,136,162]),new F(30,new T(4,122),new T(18,123)),new F(28,new T(13,46),new T(32,47)),new F(30,new T(48,24),new T(14,25)),new F(30,new T(42,15),new T(32,16))),new ye(39,Int32Array.from([6,26,54,82,110,138,166]),new F(30,new T(20,117),new T(4,118)),new F(28,new T(40,47),new T(7,48)),new F(30,new T(43,24),new T(22,25)),new F(30,new T(10,15),new T(67,16))),new ye(40,Int32Array.from([6,30,58,86,114,142,170]),new F(30,new T(19,118),new T(6,119)),new F(28,new T(18,47),new T(31,48)),new F(30,new T(34,24),new T(34,25)),new F(30,new T(20,15),new T(61,16)))];var Ot;(function(_){_[_.DATA_MASK_000=0]="DATA_MASK_000",_[_.DATA_MASK_001=1]="DATA_MASK_001",_[_.DATA_MASK_010=2]="DATA_MASK_010",_[_.DATA_MASK_011=3]="DATA_MASK_011",_[_.DATA_MASK_100=4]="DATA_MASK_100",_[_.DATA_MASK_101=5]="DATA_MASK_101",_[_.DATA_MASK_110=6]="DATA_MASK_110",_[_.DATA_MASK_111=7]="DATA_MASK_111"})(Ot||(Ot={}));class cn{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let n=0;n<t;n++)for(let i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)}}cn.values=new Map([[Ot.DATA_MASK_000,new cn(Ot.DATA_MASK_000,(_,e)=>(_+e&1)===0)],[Ot.DATA_MASK_001,new cn(Ot.DATA_MASK_001,(_,e)=>(_&1)===0)],[Ot.DATA_MASK_010,new cn(Ot.DATA_MASK_010,(_,e)=>e%3===0)],[Ot.DATA_MASK_011,new cn(Ot.DATA_MASK_011,(_,e)=>(_+e)%3===0)],[Ot.DATA_MASK_100,new cn(Ot.DATA_MASK_100,(_,e)=>(Math.floor(_/2)+Math.floor(e/3)&1)===0)],[Ot.DATA_MASK_101,new cn(Ot.DATA_MASK_101,(_,e)=>_*e%6===0)],[Ot.DATA_MASK_110,new cn(Ot.DATA_MASK_110,(_,e)=>_*e%6<3)],[Ot.DATA_MASK_111,new cn(Ot.DATA_MASK_111,(_,e)=>(_+e+_*e%3&1)===0)]]);class Yi{constructor(e){const t=e.getHeight();if(t<21||(t&3)!==1)throw new q;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let s=0;s<6;s++)e=this.copyBit(s,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let s=5;s>=0;s--)e=this.copyBit(8,s,e);const t=this.bitMatrix.getHeight();let n=0;const i=t-7;for(let s=t-1;s>=i;s--)n=this.copyBit(8,s,n);for(let s=t-8;s<t;s++)n=this.copyBit(s,8,n);if(this.parsedFormatInfo=Ft.decodeFormatInformation(e,n),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new q}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return ye.getVersionForNumber(t);let n=0;const i=e-11;for(let a=5;a>=0;a--)for(let c=e-9;c>=i;c--)n=this.copyBit(c,a,n);let s=ye.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(let a=5;a>=0;a--)for(let c=e-9;c>=i;c--)n=this.copyBit(a,c,n);if(s=ye.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new q}copyBit(e,t,n){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?n<<1|1:n<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),n=cn.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);const s=t.buildFunctionPattern();let a=!0;const c=new Uint8Array(t.getTotalCodewords());let u=0,g=0,x=0;for(let w=i-1;w>0;w-=2){w===6&&w--;for(let b=0;b<i;b++){const S=a?i-1-b:b;for(let R=0;R<2;R++)s.get(w-R,S)||(x++,g<<=1,this.bitMatrix.get(w-R,S)&&(g|=1),x===8&&(c[u++]=g,x=0,g=0))}a=!a}if(u!==t.getTotalCodewords())throw new q;return c}remask(){if(this.parsedFormatInfo===null)return;const e=cn.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,n=e.getWidth();t<n;t++)for(let i=t+1,s=e.getHeight();i<s;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))}}class zn{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,n){if(e.length!==t.getTotalCodewords())throw new D;const i=t.getECBlocksForLevel(n);let s=0;const a=i.getECBlocks();for(const R of a)s+=R.getCount();const c=new Array(s);let u=0;for(const R of a)for(let L=0;L<R.getCount();L++){const P=R.getDataCodewords(),V=i.getECCodewordsPerBlock()+P;c[u++]=new zn(P,new Uint8Array(V))}const g=c[0].codewords.length;let x=c.length-1;for(;x>=0&&c[x].codewords.length!==g;)x--;x++;const w=g-i.getECCodewordsPerBlock();let b=0;for(let R=0;R<w;R++)for(let L=0;L<u;L++)c[L].codewords[R]=e[b++];for(let R=x;R<u;R++)c[R].codewords[w]=e[b++];const S=c[0].codewords.length;for(let R=w;R<S;R++)for(let L=0;L<u;L++){const P=L<x?R:R+1;c[L].codewords[P]=e[b++]}return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Xt;(function(_){_[_.TERMINATOR=0]="TERMINATOR",_[_.NUMERIC=1]="NUMERIC",_[_.ALPHANUMERIC=2]="ALPHANUMERIC",_[_.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",_[_.BYTE=4]="BYTE",_[_.ECI=5]="ECI",_[_.KANJI=6]="KANJI",_[_.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",_[_.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",_[_.HANZI=9]="HANZI"})(Xt||(Xt={}));class Ie{constructor(e,t,n,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=i,Ie.FOR_BITS.set(i,this),Ie.FOR_VALUE.set(e,this)}static forBits(e){const t=Ie.FOR_BITS.get(e);if(t===void 0)throw new D;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let n;return t<=9?n=0:t<=26?n=1:n=2,this.characterCountBitsForVersions[n]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Ie))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}Ie.FOR_BITS=new Map,Ie.FOR_VALUE=new Map,Ie.TERMINATOR=new Ie(Xt.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ie.NUMERIC=new Ie(Xt.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ie.ALPHANUMERIC=new Ie(Xt.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ie.STRUCTURED_APPEND=new Ie(Xt.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ie.BYTE=new Ie(Xt.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ie.ECI=new Ie(Xt.ECI,"ECI",Int32Array.from([0,0,0]),7),Ie.KANJI=new Ie(Xt.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ie.FNC1_FIRST_POSITION=new Ie(Xt.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ie.FNC1_SECOND_POSITION=new Ie(Xt.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ie.HANZI=new Ie(Xt.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class pt{static decode(e,t,n,i){const s=new Xi(e);let a=new Se;const c=new Array;let u=-1,g=-1;try{let x=null,w=!1,b;do{if(s.available()<4)b=Ie.TERMINATOR;else{const S=s.readBits(4);b=Ie.forBits(S)}switch(b){case Ie.TERMINATOR:break;case Ie.FNC1_FIRST_POSITION:case Ie.FNC1_SECOND_POSITION:w=!0;break;case Ie.STRUCTURED_APPEND:if(s.available()<16)throw new q;u=s.readBits(8),g=s.readBits(8);break;case Ie.ECI:const S=pt.parseECIValue(s);if(x=j.getCharacterSetECIByValue(S),x===null)throw new q;break;case Ie.HANZI:const R=s.readBits(4),L=s.readBits(b.getCharacterCountBits(t));R===pt.GB2312_SUBSET&&pt.decodeHanziSegment(s,a,L);break;default:const P=s.readBits(b.getCharacterCountBits(t));switch(b){case Ie.NUMERIC:pt.decodeNumericSegment(s,a,P);break;case Ie.ALPHANUMERIC:pt.decodeAlphanumericSegment(s,a,P,w);break;case Ie.BYTE:pt.decodeByteSegment(s,a,P,x,c,i);break;case Ie.KANJI:pt.decodeKanjiSegment(s,a,P);break;default:throw new q}break}}while(b!==Ie.TERMINATOR)}catch{throw new q}return new Bt(e,a.toString(),c.length===0?null:c,n===null?null:n.toString(),u,g)}static decodeHanziSegment(e,t,n){if(n*13>e.available())throw new q;const i=new Uint8Array(2*n);let s=0;for(;n>0;){const a=e.readBits(13);let c=a/96<<8&4294967295|a%96;c<959?c+=41377:c+=42657,i[s]=c>>8&255,i[s+1]=c&255,s+=2,n--}try{t.append(De.decode(i,_e.GB2312))}catch(a){throw new q(a)}}static decodeKanjiSegment(e,t,n){if(n*13>e.available())throw new q;const i=new Uint8Array(2*n);let s=0;for(;n>0;){const a=e.readBits(13);let c=a/192<<8&4294967295|a%192;c<7936?c+=33088:c+=49472,i[s]=c>>8,i[s+1]=c,s+=2,n--}try{t.append(De.decode(i,_e.SHIFT_JIS))}catch(a){throw new q(a)}}static decodeByteSegment(e,t,n,i,s,a){if(8*n>e.available())throw new q;const c=new Uint8Array(n);for(let g=0;g<n;g++)c[g]=e.readBits(8);let u;i===null?u=_e.guessEncoding(c,a):u=i.getName();try{t.append(De.decode(c,u))}catch(g){throw new q(g)}s.push(c)}static toAlphaNumericChar(e){if(e>=pt.ALPHANUMERIC_CHARS.length)throw new q;return pt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,n,i){const s=t.length();for(;n>1;){if(e.available()<11)throw new q;const a=e.readBits(11);t.append(pt.toAlphaNumericChar(Math.floor(a/45))),t.append(pt.toAlphaNumericChar(a%45)),n-=2}if(n===1){if(e.available()<6)throw new q;t.append(pt.toAlphaNumericChar(e.readBits(6)))}if(i)for(let a=s;a<t.length();a++)t.charAt(a)==="%"&&(a<t.length()-1&&t.charAt(a+1)==="%"?t.deleteCharAt(a+1):t.setCharAt(a,String.fromCharCode(29)))}static decodeNumericSegment(e,t,n){for(;n>=3;){if(e.available()<10)throw new q;const i=e.readBits(10);if(i>=1e3)throw new q;t.append(pt.toAlphaNumericChar(Math.floor(i/100))),t.append(pt.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(pt.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new q;const i=e.readBits(7);if(i>=100)throw new q;t.append(pt.toAlphaNumericChar(Math.floor(i/10))),t.append(pt.toAlphaNumericChar(i%10))}else if(n===1){if(e.available()<4)throw new q;const i=e.readBits(4);if(i>=10)throw new q;t.append(pt.toAlphaNumericChar(i))}}static parseECIValue(e){const t=e.readBits(8);if(!(t&128))return t&127;if((t&192)===128){const n=e.readBits(8);return(t&63)<<8&4294967295|n}if((t&224)===192){const n=e.readBits(16);return(t&31)<<16&4294967295|n}throw new q}}pt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",pt.GB2312_SUBSET=1;class Ns{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class Ho{constructor(){this.rsDecoder=new Z(M.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(rt.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const n=new Yi(e);let i=null;try{return this.decodeBitMatrixParser(n,t)}catch(s){i=s}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();const s=this.decodeBitMatrixParser(n,t);return s.setOther(new Ns(!0)),s}catch(s){throw i!==null?i:s}}decodeBitMatrixParser(e,t){const n=e.readVersion(),i=e.readFormatInformation().getErrorCorrectionLevel(),s=e.readCodewords(),a=zn.getDataBlocks(s,n,i);let c=0;for(const x of a)c+=x.getNumDataCodewords();const u=new Uint8Array(c);let g=0;for(const x of a){const w=x.getCodewords(),b=x.getNumDataCodewords();this.correctErrors(w,b);for(let S=0;S<b;S++)u[g++]=w[S]}return pt.decode(u,n,i,t)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new z}for(let i=0;i<t;i++)e[i]=n[i]}}class ji extends B{constructor(e,t,n){super(e,t),this.estimatedModuleSize=n}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const i=Math.abs(e-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const i=(this.getX()+t)/2,s=(this.getY()+e)/2,a=(this.estimatedModuleSize+n)/2;return new ji(i,s,a)}}class ui{constructor(e,t,n,i,s,a,c){this.image=e,this.startX=t,this.startY=n,this.width=i,this.height=s,this.moduleSize=a,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,n=this.width,i=e+n,s=this.startY+t/2,a=new Int32Array(3),c=this.image;for(let u=0;u<t;u++){const g=s+(u&1?-Math.floor((u+1)/2):Math.floor((u+1)/2));a[0]=0,a[1]=0,a[2]=0;let x=e;for(;x<i&&!c.get(x,g);)x++;let w=0;for(;x<i;){if(c.get(x,g))if(w===1)a[1]++;else if(w===2){if(this.foundPatternCross(a)){const b=this.handlePossibleCenter(a,g,x);if(b!==null)return b}a[0]=a[2],a[1]=1,a[2]=0,w=1}else a[++w]++;else w===1&&w++,a[w]++;x++}if(this.foundPatternCross(a)){const b=this.handlePossibleCenter(a,g,i);if(b!==null)return b}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new H}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,n=t/2;for(let i=0;i<3;i++)if(Math.abs(t-e[i])>=n)return!1;return!0}crossCheckVertical(e,t,n,i){const s=this.image,a=s.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;let u=e;for(;u>=0&&s.get(t,u)&&c[1]<=n;)c[1]++,u--;if(u<0||c[1]>n)return NaN;for(;u>=0&&!s.get(t,u)&&c[0]<=n;)c[0]++,u--;if(c[0]>n)return NaN;for(u=e+1;u<a&&s.get(t,u)&&c[1]<=n;)c[1]++,u++;if(u===a||c[1]>n)return NaN;for(;u<a&&!s.get(t,u)&&c[2]<=n;)c[2]++,u++;if(c[2]>n)return NaN;const g=c[0]+c[1]+c[2];return 5*Math.abs(g-i)>=2*i?NaN:this.foundPatternCross(c)?ui.centerFromEnd(c,u):NaN}handlePossibleCenter(e,t,n){const i=e[0]+e[1]+e[2],s=ui.centerFromEnd(e,n),a=this.crossCheckVertical(t,s,2*e[1],i);if(!isNaN(a)){const c=(e[0]+e[1]+e[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(c,a,s))return g.combineEstimate(a,s,c);const u=new ji(s,a,c);this.possibleCenters.push(u),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(u)}return null}}class Pr extends B{constructor(e,t,n,i){super(e,t),this.estimatedModuleSize=n,this.count=i,i===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const i=Math.abs(e-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const i=this.count+1,s=(this.count*this.getX()+t)/i,a=(this.count*this.getY()+e)/i,c=(this.count*this.estimatedModuleSize+n)/i;return new Pr(s,a,c,i)}}class Wo{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class vt{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=e!=null&&e.get(we.TRY_HARDER)!==void 0,n=e!=null&&e.get(we.PURE_BARCODE)!==void 0,i=this.image,s=i.getHeight(),a=i.getWidth();let c=Math.floor(3*s/(4*vt.MAX_MODULES));(c<vt.MIN_SKIP||t)&&(c=vt.MIN_SKIP);let u=!1;const g=new Int32Array(5);for(let w=c-1;w<s&&!u;w+=c){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let b=0;for(let S=0;S<a;S++)if(i.get(S,w))(b&1)===1&&b++,g[b]++;else if(b&1)g[b]++;else if(b===4)if(vt.foundPatternCross(g)){if(this.handlePossibleCenter(g,w,S,n)===!0)if(c=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{const L=this.findRowSkip();L>g[2]&&(w+=L-g[2]-c,S=a-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,b=3;continue}b=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,b=3;else g[++b]++;vt.foundPatternCross(g)&&this.handlePossibleCenter(g,w,a,n)===!0&&(c=g[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}const x=this.selectBestPatterns();return B.orderBestPatterns(x),new Wo(x)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let s=0;s<5;s++){const a=e[s];if(a===0)return!1;t+=a}if(t<7)return!1;const n=t/7,i=n/2;return Math.abs(n-e[0])<i&&Math.abs(n-e[1])<i&&Math.abs(3*n-e[2])<3*i&&Math.abs(n-e[3])<i&&Math.abs(n-e[4])<i}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,n,i){const s=this.getCrossCheckStateCount();let a=0;const c=this.image;for(;e>=a&&t>=a&&c.get(t-a,e-a);)s[2]++,a++;if(e<a||t<a)return!1;for(;e>=a&&t>=a&&!c.get(t-a,e-a)&&s[1]<=n;)s[1]++,a++;if(e<a||t<a||s[1]>n)return!1;for(;e>=a&&t>=a&&c.get(t-a,e-a)&&s[0]<=n;)s[0]++,a++;if(s[0]>n)return!1;const u=c.getHeight(),g=c.getWidth();for(a=1;e+a<u&&t+a<g&&c.get(t+a,e+a);)s[2]++,a++;if(e+a>=u||t+a>=g)return!1;for(;e+a<u&&t+a<g&&!c.get(t+a,e+a)&&s[3]<n;)s[3]++,a++;if(e+a>=u||t+a>=g||s[3]>=n)return!1;for(;e+a<u&&t+a<g&&c.get(t+a,e+a)&&s[4]<n;)s[4]++,a++;if(s[4]>=n)return!1;const x=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(x-i)<2*i&&vt.foundPatternCross(s)}crossCheckVertical(e,t,n,i){const s=this.image,a=s.getHeight(),c=this.getCrossCheckStateCount();let u=e;for(;u>=0&&s.get(t,u);)c[2]++,u--;if(u<0)return NaN;for(;u>=0&&!s.get(t,u)&&c[1]<=n;)c[1]++,u--;if(u<0||c[1]>n)return NaN;for(;u>=0&&s.get(t,u)&&c[0]<=n;)c[0]++,u--;if(c[0]>n)return NaN;for(u=e+1;u<a&&s.get(t,u);)c[2]++,u++;if(u===a)return NaN;for(;u<a&&!s.get(t,u)&&c[3]<n;)c[3]++,u++;if(u===a||c[3]>=n)return NaN;for(;u<a&&s.get(t,u)&&c[4]<n;)c[4]++,u++;if(c[4]>=n)return NaN;const g=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(g-i)>=2*i?NaN:vt.foundPatternCross(c)?vt.centerFromEnd(c,u):NaN}crossCheckHorizontal(e,t,n,i){const s=this.image,a=s.getWidth(),c=this.getCrossCheckStateCount();let u=e;for(;u>=0&&s.get(u,t);)c[2]++,u--;if(u<0)return NaN;for(;u>=0&&!s.get(u,t)&&c[1]<=n;)c[1]++,u--;if(u<0||c[1]>n)return NaN;for(;u>=0&&s.get(u,t)&&c[0]<=n;)c[0]++,u--;if(c[0]>n)return NaN;for(u=e+1;u<a&&s.get(u,t);)c[2]++,u++;if(u===a)return NaN;for(;u<a&&!s.get(u,t)&&c[3]<n;)c[3]++,u++;if(u===a||c[3]>=n)return NaN;for(;u<a&&s.get(u,t)&&c[4]<n;)c[4]++,u++;if(c[4]>=n)return NaN;const g=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(g-i)>=i?NaN:vt.foundPatternCross(c)?vt.centerFromEnd(c,u):NaN}handlePossibleCenter(e,t,n,i){const s=e[0]+e[1]+e[2]+e[3]+e[4];let a=vt.centerFromEnd(e,n),c=this.crossCheckVertical(t,Math.floor(a),e[2],s);if(!isNaN(c)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(c),e[2],s),!isNaN(a)&&(!i||this.crossCheckDiagonal(Math.floor(c),Math.floor(a),e[2],s)))){const u=s/7;let g=!1;const x=this.possibleCenters;for(let w=0,b=x.length;w<b;w++){const S=x[w];if(S.aboutEquals(u,c,a)){x[w]=S.combineEstimate(c,a,u),g=!0;break}}if(!g){const w=new Pr(a,c,u);x.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let t=null;for(const n of this.possibleCenters)if(n.getCount()>=vt.CENTER_QUORUM)if(t==null)t=n;else return this.hasSkipped=!0,Math.floor((Math.abs(t.getX()-n.getX())-Math.abs(t.getY()-n.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const n=this.possibleCenters.length;for(const a of this.possibleCenters)a.getCount()>=vt.CENTER_QUORUM&&(e++,t+=a.getEstimatedModuleSize());if(e<3)return!1;const i=t/n;let s=0;for(const a of this.possibleCenters)s+=Math.abs(a.getEstimatedModuleSize()-i);return s<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new H;const t=this.possibleCenters;let n;if(e>3){let i=0,s=0;for(const u of this.possibleCenters){const g=u.getEstimatedModuleSize();i+=g,s+=g*g}n=i/e;let a=Math.sqrt(s/e-n*n);t.sort((u,g)=>{const x=Math.abs(g.getEstimatedModuleSize()-n),w=Math.abs(u.getEstimatedModuleSize()-n);return x<w?-1:x>w?1:0});const c=Math.max(.2*n,a);for(let u=0;u<t.length&&t.length>3;u++){const g=t[u];Math.abs(g.getEstimatedModuleSize()-n)>c&&(t.splice(u,1),u--)}}if(t.length>3){let i=0;for(const s of t)i+=s.getEstimatedModuleSize();n=i/t.length,t.sort((s,a)=>{if(a.getCount()===s.getCount()){const c=Math.abs(a.getEstimatedModuleSize()-n),u=Math.abs(s.getEstimatedModuleSize()-n);return c<u?1:c>u?-1:0}else return a.getCount()-s.getCount()}),t.splice(3)}return[t[0],t[1],t[2]]}}vt.CENTER_QUORUM=2,vt.MIN_SKIP=3,vt.MAX_MODULES=57;class Sn{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(we.NEED_RESULT_POINT_CALLBACK);const n=new vt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(n)}processFinderPatternInfo(e){const t=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),s=this.calculateModuleSize(t,n,i);if(s<1)throw new H("No pattern found in proccess finder.");const a=Sn.computeDimension(t,n,i,s),c=ye.getProvisionalVersionForDimension(a),u=c.getDimensionForVersion()-7;let g=null;if(c.getAlignmentPatternCenters().length>0){const S=n.getX()-t.getX()+i.getX(),R=n.getY()-t.getY()+i.getY(),L=1-3/u,P=Math.floor(t.getX()+L*(S-t.getX())),V=Math.floor(t.getY()+L*(R-t.getY()));for(let ie=4;ie<=16;ie<<=1)try{g=this.findAlignmentInRegion(s,P,V,ie);break}catch(oe){if(!(oe instanceof H))throw oe}}const x=Sn.createTransform(t,n,i,g,a),w=Sn.sampleGrid(this.image,x,a);let b;return g===null?b=[i,t,n]:b=[i,t,n,g],new Ce(w,b)}static createTransform(e,t,n,i,s){const a=s-3.5;let c,u,g,x;return i!==null?(c=i.getX(),u=i.getY(),g=a-3,x=g):(c=t.getX()-e.getX()+n.getX(),u=t.getY()-e.getY()+n.getY(),g=a,x=a),Oe.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,g,x,3.5,a,e.getX(),e.getY(),t.getX(),t.getY(),c,u,n.getX(),n.getY())}static sampleGrid(e,t,n){return Ue.getInstance().sampleGridWithTransform(e,n,n,t)}static computeDimension(e,t,n,i){const s=G.round(B.distance(e,t)/i),a=G.round(B.distance(e,n)/i);let c=Math.floor((s+a)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new H("Dimensions could be not found.")}return c}calculateModuleSize(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2}calculateModuleSizeOneWay(e,t){const n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,n,i){let s=this.sizeOfBlackWhiteBlackRun(e,t,n,i),a=1,c=e-(n-e);c<0?(a=e/(e-c),c=0):c>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(c-e),c=this.image.getWidth()-1);let u=Math.floor(t-(i-t)*a);return a=1,u<0?(a=t/(t-u),u=0):u>=this.image.getHeight()&&(a=(this.image.getHeight()-1-t)/(u-t),u=this.image.getHeight()-1),c=Math.floor(e+(c-e)*a),s+=this.sizeOfBlackWhiteBlackRun(e,t,c,u),s-1}sizeOfBlackWhiteBlackRun(e,t,n,i){const s=Math.abs(i-t)>Math.abs(n-e);if(s){let S=e;e=t,t=S,S=n,n=i,i=S}const a=Math.abs(n-e),c=Math.abs(i-t);let u=-a/2;const g=e<n?1:-1,x=t<i?1:-1;let w=0;const b=n+g;for(let S=e,R=t;S!==b;S+=g){const L=s?R:S,P=s?S:R;if(w===1===this.image.get(L,P)){if(w===2)return G.distance(S,R,e,t);w++}if(u+=c,u>0){if(R===i)break;R+=x,u-=a}}return w===2?G.distance(n+g,i,e,t):NaN}findAlignmentInRegion(e,t,n,i){const s=Math.floor(i*e),a=Math.max(0,t-s),c=Math.min(this.image.getWidth()-1,t+s);if(c-a<e*3)throw new H("Alignment top exceeds estimated module size.");const u=Math.max(0,n-s),g=Math.min(this.image.getHeight()-1,n+s);if(g-u<e*3)throw new H("Alignment bottom exceeds estimated module size.");return new ui(this.image,a,u,c-a,g-u,e,this.resultPointCallback).find()}}class Bn{constructor(){this.decoder=new Ho}getDecoder(){return this.decoder}decode(e,t){let n,i;if(t!=null&&t.get(we.PURE_BARCODE)!==void 0){const u=Bn.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(u,t),i=Bn.NO_POINTS}else{const u=new Sn(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(u.getBits(),t),i=u.getPoints()}n.getOther()instanceof Ns&&n.getOther().applyMirroredCorrection(i);const s=new dt(n.getText(),n.getRawBytes(),void 0,i,ge.QR_CODE,void 0),a=n.getByteSegments();a!==null&&s.putMetadata(Je.BYTE_SEGMENTS,a);const c=n.getECLevel();return c!==null&&s.putMetadata(Je.ERROR_CORRECTION_LEVEL,c),n.hasStructuredAppend()&&(s.putMetadata(Je.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(Je.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t===null||n===null)throw new H;const i=this.moduleSize(t,e);let s=t[1],a=n[1],c=t[0],u=n[0];if(c>=u||s>=a)throw new H;if(a-s!==u-c&&(u=c+(a-s),u>=e.getWidth()))throw new H;const g=Math.round((u-c+1)/i),x=Math.round((a-s+1)/i);if(g<=0||x<=0)throw new H;if(x!==g)throw new H;const w=Math.floor(i/2);s+=w,c+=w;const b=c+Math.floor((g-1)*i)-u;if(b>0){if(b>w)throw new H;c-=b}const S=s+Math.floor((x-1)*i)-a;if(S>0){if(S>w)throw new H;s-=S}const R=new rt(g,x);for(let L=0;L<x;L++){const P=s+Math.floor(L*i);for(let V=0;V<g;V++)e.get(c+Math.floor(V*i),P)&&R.set(V,L)}return R}static moduleSize(e,t){const n=t.getHeight(),i=t.getWidth();let s=e[0],a=e[1],c=!0,u=0;for(;s<i&&a<n;){if(c!==t.get(s,a)){if(++u===5)break;c=!c}s++,a++}if(s===i||a===n)throw new H;return(s-e[0])/7}}Bn.NO_POINTS=new Array;class Le{PDF417Common(){}static getBitCountSum(e){return G.sum(e)}static toIntArray(e){if(e==null||!e.length)return Le.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let n=0;for(const i of e)t[n++]=i;return t}static getCodeword(e){const t=he.binarySearch(Le.SYMBOL_TABLE,e&262143);return t<0?-1:(Le.CODEWORD_TABLE[t]-1)%Le.NUMBER_OF_CODEWORDS}}Le.NUMBER_OF_CODEWORDS=929,Le.MAX_CODEWORDS_IN_BARCODE=Le.NUMBER_OF_CODEWORDS-1,Le.MIN_ROWS_IN_BARCODE=3,Le.MAX_ROWS_IN_BARCODE=90,Le.MODULES_IN_CODEWORD=17,Le.MODULES_IN_STOP_PATTERN=18,Le.BARS_IN_MODULE=8,Le.EMPTY_INT_ARRAY=new Int32Array([]),Le.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Le.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class lr{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class ke{static detectMultiple(e,t,n){let i=e.getBlackMatrix(),s=ke.detect(n,i);return s.length||(i=i.clone(),i.rotate180(),s=ke.detect(n,i)),new lr(i,s)}static detect(e,t){const n=new Array;let i=0,s=0,a=!1;for(;i<t.getHeight();){const c=ke.findVertices(t,i,s);if(c[0]==null&&c[3]==null){if(!a)break;a=!1,s=0;for(const u of n)u[1]!=null&&(i=Math.trunc(Math.max(i,u[1].getY()))),u[3]!=null&&(i=Math.max(i,Math.trunc(u[3].getY())));i+=ke.ROW_STEP;continue}if(a=!0,n.push(c),!e)break;c[2]!=null?(s=Math.trunc(c[2].getX()),i=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),i=Math.trunc(c[4].getY()))}return n}static findVertices(e,t,n){const i=e.getHeight(),s=e.getWidth(),a=new Array(8);return ke.copyToResult(a,ke.findRowsWithPattern(e,i,s,t,n,ke.START_PATTERN),ke.INDEXES_START_PATTERN),a[4]!=null&&(n=Math.trunc(a[4].getX()),t=Math.trunc(a[4].getY())),ke.copyToResult(a,ke.findRowsWithPattern(e,i,s,t,n,ke.STOP_PATTERN),ke.INDEXES_STOP_PATTERN),a}static copyToResult(e,t,n){for(let i=0;i<n.length;i++)e[n[i]]=t[i]}static findRowsWithPattern(e,t,n,i,s,a){const c=new Array(4);let u=!1;const g=new Int32Array(a.length);for(;i<t;i+=ke.ROW_STEP){let w=ke.findGuardPattern(e,s,i,n,!1,a,g);if(w!=null){for(;i>0;){const b=ke.findGuardPattern(e,s,--i,n,!1,a,g);if(b!=null)w=b;else{i++;break}}c[0]=new B(w[0],i),c[1]=new B(w[1],i),u=!0;break}}let x=i+1;if(u){let w=0,b=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);for(;x<t;x++){const S=ke.findGuardPattern(e,b[0],x,n,!1,a,g);if(S!=null&&Math.abs(b[0]-S[0])<ke.MAX_PATTERN_DRIFT&&Math.abs(b[1]-S[1])<ke.MAX_PATTERN_DRIFT)b=S,w=0;else{if(w>ke.SKIPPED_ROW_COUNT_MAX)break;w++}}x-=w+1,c[2]=new B(b[0],x),c[3]=new B(b[1],x)}return x-i<ke.BARCODE_MIN_HEIGHT&&he.fill(c,null),c}static findGuardPattern(e,t,n,i,s,a,c){he.fillWithin(c,0,c.length,0);let u=t,g=0;for(;e.get(u,n)&&u>0&&g++<ke.MAX_PIXEL_DRIFT;)u--;let x=u,w=0,b=a.length;for(let S=s;x<i;x++)if(e.get(x,n)!==S)c[w]++;else{if(w===b-1){if(ke.patternMatchVariance(c,a,ke.MAX_INDIVIDUAL_VARIANCE)<ke.MAX_AVG_VARIANCE)return new Int32Array([u,x]);u+=c[0]+c[1],J.arraycopy(c,2,c,0,w-1),c[w-1]=0,c[w]=0,w--}else w++;c[w]=1,S=!S}return w===b-1&&ke.patternMatchVariance(c,a,ke.MAX_INDIVIDUAL_VARIANCE)<ke.MAX_AVG_VARIANCE?new Int32Array([u,x-1]):null}static patternMatchVariance(e,t,n){let i=e.length,s=0,a=0;for(let g=0;g<i;g++)s+=e[g],a+=t[g];if(s<a)return 1/0;let c=s/a;n*=c;let u=0;for(let g=0;g<i;g++){let x=e[g],w=t[g]*c,b=x>w?x-w:w-x;if(b>n)return 1/0;u+=b}return u/s}}ke.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ke.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ke.MAX_AVG_VARIANCE=.42,ke.MAX_INDIVIDUAL_VARIANCE=.8,ke.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ke.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ke.MAX_PIXEL_DRIFT=3,ke.MAX_PATTERN_DRIFT=5,ke.SKIPPED_ROW_COUNT_MAX=25,ke.ROW_STEP=5,ke.BARCODE_MIN_HEIGHT=10;class Dt{constructor(e,t){if(t.length===0)throw new D;this.field=e;let n=t.length;if(n>1&&t[0]===0){let i=1;for(;i<n&&t[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),J.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let i=0;for(let s of this.coefficients)i=this.field.add(i,s);return i}let t=this.coefficients[0],n=this.coefficients.length;for(let i=1;i<n;i++)t=this.field.add(this.field.multiply(e,t),this.coefficients[i]);return t}add(e){if(!this.field.equals(e.field))throw new D("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){let a=t;t=n,n=a}let i=new Int32Array(n.length),s=n.length-t.length;J.arraycopy(n,0,i,0,s);for(let a=s;a<n.length;a++)i[a]=this.field.add(t[a-s],n[a]);return new Dt(this.field,i)}subtract(e){if(!this.field.equals(e.field))throw new D("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Dt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new D("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Dt(this.field,new Int32Array([0]));let t=this.coefficients,n=t.length,i=e.coefficients,s=i.length,a=new Int32Array(n+s-1);for(let c=0;c<n;c++){let u=t[c];for(let g=0;g<s;g++)a[c+g]=this.field.add(a[c+g],this.field.multiply(u,i[g]))}return new Dt(this.field,a)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new Dt(this.field,t)}multiplyScalar(e){if(e===0)return new Dt(this.field,new Int32Array([0]));if(e===1)return this;let t=this.coefficients.length,n=new Int32Array(t);for(let i=0;i<t;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new Dt(this.field,n)}multiplyByMonomial(e,t){if(e<0)throw new D;if(t===0)return new Dt(this.field,new Int32Array([0]));let n=this.coefficients.length,i=new Int32Array(n+e);for(let s=0;s<n;s++)i[s]=this.field.multiply(this.coefficients[s],t);return new Dt(this.field,i)}toString(){let e=new Se;for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(t===0||n!==1)&&e.append(n),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class Os{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new D;return this.logTable[e]}inverse(e){if(e===0)throw new v;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class zi extends Os{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let n=1;for(let i=0;i<e;i++)this.expTable[i]=n,n=n*t%e;for(let i=0;i<e-1;i++)this.logTable[this.expTable[i]]=i;this.zero=new Dt(this,new Int32Array([0])),this.one=new Dt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new D;if(t===0)return this.zero;let n=new Int32Array(e+1);return n[0]=t,new Dt(this,n)}}zi.PDF417_GF=new zi(Le.NUMBER_OF_CODEWORDS,3);class Ki{constructor(){this.field=zi.PDF417_GF}decode(e,t,n){let i=new Dt(this.field,e),s=new Int32Array(t),a=!1;for(let R=t;R>0;R--){let L=i.evaluateAt(this.field.exp(R));s[t-R]=L,L!==0&&(a=!0)}if(!a)return 0;let c=this.field.getOne();if(n!=null)for(const R of n){let L=this.field.exp(e.length-1-R),P=new Dt(this.field,new Int32Array([this.field.subtract(0,L),1]));c=c.multiply(P)}let u=new Dt(this.field,s),g=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),u,t),x=g[0],w=g[1],b=this.findErrorLocations(x),S=this.findErrorMagnitudes(w,x,b);for(let R=0;R<b.length;R++){let L=e.length-1-this.field.log(b[R]);if(L<0)throw z.getChecksumInstance();e[L]=this.field.subtract(e[L],S[R])}return b.length}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){let b=e;e=t,t=b}let i=e,s=t,a=this.field.getZero(),c=this.field.getOne();for(;s.getDegree()>=Math.round(n/2);){let b=i,S=a;if(i=s,a=c,i.isZero())throw z.getChecksumInstance();s=b;let R=this.field.getZero(),L=i.getCoefficient(i.getDegree()),P=this.field.inverse(L);for(;s.getDegree()>=i.getDegree()&&!s.isZero();){let V=s.getDegree()-i.getDegree(),ie=this.field.multiply(s.getCoefficient(s.getDegree()),P);R=R.add(this.field.buildMonomial(V,ie)),s=s.subtract(i.multiplyByMonomial(V,ie))}c=R.multiply(a).subtract(S).negative()}let u=c.getCoefficient(0);if(u===0)throw z.getChecksumInstance();let g=this.field.inverse(u),x=c.multiply(g),w=s.multiply(g);return[x,w]}findErrorLocations(e){let t=e.getDegree(),n=new Int32Array(t),i=0;for(let s=1;s<this.field.getSize()&&i<t;s++)e.evaluateAt(s)===0&&(n[i]=this.field.inverse(s),i++);if(i!==t)throw z.getChecksumInstance();return n}findErrorMagnitudes(e,t,n){let i=t.getDegree(),s=new Int32Array(i);for(let g=1;g<=i;g++)s[i-g]=this.field.multiply(g,t.getCoefficient(g));let a=new Dt(this.field,s),c=n.length,u=new Int32Array(c);for(let g=0;g<c;g++){let x=this.field.inverse(n[g]),w=this.field.subtract(0,e.evaluateAt(x)),b=this.field.inverse(a.evaluateAt(x));u[g]=this.field.multiply(w,b)}return u}}class cr{constructor(e,t,n,i,s){e instanceof cr?this.constructor_2(e):this.constructor_1(e,t,n,i,s)}constructor_1(e,t,n,i,s){const a=t==null||n==null,c=i==null||s==null;if(a&&c)throw new H;a?(t=new B(0,i.getY()),n=new B(0,s.getY())):c&&(i=new B(e.getWidth()-1,t.getY()),s=new B(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=i,this.bottomRight=s,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),s.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),s.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return e==null?t:t==null?e:new cr(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,n){let i=this.topLeft,s=this.bottomLeft,a=this.topRight,c=this.bottomRight;if(e>0){let u=n?this.topLeft:this.topRight,g=Math.trunc(u.getY()-e);g<0&&(g=0);let x=new B(u.getX(),g);n?i=x:a=x}if(t>0){let u=n?this.bottomLeft:this.bottomRight,g=Math.trunc(u.getY()+t);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let x=new B(u.getX(),g);n?s=x:c=x}return new cr(this.image,i,s,a,c)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Go{constructor(e,t,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Fr{constructor(){this.buffer=""}static form(e,t){let n=-1;function i(a,c,u,g,x,w){if(a==="%%")return"%";if(t[++n]===void 0)return;a=g?parseInt(g.substr(1)):void 0;let b=x?parseInt(x.substr(1)):void 0,S;switch(w){case"s":S=t[n];break;case"c":S=t[n][0];break;case"f":S=parseFloat(t[n]).toFixed(a);break;case"p":S=parseFloat(t[n]).toPrecision(a);break;case"e":S=parseFloat(t[n]).toExponential(a);break;case"x":S=parseInt(t[n]).toString(b||16);break;case"d":S=parseFloat(parseInt(t[n],b||10).toPrecision(a)).toFixed(0);break}S=typeof S=="object"?JSON.stringify(S):(+S).toString(b);let R=parseInt(u),L=u&&u[0]+""=="0"?"0":" ";for(;S.length<R;)S=c!==void 0?S+L:L+S;return S}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)}format(e,...t){this.buffer+=Fr.form(e,t)}toString(){return this.buffer}}class kr{constructor(e){this.boundingBox=new cr(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(t!=null)return t;for(let n=1;n<kr.MAX_NEARBY_DISTANCE;n++){let i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Fr;let t=0;for(const n of this.codewords){if(n==null){e.format("%3d:    |   %n",t++);continue}e.format("%3d: %3d|%3d%n",t++,n.getRowNumber(),n.getValue())}return e.toString()}}kr.MAX_NEARBY_DISTANCE=5;class Ur{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[n,i]of this.values.entries()){const s={getKey:()=>n,getValue:()=>i};s.getValue()>e?(e=s.getValue(),t=[],t.push(s.getKey())):s.getValue()===e&&t.push(s.getKey())}return Le.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class Zi extends kr{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),s=this._isLeft?n.getBottomLeft():n.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=-1,g=1,x=0;for(let w=a;w<c;w++){if(t[w]==null)continue;let b=t[w],S=b.getRowNumber()-u;if(S===0)x++;else if(S===1)g=Math.max(g,x),x=1,u=b.getRowNumber();else if(S<0||b.getRowNumber()>=e.getRowCount()||S>w)t[w]=null;else{let R;g>2?R=(g-2)*S:R=S;let L=R>=w;for(let P=1;P<=R&&!L;P++)L=t[w-P]!=null;L?t[w]=null:(u=b.getRowNumber(),x=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let n of this.getCodewords())if(n!=null){let i=n.getRowNumber();if(i>=t.length)continue;t[i]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),n=this._isLeft?t.getTopLeft():t.getTopRight(),i=this._isLeft?t.getBottomLeft():t.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(n.getY())),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.getCodewords(),u=-1;for(let g=s;g<a;g++){if(c[g]==null)continue;let x=c[g];x.setRowNumberAsRowIndicatorColumn();let w=x.getRowNumber()-u;w===0||(w===1?u=x.getRowNumber():x.getRowNumber()>=e.getRowCount()?c[g]=null:u=x.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new Ur,n=new Ur,i=new Ur,s=new Ur;for(let c of e){if(c==null)continue;c.setRowNumberAsRowIndicatorColumn();let u=c.getValue()%30,g=c.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:n.setValue(u*3+1);break;case 1:s.setValue(u/3),i.setValue(u%3);break;case 2:t.setValue(u+1);break}}if(t.getValue().length===0||n.getValue().length===0||i.getValue().length===0||s.getValue().length===0||t.getValue()[0]<1||n.getValue()[0]+i.getValue()[0]<Le.MIN_ROWS_IN_BARCODE||n.getValue()[0]+i.getValue()[0]>Le.MAX_ROWS_IN_BARCODE)return null;let a=new Go(t.getValue()[0],n.getValue()[0],i.getValue()[0],s.getValue()[0]);return this.removeIncorrectCodewords(e,a),a}removeIncorrectCodewords(e,t){for(let n=0;n<e.length;n++){let i=e[n];if(e[n]==null)continue;let s=i.getValue()%30,a=i.getRowNumber();if(a>t.getRowCount()){e[n]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:s*3+1!==t.getRowCountUpperPart()&&(e[n]=null);break;case 1:(Math.trunc(s/3)!==t.getErrorCorrectionLevel()||s%3!==t.getRowCountLowerPart())&&(e[n]=null);break;case 2:s+1!==t.getColumnCount()&&(e[n]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class yr{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Le.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let n=this.detectionResultColumns[t].getCodewords();for(let i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,n))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<e.length;n++)if(e[n]!=null&&t[n]!=null&&e[n].getRowNumber()===t[n].getRowNumber())for(let i=1;i<=this.barcodeColumnCount;i++){let s=this.detectionResultColumns[i].getCodewords()[n];s!=null&&(s.setRowNumber(e[n].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<t.length;n++){if(t[n]==null)continue;let i=t[n].getRowNumber(),s=0;for(let a=this.barcodeColumnCount+1;a>0&&s<this.ADJUST_ROW_NUMBER_SKIP;a--){let c=this.detectionResultColumns[a].getCodewords()[n];c!=null&&(s=yr.adjustRowNumberIfValid(i,s,c),c.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let n=0;n<t.length;n++){if(t[n]==null)continue;let i=t[n].getRowNumber(),s=0;for(let a=1;a<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;a++){let c=this.detectionResultColumns[a].getCodewords()[n];c!=null&&(s=yr.adjustRowNumberIfValid(i,s,c),c.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,n){if(!this.detectionResultColumns[e-1])return;let i=n[t],s=this.detectionResultColumns[e-1].getCodewords(),a=s;this.detectionResultColumns[e+1]!=null&&(a=this.detectionResultColumns[e+1].getCodewords());let c=new Array(14);c[2]=s[t],c[3]=a[t],t>0&&(c[0]=n[t-1],c[4]=s[t-1],c[5]=a[t-1]),t>1&&(c[8]=n[t-2],c[10]=s[t-2],c[11]=a[t-2]),t<n.length-1&&(c[1]=n[t+1],c[6]=s[t+1],c[7]=a[t+1]),t<n.length-2&&(c[9]=n[t+2],c[12]=s[t+2],c[13]=a[t+2]);for(let u of c)if(yr.adjustRowNumber(i,u))return}static adjustRowNumber(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new Fr;for(let n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(let i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}let s=this.detectionResultColumns[i].getCodewords()[n];if(s==null){t.format("    |   ");continue}t.format(" %3d|%3d",s.getRowNumber(),s.getValue())}t.format("%n")}return t.toString()}}class Vr{constructor(e,t,n,i){this.rowNumber=Vr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Vr.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Vr.BARCODE_ROW_UNKNOWN=-1;class It{static initialize(){for(let e=0;e<Le.SYMBOL_TABLE.length;e++){let t=Le.SYMBOL_TABLE[e],n=t&1;for(let i=0;i<Le.BARS_IN_MODULE;i++){let s=0;for(;(t&1)===n;)s+=1,t>>=1;n=t&1,It.RATIOS_TABLE[e]||(It.RATIOS_TABLE[e]=new Array(Le.BARS_IN_MODULE)),It.RATIOS_TABLE[e][Le.BARS_IN_MODULE-i-1]=Math.fround(s/Le.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=It.getDecodedCodewordValue(It.sampleBitCounts(e));return t!==-1?t:It.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=G.sum(e),n=new Int32Array(Le.BARS_IN_MODULE),i=0,s=0;for(let a=0;a<Le.MODULES_IN_CODEWORD;a++){let c=t/(2*Le.MODULES_IN_CODEWORD)+a*t/Le.MODULES_IN_CODEWORD;s+e[i]<=c&&(s+=e[i],i++),n[i]++}return n}static getDecodedCodewordValue(e){let t=It.getBitValue(e);return Le.getCodeword(t)===-1?-1:t}static getBitValue(e){let t=0;for(let n=0;n<e.length;n++)for(let i=0;i<e[n];i++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=G.sum(e),n=new Array(Le.BARS_IN_MODULE);if(t>1)for(let a=0;a<n.length;a++)n[a]=Math.fround(e[a]/t);let i=U.MAX_VALUE,s=-1;this.bSymbolTableReady||It.initialize();for(let a=0;a<It.RATIOS_TABLE.length;a++){let c=0,u=It.RATIOS_TABLE[a];for(let g=0;g<Le.BARS_IN_MODULE;g++){let x=Math.fround(u[g]-n[g]);if(c+=Math.fround(x*x),c>=i)break}c<i&&(i=c,s=Le.SYMBOL_TABLE[a])}return s}}It.bSymbolTableReady=!1,It.RATIOS_TABLE=new Array(Le.SYMBOL_TABLE.length).map(_=>new Array(Le.BARS_IN_MODULE));class vs{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Rs{static parseLong(e,t=void 0){return parseInt(e,t)}}class Ds extends E{}Ds.kind="NullPointerException";class Xo{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,n){if(e==null)throw new Ds;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new de;if(n===0)return;for(let i=0;i<n;i++)this.write(e[t+i])}flush(){}close(){}}class Yo extends E{}class ur extends Xo{constructor(e=32){if(super(),this.count=0,e<0)throw new D("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let n=this.buf.length<<1;if(n-e<0&&(n=e),n<0){if(e<0)throw new Yo;n=ae.MAX_VALUE}this.buf=he.copyOfUint8Array(this.buf,n)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,n){if(t<0||t>e.length||n<0||t+n-e.length>0)throw new de;this.ensureCapacity(this.count+n),J.arraycopy(e,t,this.buf,this.count,n),this.count+=n}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return he.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var at;(function(_){_[_.ALPHA=0]="ALPHA",_[_.LOWER=1]="LOWER",_[_.MIXED=2]="MIXED",_[_.PUNCT=3]="PUNCT",_[_.ALPHA_SHIFT=4]="ALPHA_SHIFT",_[_.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(at||(at={}));function Hr(){if(typeof window<"u")return window.BigInt||null;if(typeof Ai<"u")return Ai.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let fi;function Kn(_){if(typeof fi>"u"&&(fi=Hr()),fi===null)throw new Error("BigInt is not supported!");return fi(_)}function jo(){let _=[];_[0]=Kn(1);let e=Kn(900);_[1]=e;for(let t=2;t<16;t++)_[t]=_[t-1]*e;return _}class k{static decode(e,t){let n=new Se(""),i=j.ISO8859_1;n.enableDecoding(i);let s=1,a=e[s++],c=new vs;for(;s<e[0];){switch(a){case k.TEXT_COMPACTION_MODE_LATCH:s=k.textCompaction(e,s,n);break;case k.BYTE_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH_6:s=k.byteCompaction(a,e,i,s,n);break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[s++]);break;case k.NUMERIC_COMPACTION_MODE_LATCH:s=k.numericCompaction(e,s,n);break;case k.ECI_CHARSET:j.getCharacterSetECIByValue(e[s++]);break;case k.ECI_GENERAL_PURPOSE:s+=2;break;case k.ECI_USER_DEFINED:s++;break;case k.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=k.decodeMacroBlock(e,s,c);break;case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case k.MACRO_PDF417_TERMINATOR:throw new q;default:s--,s=k.textCompaction(e,s,n);break}if(s<e.length)a=e[s++];else throw q.getFormatInstance()}if(n.length()===0)throw q.getFormatInstance();let u=new Bt(null,n.toString(),null,t);return u.setOther(c),u}static decodeMacroBlock(e,t,n){if(t+k.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw q.getFormatInstance();let i=new Int32Array(k.NUMBER_OF_SEQUENCE_CODEWORDS);for(let c=0;c<k.NUMBER_OF_SEQUENCE_CODEWORDS;c++,t++)i[c]=e[t];n.setSegmentIndex(ae.parseInt(k.decodeBase900toBase10(i,k.NUMBER_OF_SEQUENCE_CODEWORDS)));let s=new Se;t=k.textCompaction(e,t,s),n.setFileId(s.toString());let a=-1;for(e[t]===k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=t+1);t<e[0];)switch(e[t]){case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case k.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let c=new Se;t=k.textCompaction(e,t+1,c),n.setFileName(c.toString());break;case k.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let u=new Se;t=k.textCompaction(e,t+1,u),n.setSender(u.toString());break;case k.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new Se;t=k.textCompaction(e,t+1,g),n.setAddressee(g.toString());break;case k.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let x=new Se;t=k.numericCompaction(e,t+1,x),n.setSegmentCount(ae.parseInt(x.toString()));break;case k.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let w=new Se;t=k.numericCompaction(e,t+1,w),n.setTimestamp(Rs.parseLong(w.toString()));break;case k.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let b=new Se;t=k.numericCompaction(e,t+1,b),n.setChecksum(ae.parseInt(b.toString()));break;case k.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let S=new Se;t=k.numericCompaction(e,t+1,S),n.setFileSize(Rs.parseLong(S.toString()));break;default:throw q.getFormatInstance()}break;case k.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw q.getFormatInstance()}if(a!==-1){let c=t-a;n.isLastSegment()&&c--,n.setOptionalData(he.copyOfRange(e,a,a+c))}return t}static textCompaction(e,t,n){let i=new Int32Array((e[0]-t)*2),s=new Int32Array((e[0]-t)*2),a=0,c=!1;for(;t<e[0]&&!c;){let u=e[t++];if(u<k.TEXT_COMPACTION_MODE_LATCH)i[a]=u/30,i[a+1]=u%30,a+=2;else switch(u){case k.TEXT_COMPACTION_MODE_LATCH:i[a++]=k.TEXT_COMPACTION_MODE_LATCH;break;case k.BYTE_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH_6:case k.NUMERIC_COMPACTION_MODE_LATCH:case k.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case k.MACRO_PDF417_TERMINATOR:t--,c=!0;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[a]=k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[t++],s[a]=u,a++;break}}return k.decodeTextCompaction(i,s,a,n),t}static decodeTextCompaction(e,t,n,i){let s=at.ALPHA,a=at.ALPHA,c=0;for(;c<n;){let u=e[c],g="";switch(s){case at.ALPHA:if(u<26)g=String.fromCharCode(65+u);else switch(u){case 26:g=" ";break;case k.LL:s=at.LOWER;break;case k.ML:s=at.MIXED;break;case k.PS:a=s,s=at.PUNCT_SHIFT;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[c]);break;case k.TEXT_COMPACTION_MODE_LATCH:s=at.ALPHA;break}break;case at.LOWER:if(u<26)g=String.fromCharCode(97+u);else switch(u){case 26:g=" ";break;case k.AS:a=s,s=at.ALPHA_SHIFT;break;case k.ML:s=at.MIXED;break;case k.PS:a=s,s=at.PUNCT_SHIFT;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[c]);break;case k.TEXT_COMPACTION_MODE_LATCH:s=at.ALPHA;break}break;case at.MIXED:if(u<k.PL)g=k.MIXED_CHARS[u];else switch(u){case k.PL:s=at.PUNCT;break;case 26:g=" ";break;case k.LL:s=at.LOWER;break;case k.AL:s=at.ALPHA;break;case k.PS:a=s,s=at.PUNCT_SHIFT;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[c]);break;case k.TEXT_COMPACTION_MODE_LATCH:s=at.ALPHA;break}break;case at.PUNCT:if(u<k.PAL)g=k.PUNCT_CHARS[u];else switch(u){case k.PAL:s=at.ALPHA;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[c]);break;case k.TEXT_COMPACTION_MODE_LATCH:s=at.ALPHA;break}break;case at.ALPHA_SHIFT:if(s=a,u<26)g=String.fromCharCode(65+u);else switch(u){case 26:g=" ";break;case k.TEXT_COMPACTION_MODE_LATCH:s=at.ALPHA;break}break;case at.PUNCT_SHIFT:if(s=a,u<k.PAL)g=k.PUNCT_CHARS[u];else switch(u){case k.PAL:s=at.ALPHA;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[c]);break;case k.TEXT_COMPACTION_MODE_LATCH:s=at.ALPHA;break}break}g!==""&&i.append(g),c++}}static byteCompaction(e,t,n,i,s){let a=new ur,c=0,u=0,g=!1;switch(e){case k.BYTE_COMPACTION_MODE_LATCH:let x=new Int32Array(6),w=t[i++];for(;i<t[0]&&!g;)switch(x[c++]=w,u=900*u+w,w=t[i++],w){case k.TEXT_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH:case k.NUMERIC_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH_6:case k.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case k.MACRO_PDF417_TERMINATOR:i--,g=!0;break;default:if(c%5===0&&c>0){for(let b=0;b<6;++b)a.write(Number(Kn(u)>>Kn(8*(5-b))));u=0,c=0}break}i===t[0]&&w<k.TEXT_COMPACTION_MODE_LATCH&&(x[c++]=w);for(let b=0;b<c;b++)a.write(x[b]);break;case k.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!g;){let b=t[i++];if(b<k.TEXT_COMPACTION_MODE_LATCH)c++,u=900*u+b;else switch(b){case k.TEXT_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH:case k.NUMERIC_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH_6:case k.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case k.MACRO_PDF417_TERMINATOR:i--,g=!0;break}if(c%5===0&&c>0){for(let S=0;S<6;++S)a.write(Number(Kn(u)>>Kn(8*(5-S))));u=0,c=0}}break}return s.append(De.decode(a.toByteArray(),n)),i}static numericCompaction(e,t,n){let i=0,s=!1,a=new Int32Array(k.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!s;){let c=e[t++];if(t===e[0]&&(s=!0),c<k.TEXT_COMPACTION_MODE_LATCH)a[i]=c,i++;else switch(c){case k.TEXT_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH_6:case k.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case k.MACRO_PDF417_TERMINATOR:t--,s=!0;break}(i%k.MAX_NUMERIC_CODEWORDS===0||c===k.NUMERIC_COMPACTION_MODE_LATCH||s)&&i>0&&(n.append(k.decodeBase900toBase10(a,i)),i=0)}return t}static decodeBase900toBase10(e,t){let n=Kn(0);for(let s=0;s<t;s++)n+=k.EXP900[t-s-1]*Kn(e[s]);let i=n.toString();if(i.charAt(0)!=="1")throw new q;return i.substring(1)}}k.TEXT_COMPACTION_MODE_LATCH=900,k.BYTE_COMPACTION_MODE_LATCH=901,k.NUMERIC_COMPACTION_MODE_LATCH=902,k.BYTE_COMPACTION_MODE_LATCH_6=924,k.ECI_USER_DEFINED=925,k.ECI_GENERAL_PURPOSE=926,k.ECI_CHARSET=927,k.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,k.MACRO_PDF417_TERMINATOR=922,k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,k.MAX_NUMERIC_CODEWORDS=15,k.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,k.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,k.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,k.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,k.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,k.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,k.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,k.PL=25,k.LL=27,k.AS=27,k.ML=28,k.AL=28,k.PS=29,k.PAL=29,k.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,k.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",k.EXP900=Hr()?jo():[],k.NUMBER_OF_SEQUENCE_CODEWORDS=2;class He{constructor(){}static decode(e,t,n,i,s,a,c){let u=new cr(e,t,n,i,s),g=null,x=null,w;for(let R=!0;;R=!1){if(t!=null&&(g=He.getRowIndicatorColumn(e,u,t,!0,a,c)),i!=null&&(x=He.getRowIndicatorColumn(e,u,i,!1,a,c)),w=He.merge(g,x),w==null)throw H.getNotFoundInstance();let L=w.getBoundingBox();if(R&&L!=null&&(L.getMinY()<u.getMinY()||L.getMaxY()>u.getMaxY()))u=L;else break}w.setBoundingBox(u);let b=w.getBarcodeColumnCount()+1;w.setDetectionResultColumn(0,g),w.setDetectionResultColumn(b,x);let S=g!=null;for(let R=1;R<=b;R++){let L=S?R:b-R;if(w.getDetectionResultColumn(L)!==void 0)continue;let P;L===0||L===b?P=new Zi(u,L===0):P=new kr(u),w.setDetectionResultColumn(L,P);let V=-1,ie=V;for(let oe=u.getMinY();oe<=u.getMaxY();oe++){if(V=He.getStartColumn(w,L,oe,S),V<0||V>u.getMaxX()){if(ie===-1)continue;V=ie}let re=He.detectCodeword(e,u.getMinX(),u.getMaxX(),S,V,oe,a,c);re!=null&&(P.setCodeword(oe,re),ie=V,a=Math.min(a,re.getWidth()),c=Math.max(c,re.getWidth()))}}return He.createDecoderResult(w)}static merge(e,t){if(e==null&&t==null)return null;let n=He.getBarcodeMetadata(e,t);if(n==null)return null;let i=cr.merge(He.adjustBoundingBox(e),He.adjustBoundingBox(t));return new yr(n,i)}static adjustBoundingBox(e){if(e==null)return null;let t=e.getRowHeights();if(t==null)return null;let n=He.getMax(t),i=0;for(let c of t)if(i+=n-c,c>0)break;let s=e.getCodewords();for(let c=0;i>0&&s[c]==null;c++)i--;let a=0;for(let c=t.length-1;c>=0&&(a+=n-t[c],!(t[c]>0));c--);for(let c=s.length-1;a>0&&s[c]==null;c--)a--;return e.getBoundingBox().addMissingRows(i,a,e.isLeft())}static getMax(e){let t=-1;for(let n of e)t=Math.max(t,n);return t}static getBarcodeMetadata(e,t){let n;if(e==null||(n=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();let i;return t==null||(i=t.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n}static getRowIndicatorColumn(e,t,n,i,s,a){let c=new Zi(t,i);for(let u=0;u<2;u++){let g=u===0?1:-1,x=Math.trunc(Math.trunc(n.getX()));for(let w=Math.trunc(Math.trunc(n.getY()));w<=t.getMaxY()&&w>=t.getMinY();w+=g){let b=He.detectCodeword(e,0,e.getWidth(),i,x,w,s,a);b!=null&&(c.setCodeword(w,b),i?x=b.getStartX():x=b.getEndX())}}return c}static adjustCodewordCount(e,t){let n=t[0][1],i=n.getValue(),s=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-He.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(s<1||s>Le.MAX_CODEWORDS_IN_BARCODE)throw H.getNotFoundInstance();n.setValue(s)}else i[0]!==s&&n.setValue(s)}static createDecoderResult(e){let t=He.createBarcodeMatrix(e);He.adjustCodewordCount(e,t);let n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),s=[],a=new Array;for(let u=0;u<e.getBarcodeRowCount();u++)for(let g=0;g<e.getBarcodeColumnCount();g++){let x=t[u][g+1].getValue(),w=u*e.getBarcodeColumnCount()+g;x.length===0?n.push(w):x.length===1?i[w]=x[0]:(a.push(w),s.push(x))}let c=new Array(s.length);for(let u=0;u<c.length;u++)c[u]=s[u];return He.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Le.toIntArray(n),Le.toIntArray(a),c)}static createDecoderResultFromAmbiguousValues(e,t,n,i,s){let a=new Int32Array(i.length),c=100;for(;c-- >0;){for(let u=0;u<a.length;u++)t[i[u]]=s[u][a[u]];try{return He.decodeCodewords(t,e,n)}catch(u){if(!(u instanceof z))throw u}if(a.length===0)throw z.getChecksumInstance();for(let u=0;u<a.length;u++)if(a[u]<s[u].length-1){a[u]++;break}else if(a[u]=0,u===a.length-1)throw z.getChecksumInstance()}throw z.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let i=0;i<t.length;i++)for(let s=0;s<t[i].length;s++)t[i][s]=new Ur;let n=0;for(let i of e.getDetectionResultColumns()){if(i!=null){for(let s of i.getCodewords())if(s!=null){let a=s.getRowNumber();if(a>=0){if(a>=t.length)continue;t[a][n].setValue(s.getValue())}}}n++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,n,i){let s=i?1:-1,a=null;if(He.isValidBarcodeColumn(e,t-s)&&(a=e.getDetectionResultColumn(t-s).getCodeword(n)),a!=null)return i?a.getEndX():a.getStartX();if(a=e.getDetectionResultColumn(t).getCodewordNearby(n),a!=null)return i?a.getStartX():a.getEndX();if(He.isValidBarcodeColumn(e,t-s)&&(a=e.getDetectionResultColumn(t-s).getCodewordNearby(n)),a!=null)return i?a.getEndX():a.getStartX();let c=0;for(;He.isValidBarcodeColumn(e,t-s);){t-=s;for(let u of e.getDetectionResultColumn(t).getCodewords())if(u!=null)return(i?u.getEndX():u.getStartX())+s*c*(u.getEndX()-u.getStartX());c++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,n,i,s,a,c,u){s=He.adjustCodewordStartColumn(e,t,n,i,s,a);let g=He.getModuleBitCount(e,t,n,i,s,a);if(g==null)return null;let x,w=G.sum(g);if(i)x=s+w;else{for(let R=0;R<g.length/2;R++){let L=g[R];g[R]=g[g.length-1-R],g[g.length-1-R]=L}x=s,s=x-w}if(!He.checkCodewordSkew(w,c,u))return null;let b=It.getDecodedValue(g),S=Le.getCodeword(b);return S===-1?null:new Vr(s,x,He.getCodewordBucketNumber(b),S)}static getModuleBitCount(e,t,n,i,s,a){let c=s,u=new Int32Array(8),g=0,x=i?1:-1,w=i;for(;(i?c<n:c>=t)&&g<u.length;)e.get(c,a)===w?(u[g]++,c+=x):(g++,w=!w);return g===u.length||c===(i?n:t)&&g===u.length-1?u:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,n,i,s,a){let c=s,u=i?-1:1;for(let g=0;g<2;g++){for(;(i?c>=t:c<n)&&i===e.get(c,a);){if(Math.abs(s-c)>He.CODEWORD_SKEW_SIZE)return s;c+=u}u=-u,i=!i}return c}static checkCodewordSkew(e,t,n){return t-He.CODEWORD_SKEW_SIZE<=e&&e<=n+He.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,n){if(e.length===0)throw q.getFormatInstance();let i=1<<t+1,s=He.correctErrors(e,n,i);He.verifyCodewordCount(e,i);let a=k.decode(e,""+t);return a.setErrorsCorrected(s),a.setErasures(n.length),a}static correctErrors(e,t,n){if(t!=null&&t.length>n/2+He.MAX_ERRORS||n<0||n>He.MAX_EC_CODEWORDS)throw z.getChecksumInstance();return He.errorCorrection.decode(e,n,t)}static verifyCodewordCount(e,t){if(e.length<4)throw q.getFormatInstance();let n=e[0];if(n>e.length)throw q.getFormatInstance();if(n===0)if(t<e.length)e[0]=e.length-t;else throw q.getFormatInstance()}static getBitCountForCodeword(e){let t=new Int32Array(8),n=0,i=t.length-1;for(;!((e&1)!==n&&(n=e&1,i--,i<0));)t[i]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return He.getCodewordBucketNumber(He.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new Fr;for(let n=0;n<e.length;n++){t.format("Row %2d: ",n);for(let i=0;i<e[n].length;i++){let s=e[n][i];s.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}t.format("%n")}return t.toString()}}He.CODEWORD_SKEW_SIZE=2,He.MAX_ERRORS=3,He.MAX_EC_CODEWORDS=512,He.errorCorrection=new Ki;class Mt{decode(e,t=null){let n=Mt.decode(e,t,!1);if(n==null||n.length===0||n[0]==null)throw H.getNotFoundInstance();return n[0]}decodeMultiple(e,t=null){try{return Mt.decode(e,t,!0)}catch(n){throw n instanceof q||n instanceof z?H.getNotFoundInstance():n}}static decode(e,t,n){const i=new Array,s=ke.detectMultiple(e,t,n);for(const a of s.getPoints()){const c=He.decode(s.getBits(),a[4],a[5],a[6],a[7],Mt.getMinCodewordWidth(a),Mt.getMaxCodewordWidth(a)),u=new dt(c.getText(),c.getRawBytes(),void 0,a,ge.PDF_417);u.putMetadata(Je.ERROR_CORRECTION_LEVEL,c.getECLevel());const g=c.getOther();g!=null&&u.putMetadata(Je.PDF417_EXTRA_METADATA,g),i.push(u)}return i.map(a=>a)}static getMaxWidth(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return e==null||t==null?ae.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(Mt.getMaxWidth(e[0],e[4]),Mt.getMaxWidth(e[6],e[2])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN),Math.max(Mt.getMaxWidth(e[1],e[5]),Mt.getMaxWidth(e[7],e[3])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(Mt.getMinWidth(e[0],e[4]),Mt.getMinWidth(e[6],e[2])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN),Math.min(Mt.getMinWidth(e[1],e[5]),Mt.getMinWidth(e[7],e[3])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN)))}reset(){}}class hi extends E{}hi.kind="ReaderException";class Ms{constructor(e,t){this.verbose=e===!0,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const t=!f(e)&&e.get(we.TRY_HARDER)===!0,n=f(e)?null:e.get(we.POSSIBLE_FORMATS),i=new Array;if(!f(n)){const s=n.some(a=>a===ge.UPC_A||a===ge.UPC_E||a===ge.EAN_13||a===ge.EAN_8||a===ge.CODABAR||a===ge.CODE_39||a===ge.CODE_93||a===ge.CODE_128||a===ge.ITF||a===ge.RSS_14||a===ge.RSS_EXPANDED);s&&!t&&i.push(new br(e,this.verbose)),n.includes(ge.QR_CODE)&&i.push(new Bn),n.includes(ge.DATA_MATRIX)&&i.push(new Qt),n.includes(ge.AZTEC)&&i.push(new yn),n.includes(ge.PDF_417)&&i.push(new Mt),s&&t&&i.push(new br(e,this.verbose))}i.length===0&&(t||i.push(new br(e,this.verbose)),i.push(new Bn),i.push(new Qt),i.push(new yn),i.push(new Mt),t&&i.push(new br(e,this.verbose))),this.readers=i}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new hi("No readers where selected, nothing can be read.");for(const t of this.readers)try{return t.decode(e,this.hints)}catch(n){if(n instanceof hi)continue}throw new H("No MultiFormat Readers were able to detect the code.")}}class zo extends Ht{constructor(e=null,t=500){const n=new Ms;n.setHints(e),super(n,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Ko extends Ht{constructor(e=500){super(new Mt,e)}}class Zo extends Ht{constructor(e=500){super(new Bn,e)}}var $i;(function(_){_[_.ERROR_CORRECTION=0]="ERROR_CORRECTION",_[_.CHARACTER_SET=1]="CHARACTER_SET",_[_.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",_[_.MIN_SIZE=3]="MIN_SIZE",_[_.MAX_SIZE=4]="MAX_SIZE",_[_.MARGIN=5]="MARGIN",_[_.PDF417_COMPACT=6]="PDF417_COMPACT",_[_.PDF417_COMPACTION=7]="PDF417_COMPACTION",_[_.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",_[_.AZTEC_LAYERS=9]="AZTEC_LAYERS",_[_.QR_VERSION=10]="QR_VERSION"})($i||($i={}));var St=$i;class Jt{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new X(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let n=t[t.length-1];const i=this.field;for(let s=t.length;s<=e;s++){const a=n.multiply(new X(i,Int32Array.from([1,i.exp(s-1+i.getGeneratorBase())])));t.push(a),n=a}}return t[e]}encode(e,t){if(t===0)throw new D("No error correction bytes");const n=e.length-t;if(n<=0)throw new D("No data bytes provided");const i=this.buildGenerator(t),s=new Int32Array(n);J.arraycopy(e,0,s,0,n);let a=new X(this.field,s);a=a.multiplyByMonomial(t,1);const u=a.divide(i)[1].getCoefficients(),g=t-u.length;for(let x=0;x<g;x++)e[n+x]=0;J.arraycopy(u,0,e,n+g,u.length)}}class xt{constructor(){}static applyMaskPenaltyRule1(e){return xt.applyMaskPenaltyRule1Internal(e,!0)+xt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const n=e.getArray(),i=e.getWidth(),s=e.getHeight();for(let a=0;a<s-1;a++){const c=n[a];for(let u=0;u<i-1;u++){const g=c[u];g===c[u+1]&&g===n[a+1][u]&&g===n[a+1][u+1]&&t++}}return xt.N2*t}static applyMaskPenaltyRule3(e){let t=0;const n=e.getArray(),i=e.getWidth(),s=e.getHeight();for(let a=0;a<s;a++)for(let c=0;c<i;c++){const u=n[a];c+6<i&&u[c]===1&&u[c+1]===0&&u[c+2]===1&&u[c+3]===1&&u[c+4]===1&&u[c+5]===0&&u[c+6]===1&&(xt.isWhiteHorizontal(u,c-4,c)||xt.isWhiteHorizontal(u,c+7,c+11))&&t++,a+6<s&&n[a][c]===1&&n[a+1][c]===0&&n[a+2][c]===1&&n[a+3][c]===1&&n[a+4][c]===1&&n[a+5][c]===0&&n[a+6][c]===1&&(xt.isWhiteVertical(n,c,a-4,a)||xt.isWhiteVertical(n,c,a+7,a+11))&&t++}return t*xt.N3}static isWhiteHorizontal(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(let i=t;i<n;i++)if(e[i]===1)return!1;return!0}static isWhiteVertical(e,t,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(let s=n;s<i;s++)if(e[s][t]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const n=e.getArray(),i=e.getWidth(),s=e.getHeight();for(let u=0;u<s;u++){const g=n[u];for(let x=0;x<i;x++)g[x]===1&&t++}const a=e.getHeight()*e.getWidth();return Math.floor(Math.abs(t*2-a)*10/a)*xt.N4}static getDataMaskBit(e,t,n){let i,s;switch(e){case 0:i=n+t&1;break;case 1:i=n&1;break;case 2:i=t%3;break;case 3:i=(n+t)%3;break;case 4:i=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:s=n*t,i=(s&1)+s%3;break;case 6:s=n*t,i=(s&1)+s%3&1;break;case 7:s=n*t,i=s%3+(n+t&1)&1;break;default:throw new D("Invalid mask pattern: "+e)}return i===0}static applyMaskPenaltyRule1Internal(e,t){let n=0;const i=t?e.getHeight():e.getWidth(),s=t?e.getWidth():e.getHeight(),a=e.getArray();for(let c=0;c<i;c++){let u=0,g=-1;for(let x=0;x<s;x++){const w=t?a[c][x]:a[x][c];w===g?u++:(u>=5&&(n+=xt.N1+(u-5)),u=1,g=w)}u>=5&&(n+=xt.N1+(u-5))}return n}}xt.N1=3,xt.N2=3,xt.N3=40,xt.N4=10;class di{constructor(e,t){this.width=e,this.height=t;const n=new Array(t);for(let i=0;i!==t;i++)n[i]=new Uint8Array(e);this.bytes=n}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,n){this.bytes[t][e]=n}setBoolean(e,t,n){this.bytes[t][e]=n?1:0}clear(e){for(const t of this.bytes)he.fill(t,e)}equals(e){if(!(e instanceof di))return!1;const t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(let n=0,i=this.height;n<i;++n){const s=this.bytes[n],a=t.bytes[n];for(let c=0,u=this.width;c<u;++c)if(s[c]!==a[c])return!1}return!0}toString(){const e=new Se;for(let t=0,n=this.height;t<n;++t){const i=this.bytes[t];for(let s=0,a=this.width;s<a;++s)switch(i[s]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Zn{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Se;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Zn.NUM_MASK_PATTERNS}}Zn.NUM_MASK_PATTERNS=8;class lt extends E{}lt.kind="WriterException";class ve{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,n,i,s){ve.clearMatrix(s),ve.embedBasicPatterns(n,s),ve.embedTypeInfo(t,i,s),ve.maybeEmbedVersionInfo(n,s),ve.embedDataBits(e,i,s)}static embedBasicPatterns(e,t){ve.embedPositionDetectionPatternsAndSeparators(t),ve.embedDarkDotAtLeftBottomCorner(t),ve.maybeEmbedPositionAdjustmentPatterns(e,t),ve.embedTimingPatterns(t)}static embedTypeInfo(e,t,n){const i=new Q;ve.makeTypeInfoBits(e,t,i);for(let s=0,a=i.getSize();s<a;++s){const c=i.get(i.getSize()-1-s),u=ve.TYPE_INFO_COORDINATES[s],g=u[0],x=u[1];if(n.setBoolean(g,x,c),s<8){const w=n.getWidth()-s-1,b=8;n.setBoolean(w,b,c)}else{const b=n.getHeight()-7+(s-8);n.setBoolean(8,b,c)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const n=new Q;ve.makeVersionInfoBits(e,n);let i=6*3-1;for(let s=0;s<6;++s)for(let a=0;a<3;++a){const c=n.get(i);i--,t.setBoolean(s,t.getHeight()-11+a,c),t.setBoolean(t.getHeight()-11+a,s,c)}}static embedDataBits(e,t,n){let i=0,s=-1,a=n.getWidth()-1,c=n.getHeight()-1;for(;a>0;){for(a===6&&(a-=1);c>=0&&c<n.getHeight();){for(let u=0;u<2;++u){const g=a-u;if(!ve.isEmpty(n.get(g,c)))continue;let x;i<e.getSize()?(x=e.get(i),++i):x=!1,t!==255&&xt.getDataMaskBit(t,g,c)&&(x=!x),n.setBoolean(g,c,x)}c+=s}s=-s,c+=s,a-=2}if(i!==e.getSize())throw new lt("Not all bits consumed: "+i+"/"+e.getSize())}static findMSBSet(e){return 32-ae.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(t===0)throw new D("0 polynomial");const n=ve.findMSBSet(t);for(e<<=n-1;ve.findMSBSet(e)>=n;)e^=t<<ve.findMSBSet(e)-n;return e}static makeTypeInfoBits(e,t,n){if(!Zn.isValidMaskPattern(t))throw new lt("Invalid mask pattern");const i=e.getBits()<<3|t;n.appendBits(i,5);const s=ve.calculateBCHCode(i,ve.TYPE_INFO_POLY);n.appendBits(s,10);const a=new Q;if(a.appendBits(ve.TYPE_INFO_MASK_PATTERN,15),n.xor(a),n.getSize()!==15)throw new lt("should not happen but we got: "+n.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const n=ve.calculateBCHCode(e.getVersionNumber(),ve.VERSION_INFO_POLY);if(t.appendBits(n,12),t.getSize()!==18)throw new lt("should not happen but we got: "+t.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const n=(t+1)%2;ve.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),ve.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new lt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,n){for(let i=0;i<8;++i){if(!ve.isEmpty(n.get(e+i,t)))throw new lt;n.setNumber(e+i,t,0)}}static embedVerticalSeparationPattern(e,t,n){for(let i=0;i<7;++i){if(!ve.isEmpty(n.get(e,t+i)))throw new lt;n.setNumber(e,t+i,0)}}static embedPositionAdjustmentPattern(e,t,n){for(let i=0;i<5;++i){const s=ve.POSITION_ADJUSTMENT_PATTERN[i];for(let a=0;a<5;++a)n.setNumber(e+a,t+i,s[a])}}static embedPositionDetectionPattern(e,t,n){for(let i=0;i<7;++i){const s=ve.POSITION_DETECTION_PATTERN[i];for(let a=0;a<7;++a)n.setNumber(e+a,t+i,s[a])}}static embedPositionDetectionPatternsAndSeparators(e){const t=ve.POSITION_DETECTION_PATTERN[0].length;ve.embedPositionDetectionPattern(0,0,e),ve.embedPositionDetectionPattern(e.getWidth()-t,0,e),ve.embedPositionDetectionPattern(0,e.getWidth()-t,e);const n=8;ve.embedHorizontalSeparationPattern(0,n-1,e),ve.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),ve.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);const i=7;ve.embedVerticalSeparationPattern(i,0,e),ve.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),ve.embedVerticalSeparationPattern(i,e.getHeight()-i,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const n=e.getVersionNumber()-1,i=ve.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n];for(let s=0,a=i.length;s!==a;s++){const c=i[s];if(c>=0)for(let u=0;u!==a;u++){const g=i[u];g>=0&&ve.isEmpty(t.get(g,c))&&ve.embedPositionAdjustmentPattern(g-2,c-2,t)}}}}ve.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ve.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ve.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ve.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ve.VERSION_INFO_POLY=7973,ve.TYPE_INFO_POLY=1335,ve.TYPE_INFO_MASK_PATTERN=21522;class $o{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ft{constructor(){}static calculateMaskPenalty(e){return xt.applyMaskPenaltyRule1(e)+xt.applyMaskPenaltyRule2(e)+xt.applyMaskPenaltyRule3(e)+xt.applyMaskPenaltyRule4(e)}static encode(e,t,n=null){let i=ft.DEFAULT_BYTE_MODE_ENCODING;const s=n!==null&&n.get(St.CHARACTER_SET)!==void 0;s&&(i=n.get(St.CHARACTER_SET).toString());const a=this.chooseMode(e,i),c=new Q;if(a===Ie.BYTE&&(s||ft.DEFAULT_BYTE_MODE_ENCODING!==i)){const oe=j.getCharacterSetECIByName(i);oe!==void 0&&this.appendECI(oe,c)}this.appendModeInfo(a,c);const u=new Q;this.appendBytes(e,a,u,i);let g;if(n!==null&&n.get(St.QR_VERSION)!==void 0){const oe=Number.parseInt(n.get(St.QR_VERSION).toString(),10);g=ye.getVersionForNumber(oe);const re=this.calculateBitsNeeded(a,c,u,g);if(!this.willFit(re,g,t))throw new lt("Data too big for requested version")}else g=this.recommendVersion(t,a,c,u);const x=new Q;x.appendBitArray(c);const w=a===Ie.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(w,g,a,x),x.appendBitArray(u);const b=g.getECBlocksForLevel(t),S=g.getTotalCodewords()-b.getTotalECCodewords();this.terminateBits(S,x);const R=this.interleaveWithECBytes(x,g.getTotalCodewords(),S,b.getNumBlocks()),L=new Zn;L.setECLevel(t),L.setMode(a),L.setVersion(g);const P=g.getDimensionForVersion(),V=new di(P,P),ie=this.chooseMaskPattern(R,t,g,V);return L.setMaskPattern(ie),ve.buildMatrix(R,t,g,ie,V),L.setMatrix(V),L}static recommendVersion(e,t,n,i){const s=this.calculateBitsNeeded(t,n,i,ye.getVersionForNumber(1)),a=this.chooseVersion(s,e),c=this.calculateBitsNeeded(t,n,i,a);return this.chooseVersion(c,e)}static calculateBitsNeeded(e,t,n,i){return t.getSize()+e.getCharacterCountBits(i)+n.getSize()}static getAlphanumericCode(e){return e<ft.ALPHANUMERIC_TABLE.length?ft.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,t=null){if(j.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Ie.KANJI;let n=!1,i=!1;for(let s=0,a=e.length;s<a;++s){const c=e.charAt(s);if(ft.isDigit(c))n=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)i=!0;else return Ie.BYTE}return i?Ie.ALPHANUMERIC:n?Ie.NUMERIC:Ie.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=De.encode(e,j.SJIS)}catch{return!1}const n=t.length;if(n%2!==0)return!1;for(let i=0;i<n;i+=2){const s=t[i]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0}static chooseMaskPattern(e,t,n,i){let s=Number.MAX_SAFE_INTEGER,a=-1;for(let c=0;c<Zn.NUM_MASK_PATTERNS;c++){ve.buildMatrix(e,t,n,c,i);let u=this.calculateMaskPenalty(i);u<s&&(s=u,a=c)}return a}static chooseVersion(e,t){for(let n=1;n<=40;n++){const i=ye.getVersionForNumber(n);if(ft.willFit(e,i,t))return i}throw new lt("Data too big")}static willFit(e,t,n){const i=t.getTotalCodewords(),a=t.getECBlocksForLevel(n).getTotalECCodewords(),c=i-a,u=(e+7)/8;return c>=u}static terminateBits(e,t){const n=e*8;if(t.getSize()>n)throw new lt("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(let a=0;a<4&&t.getSize()<n;++a)t.appendBit(!1);const i=t.getSize()&7;if(i>0)for(let a=i;a<8;a++)t.appendBit(!1);const s=e-t.getSizeInBytes();for(let a=0;a<s;++a)t.appendBits(a&1?17:236,8);if(t.getSize()!==n)throw new lt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,n,i,s,a){if(i>=n)throw new lt("Block ID too large");const c=e%n,u=n-c,g=Math.floor(e/n),x=g+1,w=Math.floor(t/n),b=w+1,S=g-w,R=x-b;if(S!==R)throw new lt("EC bytes mismatch");if(n!==u+c)throw new lt("RS blocks mismatch");if(e!==(w+S)*u+(b+R)*c)throw new lt("Total bytes mismatch");i<u?(s[0]=w,a[0]=S):(s[0]=b,a[0]=R)}static interleaveWithECBytes(e,t,n,i){if(e.getSizeInBytes()!==n)throw new lt("Number of bits and data bytes does not match");let s=0,a=0,c=0;const u=new Array;for(let x=0;x<i;++x){const w=new Int32Array(1),b=new Int32Array(1);ft.getNumDataBytesAndNumECBytesForBlockID(t,n,i,x,w,b);const S=w[0],R=new Uint8Array(S);e.toBytes(8*s,R,0,S);const L=ft.generateECBytes(R,b[0]);u.push(new $o(R,L)),a=Math.max(a,S),c=Math.max(c,L.length),s+=w[0]}if(n!==s)throw new lt("Data bytes does not match offset");const g=new Q;for(let x=0;x<a;++x)for(const w of u){const b=w.getDataBytes();x<b.length&&g.appendBits(b[x],8)}for(let x=0;x<c;++x)for(const w of u){const b=w.getErrorCorrectionBytes();x<b.length&&g.appendBits(b[x],8)}if(t!==g.getSizeInBytes())throw new lt("Interleaving error: "+t+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(e,t){const n=e.length,i=new Int32Array(n+t);for(let a=0;a<n;a++)i[a]=e[a]&255;new Jt(M.QR_CODE_FIELD_256).encode(i,t);const s=new Uint8Array(t);for(let a=0;a<t;a++)s[a]=i[n+a];return s}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,n,i){const s=n.getCharacterCountBits(t);if(e>=1<<s)throw new lt(e+" is bigger than "+((1<<s)-1));i.appendBits(e,s)}static appendBytes(e,t,n,i){switch(t){case Ie.NUMERIC:ft.appendNumericBytes(e,n);break;case Ie.ALPHANUMERIC:ft.appendAlphanumericBytes(e,n);break;case Ie.BYTE:ft.append8BitBytes(e,n,i);break;case Ie.KANJI:ft.appendKanjiBytes(e,n);break;default:throw new lt("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=ft.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const n=e.length;let i=0;for(;i<n;){const s=ft.getDigit(e.charAt(i));if(i+2<n){const a=ft.getDigit(e.charAt(i+1)),c=ft.getDigit(e.charAt(i+2));t.appendBits(s*100+a*10+c,10),i+=3}else if(i+1<n){const a=ft.getDigit(e.charAt(i+1));t.appendBits(s*10+a,7),i+=2}else t.appendBits(s,4),i++}}static appendAlphanumericBytes(e,t){const n=e.length;let i=0;for(;i<n;){const s=ft.getAlphanumericCode(e.charCodeAt(i));if(s===-1)throw new lt;if(i+1<n){const a=ft.getAlphanumericCode(e.charCodeAt(i+1));if(a===-1)throw new lt;t.appendBits(s*45+a,11),i+=2}else t.appendBits(s,6),i++}}static append8BitBytes(e,t,n){let i;try{i=De.encode(e,n)}catch(s){throw new lt(s)}for(let s=0,a=i.length;s!==a;s++){const c=i[s];t.appendBits(c,8)}}static appendKanjiBytes(e,t){let n;try{n=De.encode(e,j.SJIS)}catch(s){throw new lt(s)}const i=n.length;for(let s=0;s<i;s+=2){const a=n[s]&255,c=n[s+1]&255,u=a<<8&4294967295|c;let g=-1;if(u>=33088&&u<=40956?g=u-33088:u>=57408&&u<=60351&&(g=u-49472),g===-1)throw new lt("Invalid byte sequence");const x=(g>>8)*192+(g&255);t.appendBits(x,13)}}static appendECI(e,t){t.appendBits(Ie.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}ft.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ft.DEFAULT_BYTE_MODE_ENCODING=j.UTF8.getName();class fr{write(e,t,n,i=null){if(e.length===0)throw new D("Found empty contents");if(t<0||n<0)throw new D("Requested dimensions are too small: "+t+"x"+n);let s=it.L,a=fr.QUIET_ZONE_SIZE;i!==null&&(i.get(St.ERROR_CORRECTION)!==void 0&&(s=it.fromString(i.get(St.ERROR_CORRECTION).toString())),i.get(St.MARGIN)!==void 0&&(a=Number.parseInt(i.get(St.MARGIN).toString(),10)));const c=ft.encode(e,s,i);return this.renderResult(c,t,n,a)}writeToDom(e,t,n,i,s=null){typeof e=="string"&&(e=document.querySelector(e));const a=this.write(t,n,i,s);e&&e.appendChild(a)}renderResult(e,t,n,i){const s=e.getMatrix();if(s===null)throw new Y;const a=s.getWidth(),c=s.getHeight(),u=a+i*2,g=c+i*2,x=Math.max(t,u),w=Math.max(n,g),b=Math.min(Math.floor(x/u),Math.floor(w/g)),S=Math.floor((x-a*b)/2),R=Math.floor((w-c*b)/2),L=this.createSVGElement(x,w);for(let P=0,V=R;P<c;P++,V+=b)for(let ie=0,oe=S;ie<a;ie++,oe+=b)if(s.get(ie,P)===1){const re=this.createSvgRectElement(oe,V,b,b);L.appendChild(re)}return L}createSVGElement(e,t){const n=document.createElementNS(fr.SVG_NS,"svg");return n.setAttributeNS(null,"height",e.toString()),n.setAttributeNS(null,"width",t.toString()),n}createSvgRectElement(e,t,n,i){const s=document.createElementNS(fr.SVG_NS,"rect");return s.setAttributeNS(null,"x",e.toString()),s.setAttributeNS(null,"y",t.toString()),s.setAttributeNS(null,"height",n.toString()),s.setAttributeNS(null,"width",i.toString()),s.setAttributeNS(null,"fill","#000000"),s}}fr.QUIET_ZONE_SIZE=4,fr.SVG_NS="http://www.w3.org/2000/svg";class Wr{encode(e,t,n,i,s){if(e.length===0)throw new D("Found empty contents");if(t!==ge.QR_CODE)throw new D("Can only encode QR_CODE, but got "+t);if(n<0||i<0)throw new D(`Requested dimensions are too small: ${n}x${i}`);let a=it.L,c=Wr.QUIET_ZONE_SIZE;s!==null&&(s.get(St.ERROR_CORRECTION)!==void 0&&(a=it.fromString(s.get(St.ERROR_CORRECTION).toString())),s.get(St.MARGIN)!==void 0&&(c=Number.parseInt(s.get(St.MARGIN).toString(),10)));const u=ft.encode(e,a,s);return Wr.renderResult(u,n,i,c)}static renderResult(e,t,n,i){const s=e.getMatrix();if(s===null)throw new Y;const a=s.getWidth(),c=s.getHeight(),u=a+i*2,g=c+i*2,x=Math.max(t,u),w=Math.max(n,g),b=Math.min(Math.floor(x/u),Math.floor(w/g)),S=Math.floor((x-a*b)/2),R=Math.floor((w-c*b)/2),L=new rt(x,w);for(let P=0,V=R;P<c;P++,V+=b)for(let ie=0,oe=S;ie<a;ie++,oe+=b)s.get(ie,P)===1&&L.setRegion(oe,V,b,b);return L}}Wr.QUIET_ZONE_SIZE=4;class gi{encode(e,t,n,i,s){let a;switch(t){case ge.QR_CODE:a=new Wr;break;default:throw new D("No encoder available for format "+t)}return a.encode(e,t,n,i,s)}}class Nn extends Ge{constructor(e,t,n,i,s,a,c,u){if(super(a,c),this.yuvData=e,this.dataWidth=t,this.dataHeight=n,this.left=i,this.top=s,i+a>t||s+c>n)throw new D("Crop rectangle does not fit within image data.");u&&this.reverseHorizontal(a,c)}getRow(e,t){if(e<0||e>=this.getHeight())throw new D("Requested row is outside the image: "+e);const n=this.getWidth();(t==null||t.length<n)&&(t=new Uint8ClampedArray(n));const i=(e+this.top)*this.dataWidth+this.left;return J.arraycopy(this.yuvData,i,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const n=e*t,i=new Uint8ClampedArray(n);let s=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return J.arraycopy(this.yuvData,s,i,0,n),i;for(let a=0;a<t;a++){const c=a*e;J.arraycopy(this.yuvData,s,i,c,e),s+=this.dataWidth}return i}isCropSupported(){return!0}crop(e,t,n,i){return new Nn(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,n,i,!1)}renderThumbnail(){const e=this.getWidth()/Nn.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/Nn.THUMBNAIL_SCALE_FACTOR,n=new Int32Array(e*t),i=this.yuvData;let s=this.top*this.dataWidth+this.left;for(let a=0;a<t;a++){const c=a*e;for(let u=0;u<e;u++){const g=i[s+u*Nn.THUMBNAIL_SCALE_FACTOR]&255;n[c+u]=4278190080|g*65793}s+=this.dataWidth*Nn.THUMBNAIL_SCALE_FACTOR}return n}getThumbnailWidth(){return this.getWidth()/Nn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Nn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const n=this.yuvData;for(let i=0,s=this.top*this.dataWidth+this.left;i<t;i++,s+=this.dataWidth){const a=s+e/2;for(let c=s,u=s+e-1;c<a;c++,u--){const g=n[c];n[c]=n[u],n[u]=g}}}invert(){return new ht(this)}}Nn.THUMBNAIL_SCALE_FACTOR=2;class qi extends Ge{constructor(e,t,n,i,s,a,c){if(super(t,n),this.dataWidth=i,this.dataHeight=s,this.left=a,this.top=c,e.BYTES_PER_ELEMENT===4){const u=t*n,g=new Uint8ClampedArray(u);for(let x=0;x<u;x++){const w=e[x],b=w>>16&255,S=w>>7&510,R=w&255;g[x]=(b+S+R)/4&255}this.luminances=g}else this.luminances=e;if(i===void 0&&(this.dataWidth=t),s===void 0&&(this.dataHeight=n),a===void 0&&(this.left=0),c===void 0&&(this.top=0),this.left+t>this.dataWidth||this.top+n>this.dataHeight)throw new D("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new D("Requested row is outside the image: "+e);const n=this.getWidth();(t==null||t.length<n)&&(t=new Uint8ClampedArray(n));const i=(e+this.top)*this.dataWidth+this.left;return J.arraycopy(this.luminances,i,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const n=e*t,i=new Uint8ClampedArray(n);let s=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return J.arraycopy(this.luminances,s,i,0,n),i;for(let a=0;a<t;a++){const c=a*e;J.arraycopy(this.luminances,s,i,c,e),s+=this.dataWidth}return i}isCropSupported(){return!0}crop(e,t,n,i){return new qi(this.luminances,n,i,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new ht(this)}}class Ls extends j{static forName(e){return this.getCharacterSetECIByName(e)}}class Qi{}Qi.ISO_8859_1=j.ISO8859_1;class Ji{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Bs{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class qo{constructor(e){this.previous=e}getPrevious(){return this.previous}}class hr extends qo{constructor(e,t,n){super(e),this.value=t,this.bitCount=n}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new hr(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new hr(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+ae.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class pi extends hr{constructor(e,t,n){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=n}appendTo(e,t){for(let n=0;n<this.binaryShiftByteCount;n++)(n===0||n===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):n===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+n],8)}addBinaryShift(e,t){return new pi(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ps(_,e,t){return new pi(_,e,t)}function $n(_,e,t){return new hr(_,e,t)}const Fs=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],On=0,xi=1,mn=2,en=3,vn=4,Qo=new hr(null,0,0),es=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function Jo(_){for(let e of _)he.fill(e,-1);return _[On][vn]=0,_[xi][vn]=0,_[xi][On]=28,_[en][vn]=0,_[mn][vn]=0,_[mn][On]=15,_}const ts=Jo(he.createInt32Array(6,6));class En{constructor(e,t,n,i){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=i}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let n=this.bitCount,i=this.token;if(e!==this.mode){let a=es[this.mode][e];i=$n(i,a&65535,a>>16),n+=a>>16}let s=e===mn?4:5;return i=$n(i,t,s),new En(i,e,0,n+s)}shiftAndAppend(e,t){let n=this.token,i=this.mode===mn?4:5;return n=$n(n,ts[this.mode][e],i),n=$n(n,t,5),new En(n,this.mode,0,this.bitCount+i+5)}addBinaryShiftChar(e){let t=this.token,n=this.mode,i=this.bitCount;if(this.mode===vn||this.mode===mn){let c=es[n][On];t=$n(t,c&65535,c>>16),i+=c>>16,n=On}let s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,a=new En(t,n,this.binaryShiftByteCount+1,i+s);return a.binaryShiftByteCount===2047+31&&(a=a.endBinaryShift(e+1)),a}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let t=this.token;return t=Ps(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new En(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(es[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=En.calculateBinaryShiftCost(e)-En.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let i=this.endBinaryShift(e.length).token;i!==null;i=i.getPrevious())t.unshift(i);let n=new Q;for(const i of t)i.appendTo(n,e);return n}toString(){return _e.format("%s bits=%d bytes=%d",Fs[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}En.INITIAL_STATE=new En(Qo,On,0,0);function ea(_){const e=_e.getCharCode(" "),t=_e.getCharCode("."),n=_e.getCharCode(",");_[On][e]=1;const i=_e.getCharCode("Z"),s=_e.getCharCode("A");for(let b=s;b<=i;b++)_[On][b]=b-s+2;_[xi][e]=1;const a=_e.getCharCode("z"),c=_e.getCharCode("a");for(let b=c;b<=a;b++)_[xi][b]=b-c+2;_[mn][e]=1;const u=_e.getCharCode("9"),g=_e.getCharCode("0");for(let b=g;b<=u;b++)_[mn][b]=b-g+2;_[mn][n]=12,_[mn][t]=13;const x=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let b=0;b<x.length;b++)_[en][_e.getCharCode(x[b])]=b;const w=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let b=0;b<w.length;b++)_e.getCharCode(w[b])>0&&(_[vn][_e.getCharCode(w[b])]=b);return _}const ns=ea(he.createInt32Array(5,256));class Gr{constructor(e){this.text=e}encode(){const e=_e.getCharCode(" "),t=_e.getCharCode(`
`);let n=Bs.singletonList(En.INITIAL_STATE);for(let s=0;s<this.text.length;s++){let a,c=s+1<this.text.length?this.text[s+1]:0;switch(this.text[s]){case _e.getCharCode("\r"):a=c===t?2:0;break;case _e.getCharCode("."):a=c===e?3:0;break;case _e.getCharCode(","):a=c===e?4:0;break;case _e.getCharCode(":"):a=c===e?5:0;break;default:a=0}a>0?(n=Gr.updateStateListForPair(n,s,a),s++):n=this.updateStateListForChar(n,s)}return Bs.min(n,(s,a)=>s.getBitCount()-a.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,t){const n=[];for(let i of e)this.updateStateForChar(i,t,n);return Gr.simplifyStates(n)}updateStateForChar(e,t,n){let i=this.text[t]&255,s=ns[e.getMode()][i]>0,a=null;for(let c=0;c<=vn;c++){let u=ns[c][i];if(u>0){if(a==null&&(a=e.endBinaryShift(t)),!s||c===e.getMode()||c===mn){const g=a.latchAndAppend(c,u);n.push(g)}if(!s&&ts[e.getMode()][c]>=0){const g=a.shiftAndAppend(c,u);n.push(g)}}}if(e.getBinaryShiftByteCount()>0||ns[e.getMode()][i]===0){let c=e.addBinaryShiftChar(t);n.push(c)}}static updateStateListForPair(e,t,n){const i=[];for(let s of e)this.updateStateForPair(s,t,n,i);return this.simplifyStates(i)}static updateStateForPair(e,t,n,i){let s=e.endBinaryShift(t);if(i.push(s.latchAndAppend(vn,n)),e.getMode()!==vn&&i.push(s.shiftAndAppend(vn,n)),n===3||n===4){let a=s.latchAndAppend(mn,16-n).latchAndAppend(mn,1);i.push(a)}if(e.getBinaryShiftByteCount()>0){let a=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(a)}}static simplifyStates(e){let t=[];for(const n of e){let i=!0;for(const s of t){if(s.isBetterThanOrEqualTo(n)){i=!1;break}n.isBetterThanOrEqualTo(s)&&(t=t.filter(a=>a!==s))}i&&t.push(n)}return t}}class $e{constructor(){}static encodeBytes(e){return $e.encode(e,$e.DEFAULT_EC_PERCENT,$e.DEFAULT_AZTEC_LAYERS)}static encode(e,t,n){let i=new Gr(e).encode(),s=ae.truncDivision(i.getSize()*t,100)+11,a=i.getSize()+s,c,u,g,x,w;if(n!==$e.DEFAULT_AZTEC_LAYERS){if(c=n<0,u=Math.abs(n),u>(c?$e.MAX_NB_BITS_COMPACT:$e.MAX_NB_BITS))throw new D(_e.format("Illegal value %s for layers",n));g=$e.totalBitsInLayer(u,c),x=$e.WORD_SIZE[u];let re=g-g%x;if(w=$e.stuffBits(i,x),w.getSize()+s>re)throw new D("Data to large for user specified layer");if(c&&w.getSize()>x*64)throw new D("Data to large for user specified layer")}else{x=0,w=null;for(let re=0;;re++){if(re>$e.MAX_NB_BITS)throw new D("Data too large for an Aztec code");if(c=re<=3,u=c?re+1:re,g=$e.totalBitsInLayer(u,c),a>g)continue;(w==null||x!==$e.WORD_SIZE[u])&&(x=$e.WORD_SIZE[u],w=$e.stuffBits(i,x));let je=g-g%x;if(!(c&&w.getSize()>x*64)&&w.getSize()+s<=je)break}}let b=$e.generateCheckWords(w,g,x),S=w.getSize()/x,R=$e.generateModeMessage(c,u,S),L=(c?11:14)+u*4,P=new Int32Array(L),V;if(c){V=L;for(let re=0;re<P.length;re++)P[re]=re}else{V=L+1+2*ae.truncDivision(ae.truncDivision(L,2)-1,15);let re=ae.truncDivision(L,2),je=ae.truncDivision(V,2);for(let Fe=0;Fe<re;Fe++){let Kt=Fe+ae.truncDivision(Fe,15);P[re-Fe-1]=je-Kt-1,P[re+Fe]=je+Kt+1}}let ie=new rt(V);for(let re=0,je=0;re<u;re++){let Fe=(u-re)*4+(c?9:12);for(let Kt=0;Kt<Fe;Kt++){let wn=Kt*2;for(let Zt=0;Zt<2;Zt++)b.get(je+wn+Zt)&&ie.set(P[re*2+Zt],P[re*2+Kt]),b.get(je+Fe*2+wn+Zt)&&ie.set(P[re*2+Kt],P[L-1-re*2-Zt]),b.get(je+Fe*4+wn+Zt)&&ie.set(P[L-1-re*2-Zt],P[L-1-re*2-Kt]),b.get(je+Fe*6+wn+Zt)&&ie.set(P[L-1-re*2-Kt],P[re*2+Zt])}je+=Fe*8}if($e.drawModeMessage(ie,c,V,R),c)$e.drawBullsEye(ie,ae.truncDivision(V,2),5);else{$e.drawBullsEye(ie,ae.truncDivision(V,2),7);for(let re=0,je=0;re<ae.truncDivision(L,2)-1;re+=15,je+=16)for(let Fe=ae.truncDivision(V,2)&1;Fe<V;Fe+=2)ie.set(ae.truncDivision(V,2)-je,Fe),ie.set(ae.truncDivision(V,2)+je,Fe),ie.set(Fe,ae.truncDivision(V,2)-je),ie.set(Fe,ae.truncDivision(V,2)+je)}let oe=new Ji;return oe.setCompact(c),oe.setSize(V),oe.setLayers(u),oe.setCodeWords(S),oe.setMatrix(ie),oe}static drawBullsEye(e,t,n){for(let i=0;i<n;i+=2)for(let s=t-i;s<=t+i;s++)e.set(s,t-i),e.set(s,t+i),e.set(t-i,s),e.set(t+i,s);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)}static generateModeMessage(e,t,n){let i=new Q;return e?(i.appendBits(t-1,2),i.appendBits(n-1,6),i=$e.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(n-1,11),i=$e.generateCheckWords(i,40,4)),i}static drawModeMessage(e,t,n,i){let s=ae.truncDivision(n,2);if(t)for(let a=0;a<7;a++){let c=s-3+a;i.get(a)&&e.set(c,s-5),i.get(a+7)&&e.set(s+5,c),i.get(20-a)&&e.set(c,s+5),i.get(27-a)&&e.set(s-5,c)}else for(let a=0;a<10;a++){let c=s-5+a+ae.truncDivision(a,5);i.get(a)&&e.set(c,s-7),i.get(a+10)&&e.set(s+7,c),i.get(29-a)&&e.set(c,s+7),i.get(39-a)&&e.set(s-7,c)}}static generateCheckWords(e,t,n){let i=e.getSize()/n,s=new Jt($e.getGF(n)),a=ae.truncDivision(t,n),c=$e.bitsToWords(e,n,a);s.encode(c,a-i);let u=t%n,g=new Q;g.appendBits(0,u);for(const x of Array.from(c))g.appendBits(x,n);return g}static bitsToWords(e,t,n){let i=new Int32Array(n),s,a;for(s=0,a=e.getSize()/t;s<a;s++){let c=0;for(let u=0;u<t;u++)c|=e.get(s*t+u)?1<<t-u-1:0;i[s]=c}return i}static getGF(e){switch(e){case 4:return M.AZTEC_PARAM;case 6:return M.AZTEC_DATA_6;case 8:return M.AZTEC_DATA_8;case 10:return M.AZTEC_DATA_10;case 12:return M.AZTEC_DATA_12;default:throw new D("Unsupported word size "+e)}}static stuffBits(e,t){let n=new Q,i=e.getSize(),s=(1<<t)-2;for(let a=0;a<i;a+=t){let c=0;for(let u=0;u<t;u++)(a+u>=i||e.get(a+u))&&(c|=1<<t-1-u);(c&s)===s?(n.appendBits(c&s,t),a--):c&s?n.appendBits(c,t):(n.appendBits(c|1,t),a--)}return n}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}$e.DEFAULT_EC_PERCENT=33,$e.DEFAULT_AZTEC_LAYERS=0,$e.MAX_NB_BITS=32,$e.MAX_NB_BITS_COMPACT=4,$e.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class mi{encode(e,t,n,i){return this.encodeWithHints(e,t,n,i,null)}encodeWithHints(e,t,n,i,s){let a=Qi.ISO_8859_1,c=$e.DEFAULT_EC_PERCENT,u=$e.DEFAULT_AZTEC_LAYERS;return s!=null&&(s.has(St.CHARACTER_SET)&&(a=Ls.forName(s.get(St.CHARACTER_SET).toString())),s.has(St.ERROR_CORRECTION)&&(c=ae.parseInt(s.get(St.ERROR_CORRECTION).toString())),s.has(St.AZTEC_LAYERS)&&(u=ae.parseInt(s.get(St.AZTEC_LAYERS).toString()))),mi.encodeLayers(e,t,n,i,a,c,u)}static encodeLayers(e,t,n,i,s,a,c){if(t!==ge.AZTEC)throw new D("Can only encode AZTEC, but got "+t);let u=$e.encode(_e.getBytes(e,s),a,c);return mi.renderResult(u,n,i)}static renderResult(e,t,n){let i=e.getMatrix();if(i==null)throw new Y;let s=i.getWidth(),a=i.getHeight(),c=Math.max(t,s),u=Math.max(n,a),g=Math.min(c/s,u/a),x=(c-s*g)/2,w=(u-a*g)/2,b=new rt(c,u);for(let S=0,R=w;S<a;S++,R+=g)for(let L=0,P=x;L<s;L++,P+=g)i.get(L,S)&&b.setRegion(P,R,g,g);return b}}l.AbstractExpandedDecoder=or,l.ArgumentException=I,l.ArithmeticException=v,l.AztecCode=Ji,l.AztecCodeReader=yn,l.AztecCodeWriter=mi,l.AztecDecoder=ee,l.AztecDetector=zt,l.AztecDetectorResult=me,l.AztecEncoder=$e,l.AztecHighLevelEncoder=Gr,l.AztecPoint=Ve,l.BarcodeFormat=ge,l.Binarizer=Ae,l.BinaryBitmap=$,l.BitArray=Q,l.BitMatrix=rt,l.BitSource=Xi,l.BrowserAztecCodeReader=oi,l.BrowserBarcodeReader=ko,l.BrowserCodeReader=Ht,l.BrowserDatamatrixCodeReader=Vo,l.BrowserMultiFormatReader=zo,l.BrowserPDF417Reader=Ko,l.BrowserQRCodeReader=Zo,l.BrowserQRCodeSvgWriter=fr,l.CharacterSetECI=j,l.ChecksumException=z,l.Code128Reader=ce,l.Code39Reader=Ke,l.DataMatrixDecodedBitStreamParser=jn,l.DataMatrixReader=Qt,l.DecodeHintType=we,l.DecoderResult=Bt,l.DefaultGridSampler=qe,l.DetectorResult=Ce,l.EAN13Reader=ir,l.EncodeHintType=St,l.Exception=E,l.FormatException=q,l.GenericGF=M,l.GenericGFPoly=X,l.GlobalHistogramBinarizer=Me,l.GridSampler=Ne,l.GridSamplerInstance=Ue,l.HTMLCanvasElementLuminanceSource=Nt,l.HybridBinarizer=fe,l.ITFReader=Xe,l.IllegalArgumentException=D,l.IllegalStateException=Y,l.InvertedLuminanceSource=ht,l.LuminanceSource=Ge,l.MathUtils=G,l.MultiFormatOneDReader=br,l.MultiFormatReader=Ms,l.MultiFormatWriter=gi,l.NotFoundException=H,l.OneDReader=ut,l.PDF417DecodedBitStreamParser=k,l.PDF417DecoderErrorCorrection=Ki,l.PDF417Reader=Mt,l.PDF417ResultMetadata=vs,l.PerspectiveTransform=Oe,l.PlanarYUVLuminanceSource=Nn,l.QRCodeByteMatrix=di,l.QRCodeDataMask=cn,l.QRCodeDecodedBitStreamParser=pt,l.QRCodeDecoderErrorCorrectionLevel=it,l.QRCodeDecoderFormatInformation=Ft,l.QRCodeEncoder=ft,l.QRCodeEncoderQRCode=Zn,l.QRCodeMaskUtil=xt,l.QRCodeMatrixUtil=ve,l.QRCodeMode=Ie,l.QRCodeReader=Bn,l.QRCodeVersion=ye,l.QRCodeWriter=Wr,l.RGBLuminanceSource=qi,l.RSS14Reader=_t,l.RSSExpandedReader=te,l.ReaderException=hi,l.ReedSolomonDecoder=Z,l.ReedSolomonEncoder=Jt,l.ReedSolomonException=W,l.Result=dt,l.ResultMetadataType=Je,l.ResultPoint=B,l.StringUtils=_e,l.UnsupportedOperationException=Pe,l.VideoInputDevice=Vt,l.WhiteRectangleDetector=pe,l.WriterException=lt,l.ZXingArrays=he,l.ZXingCharset=Ls,l.ZXingInteger=ae,l.ZXingStandardCharsets=Qi,l.ZXingStringBuilder=Se,l.ZXingStringEncoding=De,l.ZXingSystem=J,l.createAbstractExpandedDecoder=Ss,Object.defineProperty(l,"__esModule",{value:!0})})})(Ra,Ra.exports);var mt=Ra.exports;const _d=Ed(mt),Ad=gf({__proto__:null,default:_d},[mt]);var uc=function(){function r(o,l,f){if(this.formatMap=new Map([[Ee.QR_CODE,mt.BarcodeFormat.QR_CODE],[Ee.AZTEC,mt.BarcodeFormat.AZTEC],[Ee.CODABAR,mt.BarcodeFormat.CODABAR],[Ee.CODE_39,mt.BarcodeFormat.CODE_39],[Ee.CODE_93,mt.BarcodeFormat.CODE_93],[Ee.CODE_128,mt.BarcodeFormat.CODE_128],[Ee.DATA_MATRIX,mt.BarcodeFormat.DATA_MATRIX],[Ee.MAXICODE,mt.BarcodeFormat.MAXICODE],[Ee.ITF,mt.BarcodeFormat.ITF],[Ee.EAN_13,mt.BarcodeFormat.EAN_13],[Ee.EAN_8,mt.BarcodeFormat.EAN_8],[Ee.PDF_417,mt.BarcodeFormat.PDF_417],[Ee.RSS_14,mt.BarcodeFormat.RSS_14],[Ee.RSS_EXPANDED,mt.BarcodeFormat.RSS_EXPANDED],[Ee.UPC_A,mt.BarcodeFormat.UPC_A],[Ee.UPC_E,mt.BarcodeFormat.UPC_E],[Ee.UPC_EAN_EXTENSION,mt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Ad)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=l,this.logger=f;var d=this.createZXingFormats(o),h=new Map;h.set(mt.DecodeHintType.POSSIBLE_FORMATS,d),h.set(mt.DecodeHintType.TRY_HARDER,!1),this.hints=h}return r.prototype.decodeAsync=function(o){var l=this;return new Promise(function(f,d){try{f(l.decode(o))}catch(h){d(h)}})},r.prototype.decode=function(o){var l=new mt.MultiFormatReader(this.verbose,this.hints),f=new mt.HTMLCanvasElementLuminanceSource(o),d=new mt.BinaryBitmap(new mt.HybridBinarizer(f)),h=l.decode(d);return{text:h.text,format:m1.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}},r.prototype.createReverseFormatMap=function(){var o=new Map;return this.formatMap.forEach(function(l,f,d){o.set(l,f)}),o},r.prototype.toHtml5QrcodeSupportedFormats=function(o){if(!this.reverseFormatMap.has(o))throw"reverseFormatMap doesn't have ".concat(o);return this.reverseFormatMap.get(o)},r.prototype.createZXingFormats=function(o){for(var l=[],f=0,d=o;f<d.length;f++){var h=d[f];this.formatMap.has(h)?l.push(this.formatMap.get(h)):this.logger.logError("".concat(h," is not supported by")+"ZXingHtml5QrcodeShim")}return l},r.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},r}(),Cd=globalThis&&globalThis.__awaiter||function(r,o,l,f){function d(h){return h instanceof l?h:new l(function(m){m(h)})}return new(l||(l=Promise))(function(h,m){function C(I){try{E(f.next(I))}catch(D){m(D)}}function y(I){try{E(f.throw(I))}catch(D){m(D)}}function E(I){I.done?h(I.value):d(I.value).then(C,y)}E((f=f.apply(r,o||[])).next())})},bd=globalThis&&globalThis.__generator||function(r,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},f,d,h,m;return m={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function C(E){return function(I){return y([E,I])}}function y(E){if(f)throw new TypeError("Generator is already executing.");for(;m&&(m=0,E[0]&&(l=0)),l;)try{if(f=1,d&&(h=E[0]&2?d.return:E[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,E[1])).done)return h;switch(d=0,h&&(E=[E[0]&2,h.value]),E[0]){case 0:case 1:h=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,d=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!h||E[1]>h[0]&&E[1]<h[3])){l.label=E[1];break}if(E[0]===6&&l.label<h[1]){l.label=h[1],h=E;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(E);break}h[2]&&l.ops.pop(),l.trys.pop();continue}E=o.call(r,l)}catch(I){E=[6,I],d=0}finally{f=h=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},fc=function(){function r(o,l,f){if(this.formatMap=new Map([[Ee.QR_CODE,"qr_code"],[Ee.AZTEC,"aztec"],[Ee.CODABAR,"codabar"],[Ee.CODE_39,"code_39"],[Ee.CODE_93,"code_93"],[Ee.CODE_128,"code_128"],[Ee.DATA_MATRIX,"data_matrix"],[Ee.ITF,"itf"],[Ee.EAN_13,"ean_13"],[Ee.EAN_8,"ean_8"],[Ee.PDF_417,"pdf417"],[Ee.UPC_A,"upc_a"],[Ee.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!r.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=l,this.logger=f;var d=this.createBarcodeDetectorFormats(o);if(this.detector=new BarcodeDetector(d),!this.detector)throw"BarcodeDetector detector not supported"}return r.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var o=new BarcodeDetector({formats:["qr_code"]});return typeof o<"u"},r.prototype.decodeAsync=function(o){return Cd(this,void 0,void 0,function(){var l,f;return bd(this,function(d){switch(d.label){case 0:return[4,this.detector.detect(o)];case 1:if(l=d.sent(),!l||l.length===0)throw"No barcode or QR code detected.";return f=this.selectLargestBarcode(l),[2,{text:f.rawValue,format:m1.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}]}})})},r.prototype.selectLargestBarcode=function(o){for(var l=null,f=0,d=0,h=o;d<h.length;d++){var m=h[d],C=m.boundingBox.width*m.boundingBox.height;C>f&&(f=C,l=m)}if(!l)throw"No largest barcode found";return l},r.prototype.createBarcodeDetectorFormats=function(o){for(var l=[],f=0,d=o;f<d.length;f++){var h=d[f];this.formatMap.has(h)?l.push(this.formatMap.get(h)):this.logger.warn("".concat(h," is not supported by")+"BarcodeDetectorDelegate")}return{formats:l}},r.prototype.toHtml5QrcodeSupportedFormats=function(o){if(!this.reverseFormatMap.has(o))throw"reverseFormatMap doesn't have ".concat(o);return this.reverseFormatMap.get(o)},r.prototype.createReverseFormatMap=function(){var o=new Map;return this.formatMap.forEach(function(l,f,d){o.set(l,f)}),o},r.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},r}(),hc=globalThis&&globalThis.__awaiter||function(r,o,l,f){function d(h){return h instanceof l?h:new l(function(m){m(h)})}return new(l||(l=Promise))(function(h,m){function C(I){try{E(f.next(I))}catch(D){m(D)}}function y(I){try{E(f.throw(I))}catch(D){m(D)}}function E(I){I.done?h(I.value):d(I.value).then(C,y)}E((f=f.apply(r,o||[])).next())})},dc=globalThis&&globalThis.__generator||function(r,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},f,d,h,m;return m={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function C(E){return function(I){return y([E,I])}}function y(E){if(f)throw new TypeError("Generator is already executing.");for(;m&&(m=0,E[0]&&(l=0)),l;)try{if(f=1,d&&(h=E[0]&2?d.return:E[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,E[1])).done)return h;switch(d=0,h&&(E=[E[0]&2,h.value]),E[0]){case 0:case 1:h=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,d=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!h||E[1]>h[0]&&E[1]<h[3])){l.label=E[1];break}if(E[0]===6&&l.label<h[1]){l.label=h[1],h=E;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(E);break}h[2]&&l.ops.pop(),l.trys.pop();continue}E=o.call(r,l)}catch(I){E=[6,I],d=0}finally{f=h=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},yd=function(){function r(o,l,f,d){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=f,l&&fc.isSupported()?(this.primaryDecoder=new fc(o,f,d),this.secondaryDecoder=new uc(o,f,d)):this.primaryDecoder=new uc(o,f,d)}return r.prototype.decodeAsync=function(o){return hc(this,void 0,void 0,function(){var l;return dc(this,function(f){switch(f.label){case 0:l=performance.now(),f.label=1;case 1:return f.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(o)];case 2:return[2,f.sent()];case 3:return this.possiblyLogPerformance(l),[7];case 4:return[2]}})})},r.prototype.decodeRobustlyAsync=function(o){return hc(this,void 0,void 0,function(){var l,f;return dc(this,function(d){switch(d.label){case 0:l=performance.now(),d.label=1;case 1:return d.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(o)];case 2:return[2,d.sent()];case 3:if(f=d.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(o)];throw f;case 4:return this.possiblyLogPerformance(l),[7];case 5:return[2]}})})},r.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},r.prototype.possiblyLogPerformance=function(o){if(this.verbose){var l=performance.now()-o;this.executionResults.push(l),this.executions++,this.possiblyFlushPerformanceReport()}},r.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var o=0,l=0,f=this.executionResults;l<f.length;l++){var d=f[l];o+=d}var h=o/this.executionResults.length;console.log("".concat(h," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},r}(),rl=globalThis&&globalThis.__extends||function(){var r=function(o,l){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(f[h]=d[h])},r(o,l)};return function(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");r(o,l);function f(){this.constructor=o}o.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}(),xo=globalThis&&globalThis.__awaiter||function(r,o,l,f){function d(h){return h instanceof l?h:new l(function(m){m(h)})}return new(l||(l=Promise))(function(h,m){function C(I){try{E(f.next(I))}catch(D){m(D)}}function y(I){try{E(f.throw(I))}catch(D){m(D)}}function E(I){I.done?h(I.value):d(I.value).then(C,y)}E((f=f.apply(r,o||[])).next())})},mo=globalThis&&globalThis.__generator||function(r,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},f,d,h,m;return m={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function C(E){return function(I){return y([E,I])}}function y(E){if(f)throw new TypeError("Generator is already executing.");for(;m&&(m=0,E[0]&&(l=0)),l;)try{if(f=1,d&&(h=E[0]&2?d.return:E[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,E[1])).done)return h;switch(d=0,h&&(E=[E[0]&2,h.value]),E[0]){case 0:case 1:h=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,d=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!h||E[1]>h[0]&&E[1]<h[3])){l.label=E[1];break}if(E[0]===6&&l.label<h[1]){l.label=h[1],h=E;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(E);break}h[2]&&l.ops.pop(),l.trys.pop();continue}E=o.call(r,l)}catch(I){E=[6,I],d=0}finally{f=h=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},w1=function(){function r(o,l){this.name=o,this.track=l}return r.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},r.prototype.apply=function(o){var l={};l[this.name]=o;var f={advanced:[l]};return this.track.applyConstraints(f)},r.prototype.value=function(){var o=this.track.getSettings();if(this.name in o){var l=o[this.name];return l}return null},r}(),Td=function(r){rl(o,r);function o(l,f){return r.call(this,l,f)||this}return o.prototype.min=function(){return this.getCapabilities().min},o.prototype.max=function(){return this.getCapabilities().max},o.prototype.step=function(){return this.getCapabilities().step},o.prototype.apply=function(l){var f={};f[this.name]=l;var d={advanced:[f]};return this.track.applyConstraints(d)},o.prototype.getCapabilities=function(){this.failIfNotSupported();var l=this.track.getCapabilities(),f=l[this.name];return{min:f.min,max:f.max,step:f.step}},o.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},o}(w1),Id=function(r){rl(o,r);function o(l){return r.call(this,"zoom",l)||this}return o}(Td),Sd=function(r){rl(o,r);function o(l){return r.call(this,"torch",l)||this}return o}(w1),Nd=function(){function r(o){this.track=o}return r.prototype.zoomFeature=function(){return new Id(this.track)},r.prototype.torchFeature=function(){return new Sd(this.track)},r}(),Od=function(){function r(o,l,f){this.isClosed=!1,this.parentElement=o,this.mediaStream=l,this.callbacks=f,this.surface=this.createVideoElement(this.parentElement.clientWidth),o.append(this.surface)}return r.prototype.createVideoElement=function(o){var l=document.createElement("video");return l.style.width="".concat(o,"px"),l.style.display="block",l.muted=!0,l.setAttribute("muted","true"),l.playsInline=!0,l},r.prototype.setupSurface=function(){var o=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var l=function(){var f=o.surface.clientWidth,d=o.surface.clientHeight;o.callbacks.onRenderSurfaceReady(f,d),o.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.srcObject=this.mediaStream,this.surface.play()},r.create=function(o,l,f,d){return xo(this,void 0,void 0,function(){var h,m;return mo(this,function(C){switch(C.label){case 0:return h=new r(o,l,d),f.aspectRatio?(m={aspectRatio:f.aspectRatio},[4,h.getFirstTrackOrFail().applyConstraints(m)]):[3,2];case 1:C.sent(),C.label=2;case 2:return h.setupSurface(),[2,h]}})})},r.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},r.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},r.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},r.prototype.resume=function(o){this.failIfClosed();var l=this,f=function(){setTimeout(o,200),l.surface.removeEventListener("playing",f)};this.surface.addEventListener("playing",f),this.surface.play()},r.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},r.prototype.getSurface=function(){return this.failIfClosed(),this.surface},r.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},r.prototype.applyVideoConstraints=function(o){return xo(this,void 0,void 0,function(){return mo(this,function(l){if("aspectRatio"in o)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(o)]})})},r.prototype.close=function(){if(this.isClosed)return Promise.resolve();var o=this;return new Promise(function(l,f){var d=o.mediaStream.getVideoTracks(),h=d.length,m=0;o.mediaStream.getVideoTracks().forEach(function(C){o.mediaStream.removeTrack(C),C.stop(),++m,m>=h&&(o.isClosed=!0,o.parentElement.removeChild(o.surface),l())})})},r.prototype.getCapabilities=function(){return new Nd(this.getFirstTrackOrFail())},r}(),vd=function(){function r(o){this.mediaStream=o}return r.prototype.render=function(o,l,f){return xo(this,void 0,void 0,function(){return mo(this,function(d){return[2,Od.create(o,this.mediaStream,l,f)]})})},r.create=function(o){return xo(this,void 0,void 0,function(){var l,f;return mo(this,function(d){switch(d.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return l={audio:!1,video:o},[4,navigator.mediaDevices.getUserMedia(l)];case 1:return f=d.sent(),[2,new r(f)]}})})},r}(),gc=globalThis&&globalThis.__awaiter||function(r,o,l,f){function d(h){return h instanceof l?h:new l(function(m){m(h)})}return new(l||(l=Promise))(function(h,m){function C(I){try{E(f.next(I))}catch(D){m(D)}}function y(I){try{E(f.throw(I))}catch(D){m(D)}}function E(I){I.done?h(I.value):d(I.value).then(C,y)}E((f=f.apply(r,o||[])).next())})},pc=globalThis&&globalThis.__generator||function(r,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},f,d,h,m;return m={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function C(E){return function(I){return y([E,I])}}function y(E){if(f)throw new TypeError("Generator is already executing.");for(;m&&(m=0,E[0]&&(l=0)),l;)try{if(f=1,d&&(h=E[0]&2?d.return:E[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,E[1])).done)return h;switch(d=0,h&&(E=[E[0]&2,h.value]),E[0]){case 0:case 1:h=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,d=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!h||E[1]>h[0]&&E[1]<h[3])){l.label=E[1];break}if(E[0]===6&&l.label<h[1]){l.label=h[1],h=E;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(E);break}h[2]&&l.ops.pop(),l.trys.pop();continue}E=o.call(r,l)}catch(I){E=[6,I],d=0}finally{f=h=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Rd=function(){function r(){}return r.failIfNotSupported=function(){return gc(this,void 0,void 0,function(){return pc(this,function(o){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new r]})})},r.prototype.create=function(o){return gc(this,void 0,void 0,function(){return pc(this,function(l){return[2,vd.create(o)]})})},r}(),Dd=globalThis&&globalThis.__awaiter||function(r,o,l,f){function d(h){return h instanceof l?h:new l(function(m){m(h)})}return new(l||(l=Promise))(function(h,m){function C(I){try{E(f.next(I))}catch(D){m(D)}}function y(I){try{E(f.throw(I))}catch(D){m(D)}}function E(I){I.done?h(I.value):d(I.value).then(C,y)}E((f=f.apply(r,o||[])).next())})},Md=globalThis&&globalThis.__generator||function(r,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},f,d,h,m;return m={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function C(E){return function(I){return y([E,I])}}function y(E){if(f)throw new TypeError("Generator is already executing.");for(;m&&(m=0,E[0]&&(l=0)),l;)try{if(f=1,d&&(h=E[0]&2?d.return:E[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,E[1])).done)return h;switch(d=0,h&&(E=[E[0]&2,h.value]),E[0]){case 0:case 1:h=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,d=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!h||E[1]>h[0]&&E[1]<h[3])){l.label=E[1];break}if(E[0]===6&&l.label<h[1]){l.label=h[1],h=E;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(E);break}h[2]&&l.ops.pop(),l.trys.pop();continue}E=o.call(r,l)}catch(I){E=[6,I],d=0}finally{f=h=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Ld=function(){function r(){}return r.retrieve=function(){if(navigator.mediaDevices)return r.getCamerasFromMediaDevices();var o=MediaStreamTrack;return MediaStreamTrack&&o.getSources?r.getCamerasFromMediaStreamTrack():r.rejectWithError()},r.rejectWithError=function(){var o=yi.unableToQuerySupportedDevices();return r.isHttpsOrLocalhost()||(o=yi.insecureContextCameraQueryError()),Promise.reject(o)},r.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var o=location.host.split(":")[0];return o==="127.0.0.1"||o==="localhost"},r.getCamerasFromMediaDevices=function(){return Dd(this,void 0,void 0,function(){var o,l,f,d,h,m,C;return Md(this,function(y){switch(y.label){case 0:return o=function(E){for(var I=E.getVideoTracks(),D=0,$=I;D<$.length;D++){var z=$[D];z.enabled=!1,z.stop(),E.removeTrack(z)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return l=y.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(f=y.sent(),d=[],h=0,m=f;h<m.length;h++)C=m[h],C.kind==="videoinput"&&d.push({id:C.deviceId,label:C.label});return o(l),[2,d]}})})},r.getCamerasFromMediaStreamTrack=function(){return new Promise(function(o,l){var f=function(h){for(var m=[],C=0,y=h;C<y.length;C++){var E=y[C];E.kind==="video"&&m.push({id:E.id,label:E.label})}o(m)},d=MediaStreamTrack;d.getSources(f)})},r}(),bt;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.NOT_STARTED=1]="NOT_STARTED",r[r.SCANNING=2]="SCANNING",r[r.PAUSED=3]="PAUSED"})(bt||(bt={}));var Bd=function(){function r(){this.state=bt.NOT_STARTED,this.onGoingTransactionNewState=bt.UNKNOWN}return r.prototype.directTransition=function(o){this.failIfTransitionOngoing(),this.validateTransition(o),this.state=o},r.prototype.startTransition=function(o){return this.failIfTransitionOngoing(),this.validateTransition(o),this.onGoingTransactionNewState=o,this},r.prototype.execute=function(){if(this.onGoingTransactionNewState===bt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var o=this.onGoingTransactionNewState;this.onGoingTransactionNewState=bt.UNKNOWN,this.directTransition(o)},r.prototype.cancel=function(){if(this.onGoingTransactionNewState===bt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=bt.UNKNOWN},r.prototype.getState=function(){return this.state},r.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==bt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},r.prototype.validateTransition=function(o){switch(this.state){case bt.UNKNOWN:throw"Transition from unknown is not allowed";case bt.NOT_STARTED:this.failIfNewStateIs(o,[bt.PAUSED]);break;case bt.SCANNING:break;case bt.PAUSED:break}},r.prototype.failIfNewStateIs=function(o,l){for(var f=0,d=l;f<d.length;f++){var h=d[f];if(o===h)throw"Cannot transition from ".concat(this.state," to ").concat(o)}},r}(),Pd=function(){function r(o){this.stateManager=o}return r.prototype.startTransition=function(o){return this.stateManager.startTransition(o)},r.prototype.directTransition=function(o){this.stateManager.directTransition(o)},r.prototype.getState=function(){return this.stateManager.getState()},r.prototype.canScanFile=function(){return this.stateManager.getState()===bt.NOT_STARTED},r.prototype.isScanning=function(){return this.stateManager.getState()!==bt.NOT_STARTED},r.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===bt.SCANNING},r.prototype.isPaused=function(){return this.stateManager.getState()===bt.PAUSED},r}(),Fd=function(){function r(){}return r.create=function(){return new Pd(new Bd)},r}(),kd=globalThis&&globalThis.__extends||function(){var r=function(o,l){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(f[h]=d[h])},r(o,l)};return function(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");r(o,l);function f(){this.constructor=o}o.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}(),_n=function(r){kd(o,r);function o(){return r!==null&&r.apply(this,arguments)||this}return o.DEFAULT_WIDTH=300,o.DEFAULT_WIDTH_OFFSET=2,o.FILE_SCAN_MIN_HEIGHT=300,o.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,o.MIN_QR_BOX_SIZE=50,o.SHADED_LEFT=1,o.SHADED_RIGHT=2,o.SHADED_TOP=3,o.SHADED_BOTTOM=4,o.SHADED_REGION_ELEMENT_ID="qr-shaded-region",o.VERBOSE=!1,o.BORDER_SHADER_DEFAULT_COLOR="#ffffff",o.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",o}(pd),Ud=function(){function r(o,l){this.logger=l,this.fps=_n.SCAN_DEFAULT_FPS,o?(o.fps&&(this.fps=o.fps),this.disableFlip=o.disableFlip===!0,this.qrbox=o.qrbox,this.aspectRatio=o.aspectRatio,this.videoConstraints=o.videoConstraints):this.disableFlip=_n.DEFAULT_DISABLE_FLIP}return r.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?E1.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},r.prototype.isShadedBoxEnabled=function(){return!gr(this.qrbox)},r.create=function(o,l){return new r(o,l)},r}(),ma=function(){function r(o,l){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(o))throw"HTML Element with id=".concat(o," not found");this.elementId=o,this.verbose=!1;var f;typeof l=="boolean"?this.verbose=l===!0:l&&(f=l,this.verbose=f.verbose===!0,f.experimentalFeatures),this.logger=new md(this.verbose),this.qrcode=new yd(this.getSupportedFormats(l),this.getUseBarCodeDetectorIfSupported(f),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Fd.create()}return r.prototype.start=function(o,l,f,d){var h=this;if(!o)throw"cameraIdOrConfig is required";if(!f||typeof f!="function")throw"qrCodeSuccessCallback is required and should be a function.";var m;d?m=d:m=this.verbose?this.logger.log:function(){};var C=Ud.create(l,this.logger);this.clearElement();var y=!1;C.videoConstraints&&(C.isMediaStreamConstraintsValid()?y=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var E=y,I=document.getElementById(this.elementId);I.clientWidth?I.clientWidth:_n.DEFAULT_WIDTH,I.style.position="relative",this.shouldScan=!0,this.element=I;var D=this,$=this.stateManagerProxy.startTransition(bt.SCANNING);return new Promise(function(z,Ae){var J=E?C.videoConstraints:D.createVideoConstraints(o);if(!J){$.cancel(),Ae("videoConstraints should be defined");return}var de={};(!E||C.aspectRatio)&&(de.aspectRatio=C.aspectRatio);var be={onRenderSurfaceReady:function(he,ae){D.setupUi(he,ae,C),D.isScanning=!0,D.foreverScan(C,f,m)}};Rd.failIfNotSupported().then(function(he){he.create(J).then(function(ae){return ae.render(h.element,de,be).then(function(Q){D.renderedCamera=Q,$.execute(),z(null)}).catch(function(Q){$.cancel(),Ae(Q)})}).catch(function(ae){$.cancel(),Ae(yi.errorGettingUserMedia(ae))})}).catch(function(he){$.cancel(),Ae(yi.cameraStreamingNotSupported())})})},r.prototype.pause=function(o){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(bt.PAUSED),this.showPausedState(),(gr(o)||o!==!0)&&(o=!1),o&&this.renderedCamera&&this.renderedCamera.pause()},r.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var o=this,l=function(){o.stateManagerProxy.directTransition(bt.SCANNING),o.hidePausedState()};if(!this.renderedCamera.isPaused()){l();return}this.renderedCamera.resume(function(){l()})},r.prototype.getState=function(){return this.stateManagerProxy.getState()},r.prototype.stop=function(){var o=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var l=this.stateManagerProxy.startTransition(bt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var f=function(){if(o.element){var h=document.getElementById(_n.SHADED_REGION_ELEMENT_ID);h&&o.element.removeChild(h)}},d=this;return this.renderedCamera.close().then(function(){return d.renderedCamera=null,d.element&&(d.element.removeChild(d.canvasElement),d.canvasElement=null),f(),d.qrRegion&&(d.qrRegion=null),d.context&&(d.context=null),l.execute(),d.hidePausedState(),d.isScanning=!1,Promise.resolve()})},r.prototype.scanFile=function(o,l){return this.scanFileV2(o,l).then(function(f){return f.decodedText})},r.prototype.scanFileV2=function(o,l){var f=this;if(!o||!(o instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(gr(l)&&(l=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(d,h){f.possiblyCloseLastScanImageFile(),f.clearElement(),f.lastScanImageFile=URL.createObjectURL(o);var m=new Image;m.onload=function(){var C=m.width,y=m.height,E=document.getElementById(f.elementId),I=E.clientWidth?E.clientWidth:_n.DEFAULT_WIDTH,D=Math.max(E.clientHeight?E.clientHeight:y,_n.FILE_SCAN_MIN_HEIGHT),$=f.computeCanvasDrawConfig(C,y,I,D);if(l){var z=f.createCanvasElement(I,D,"qr-canvas-visible");z.style.display="inline-block",E.appendChild(z);var Ae=z.getContext("2d");if(!Ae)throw"Unable to get 2d context from canvas";Ae.canvas.width=I,Ae.canvas.height=D,Ae.drawImage(m,0,0,C,y,$.x,$.y,$.width,$.height)}var J=_n.FILE_SCAN_HIDDEN_CANVAS_PADDING,de=Math.max(m.width,$.width),be=Math.max(m.height,$.height),he=de+2*J,ae=be+2*J,Q=f.createCanvasElement(he,ae);E.appendChild(Q);var Re=Q.getContext("2d");if(!Re)throw"Unable to get 2d context from canvas";Re.canvas.width=he,Re.canvas.height=ae,Re.drawImage(m,0,0,C,y,J,J,de,be);try{f.qrcode.decodeRobustlyAsync(Q).then(function(we){d(cc.createFromQrcodeResult(we))}).catch(h)}catch(we){h("QR code parse error, error = ".concat(we))}},m.onerror=h,m.onabort=h,m.onstalled=h,m.onsuspend=h,m.src=URL.createObjectURL(o)})},r.prototype.clear=function(){this.clearElement()},r.getCameras=function(){return Ld.retrieve()},r.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},r.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},r.prototype.applyVideoConstraints=function(o){if(o){if(!E1.isMediaStreamConstraintsValid(o,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(o)},r.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},r.prototype.getSupportedFormats=function(o){var l=[Ee.QR_CODE,Ee.AZTEC,Ee.CODABAR,Ee.CODE_39,Ee.CODE_93,Ee.CODE_128,Ee.DATA_MATRIX,Ee.MAXICODE,Ee.ITF,Ee.EAN_13,Ee.EAN_8,Ee.PDF_417,Ee.RSS_14,Ee.RSS_EXPANDED,Ee.UPC_A,Ee.UPC_E,Ee.UPC_EAN_EXTENSION];if(!o||typeof o=="boolean"||!o.formatsToSupport)return l;if(!Array.isArray(o.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(o.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var f=[],d=0,h=o.formatsToSupport;d<h.length;d++){var m=h[d];gd(m)?f.push(m):this.logger.warn("Invalid format: ".concat(m," passed in config, ignoring."))}if(f.length===0)throw"None of formatsToSupport match supported values.";return f},r.prototype.getUseBarCodeDetectorIfSupported=function(o){if(gr(o))return!0;if(!gr(o.useBarCodeDetectorIfSupported))return o.useBarCodeDetectorIfSupported!==!1;if(gr(o.experimentalFeatures))return!0;var l=o.experimentalFeatures;return gr(l.useBarCodeDetectorIfSupported)?!0:l.useBarCodeDetectorIfSupported!==!1},r.prototype.validateQrboxSize=function(o,l,f){var d=this,h=f.qrbox;this.validateQrboxConfig(h);var m=this.toQrdimensions(o,l,h),C=function(E){if(E<_n.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(_n.MIN_QR_BOX_SIZE,"px.")},y=function(E){return E>o&&(d.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),E=o),E};C(m.width),C(m.height),m.width=y(m.width)},r.prototype.validateQrboxConfig=function(o){if(typeof o!="number"&&typeof o!="function"&&(o.width===void 0||o.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},r.prototype.toQrdimensions=function(o,l,f){if(typeof f=="number")return{width:f,height:f};if(typeof f=="function")try{return f(o,l)}catch(d){throw new Error("qrbox config was passed as a function but it failed with unknown error"+d)}return f},r.prototype.setupUi=function(o,l,f){f.isShadedBoxEnabled()&&this.validateQrboxSize(o,l,f);var d=gr(f.qrbox)?{width:o,height:l}:f.qrbox;this.validateQrboxConfig(d);var h=this.toQrdimensions(o,l,d);h.height>l&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var m=f.isShadedBoxEnabled()&&h.height<=l,C={x:0,y:0,width:o,height:l},y=m?this.getShadedRegionBounds(o,l,h):C,E=this.createCanvasElement(y.width,y.height),I={willReadFrequently:!0},D=E.getContext("2d",I);D.canvas.width=y.width,D.canvas.height=y.height,this.element.append(E),m&&this.possiblyInsertShadingElement(this.element,o,l,h),this.createScannerPausedUiElement(this.element),this.qrRegion=y,this.context=D,this.canvasElement=E},r.prototype.createScannerPausedUiElement=function(o){var l=document.createElement("div");l.innerText=yi.scannerPaused(),l.style.display="none",l.style.position="absolute",l.style.top="0px",l.style.zIndex="1",l.style.background="rgba(9, 9, 9, 0.46)",l.style.color="#FFECEC",l.style.textAlign="center",l.style.width="100%",o.appendChild(l),this.scannerPausedUiElement=l},r.prototype.scanContext=function(o,l){var f=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(d){return o(d.text,cc.createFromQrcodeResult(d)),f.possiblyUpdateShaders(!0),!0}).catch(function(d){f.possiblyUpdateShaders(!1);var h=yi.codeParseError(d);return l(h,xd.createFrom(h)),!1})},r.prototype.foreverScan=function(o,l,f){var d=this;if(this.shouldScan&&this.renderedCamera){var h=this.renderedCamera.getSurface(),m=h.videoWidth/h.clientWidth,C=h.videoHeight/h.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var y=this.qrRegion.width*m,E=this.qrRegion.height*C,I=this.qrRegion.x*m,D=this.qrRegion.y*C;this.context.drawImage(h,I,D,y,E,0,0,this.qrRegion.width,this.qrRegion.height);var $=function(){d.foreverScanTimeout=setTimeout(function(){d.foreverScan(o,l,f)},d.getTimeoutFps(o.fps))};this.scanContext(l,f).then(function(z){!z&&o.disableFlip!==!0?(d.context.translate(d.context.canvas.width,0),d.context.scale(-1,1),d.scanContext(l,f).finally(function(){$()})):$()}).catch(function(z){d.logger.logError("Error happend while scanning context",z),$()})}},r.prototype.createVideoConstraints=function(o){if(typeof o=="string")return{deviceId:{exact:o}};if(typeof o=="object"){var l="facingMode",f="deviceId",d={user:!0,environment:!0},h="exact",m=function(Ae){if(Ae in d)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(Ae,"'")},C=Object.keys(o);if(C.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(C.length," keys");var y=Object.keys(o)[0];if(y!==l&&y!==f)throw"Only '".concat(l,"' and '").concat(f,"' ")+" are supported for 'cameraIdOrConfig'";if(y===l){var E=o.facingMode;if(typeof E=="string"){if(m(E))return{facingMode:E}}else if(typeof E=="object")if(h in E){if(m(E["".concat(h)]))return{facingMode:{exact:E["".concat(h)]}}}else throw"'facingMode' should be string or object with"+" ".concat(h," as key.");else{var I=typeof E;throw"Invalid type of 'facingMode' = ".concat(I)}}else{var D=o.deviceId;if(typeof D=="string")return{deviceId:D};if(typeof D=="object"){if(h in D)return{deviceId:{exact:D["".concat(h)]}};throw"'deviceId' should be string or object with"+" ".concat(h," as key.")}else{var $=typeof D;throw"Invalid type of 'deviceId' = ".concat($)}}}var z=typeof o;throw"Invalid type of 'cameraIdOrConfig' = ".concat(z)},r.prototype.computeCanvasDrawConfig=function(o,l,f,d){if(o<=f&&l<=d){var h=(f-o)/2,m=(d-l)/2;return{x:h,y:m,width:o,height:l}}else{var C=o,y=l;return o>f&&(l=f/o*l,o=f),l>d&&(o=d/l*o,l=d),this.logger.log("Image downsampled from "+"".concat(C,"X").concat(y)+" to ".concat(o,"X").concat(l,".")),this.computeCanvasDrawConfig(o,l,f,d)}},r.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var o=document.getElementById(this.elementId);o&&(o.innerHTML="")},r.prototype.possiblyUpdateShaders=function(o){this.qrMatch!==o&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(l){l.style.backgroundColor=o?_n.BORDER_SHADER_MATCH_COLOR:_n.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=o)},r.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},r.prototype.createCanvasElement=function(o,l,f){var d=o,h=l,m=document.createElement("canvas");return m.style.width="".concat(d,"px"),m.style.height="".concat(h,"px"),m.style.display="none",m.id=gr(f)?"qr-canvas":f,m},r.prototype.getShadedRegionBounds=function(o,l,f){if(f.width>o||f.height>l)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(o-f.width)/2,y:(l-f.height)/2,width:f.width,height:f.height}},r.prototype.possiblyInsertShadingElement=function(o,l,f,d){if(!(l-d.width<1||f-d.height<1)){var h=document.createElement("div");h.style.position="absolute";var m=(l-d.width)/2,C=(f-d.height)/2;if(h.style.borderLeft="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderRight="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderTop="".concat(C,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderBottom="".concat(C,"px solid rgba(0, 0, 0, 0.48)"),h.style.boxSizing="border-box",h.style.top="0px",h.style.bottom="0px",h.style.left="0px",h.style.right="0px",h.id="".concat(_n.SHADED_REGION_ELEMENT_ID),l-d.width<11||f-d.height<11)this.hasBorderShaders=!1;else{var y=5,E=40;this.insertShaderBorders(h,E,y,-y,null,0,!0),this.insertShaderBorders(h,E,y,-y,null,0,!1),this.insertShaderBorders(h,E,y,null,-y,0,!0),this.insertShaderBorders(h,E,y,null,-y,0,!1),this.insertShaderBorders(h,y,E+y,-y,null,-y,!0),this.insertShaderBorders(h,y,E+y,null,-y,-y,!0),this.insertShaderBorders(h,y,E+y,-y,null,-y,!1),this.insertShaderBorders(h,y,E+y,null,-y,-y,!1),this.hasBorderShaders=!0}o.append(h)}},r.prototype.insertShaderBorders=function(o,l,f,d,h,m,C){var y=document.createElement("div");y.style.position="absolute",y.style.backgroundColor=_n.BORDER_SHADER_DEFAULT_COLOR,y.style.width="".concat(l,"px"),y.style.height="".concat(f,"px"),d!==null&&(y.style.top="".concat(d,"px")),h!==null&&(y.style.bottom="".concat(h,"px")),C?y.style.left="".concat(m,"px"):y.style.right="".concat(m,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(y),o.appendChild(y)},r.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},r.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},r.prototype.getTimeoutFps=function(o){return 1e3/o},r}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var xc;(function(r){r[r.STATUS_DEFAULT=0]="STATUS_DEFAULT",r[r.STATUS_SUCCESS=1]="STATUS_SUCCESS",r[r.STATUS_WARNING=2]="STATUS_WARNING",r[r.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(xc||(xc={}));const Vd={created(){this.getCameras()},onUnmounted(){this.stop()},methods:{getCameras(){ma.getCameras().then(r=>{r&&r.length&&(this.html5QrCode=new ma("reader"),this.start())}).catch(r=>{this.html5QrCode=new ma("reader"),this.error="ERROR: you need to grant camera access permission",this.$emit("err",this.error,r)})},start(){this.html5QrCode.start({facingMode:"environment"},{fps:2,qrbox:{width:250,height:150}},r=>{this.$emit("scanned",r),this.$emit("ok",r)}).catch(r=>{this.$emit("err",r)})},stop(){this.html5QrCode.stop().then(r=>{this.$emit("err",r),console.log("QR Code scanning stopped.")}).catch(r=>{this.$emit("err",r),console.log("Unable to stop scanning.")})}}},Hd=r=>(w0("data-v-1f702a9e"),r=r(),_0(),r),Wd={class:"qrcode"},Gd=Hd(()=>se("div",{id:"reader"},null,-1)),Xd=[Gd];function Yd(r,o,l,f,d,h){return dn(),Un("div",Wd,Xd)}const _1=nl(Vd,[["render",Yd],["__scopeId","data-v-1f702a9e"]]),jd=se("span",{class:"btn"},null,-1),zd=[jd],Kd=O0({__name:"qrcode",setup(r){const o=s0(!1);var l={versions:function(){var m=navigator.userAgent;return{trident:m.indexOf("Trident")>-1,presto:m.indexOf("Presto")>-1,webKit:m.indexOf("AppleWebKit")>-1,gecko:m.indexOf("Gecko")>-1&&m.indexOf("KHTML")==-1,weixin:m.indexOf("MicroMessenger")>-1}}()};const f=()=>{l.versions.webKit||l.versions.weixin||l.versions.gecko?o.value=!0:alert("browser not support")},d=m=>{m.split("?")[1].split("=")[1]=="nX8ERbN9t4EZdPbNxMirW3uYS71111"?o.value=!1:(o.value=!1,alert("try again"))},h=m=>{alert(m)};return(m,C)=>(dn(),Un(hn,null,[o.value?(dn(),Ja(_1,{key:0,ref:"qrcode",onOk:d,onErr:h},null,512)):ro("",!0),se("div",{class:"home-item",onClick:f},zd)],64))}}),Zd="/vue-bootstrap/assets/logo-0462d2b3.png";var Zs={versions:function(){var r=navigator.userAgent;return{trident:r.indexOf("Trident")>-1,presto:r.indexOf("Presto")>-1,webKit:r.indexOf("AppleWebKit")>-1,gecko:r.indexOf("Gecko")>-1&&r.indexOf("KHTML")==-1}}()};const $d={data(){return{input:"",barcode:"",cartItems:[],confirm:[],productData:[],showScanner:!1,scanSuccess:!1,open:!1}},components:{BarcodeScanner:dd,screenqrcode:_1,qrcode:Kd},mounted(){this.fetchData()},methods:{addToast(){var r=document.getElementById("snackbar");r.className="show",setTimeout(function(){r.className=r.className.replace("show","")},3e3)},clickQr(){Zs.versions.webKit||Zs.versions.gecko?this.open=!0:alert("browser not support")},closeQr(){Zs.versions.webKit||Zs.versions.gecko?this.open=!1:alert("browser not support")},getResult(r){r.split("?")[1].split("=")[1]=="nX8ERbN9t4EZdPbNxMirW3uYS71111"?this.open=!1:(this.open=!1,alert("try again"))},geterror:function(r){alert(r)},handleScannedData(r){console.log("Scanned data:",r),this.barcode=r,this.scanSuccess=!0,this.addItem()},fetchData(){this.productData=x1},openScanner(){this.showScanner=!0},addItem(){if(this.scanSuccess||(this.barcode=document.getElementById("barcode").value),this.barcode){const r=this.productData.find(o=>o.gtin===this.barcode);if(r){const o=this.cartItems.findIndex(l=>l.barcode===this.barcode);this.input="",o!==-1?this.cartItems[o].count++:(this.cartItems.push({barcode:this.barcode,count:1,name:r.name,img:r.img,price:r.price}),this.confirm.push(!1))}this.barcode=""}},removeItem(r){this.cartItems.splice(r,1),this.confirm.splice(r,1)},cartTotalPrice(){let r=0;for(let o of this.cartItems)r+=o.price*o.count;return r.toFixed(2)},itemTotalPrice(r){let o=0;return o=this.cartItems[r].price*this.cartItems[r].count,o.toFixed(2)},handleAddCount(r){this.cartItems[r].count+=1},handleReduceCount(r){this.cartItems[r].count!==1&&(this.cartItems[r].count>1?this.cartItems[r].count--:this.cartItems.splice(r,1))}}},qd=dh('<header><nav class="navbar navbar-expand-md navbar-light bg-light" style="max-height:45px;"><div class="navbar-collapse collapse w-100 order-1 order-md-0 dual-collapse2"><ul class="navbar-nav text-start"><li class="nav-item active"><img src="'+Zd+'" width="100" height="100%" alt=""></li></ul></div><div class="mx-auto order-0"><a class="navbar-brand mx-auto title fs-5">Shopping Cart</a></div><div class="navbar-collapse collapse w-100 order-3 dual-collapse2"><ul class="navbar-nav ms-auto"><li class="nav-item"><i class="material-icons nav-link py-0 pe-4" style="font-size:40px;">account_circle</i></li></ul></div></nav></header>',1),Qd=se("div",{id:"snackbar"},"sd",-1),Jd=se("i",{class:"material-icons"},"add",-1),eg=[Jd],tg={class:"modal fade",id:"scanBarcodeDialog",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},ng={class:"modal-dialog modal-dialog-centered",role:"document"},rg={class:"modal-content"},ig={class:"modal-header"},sg=se("h5",{class:"modal-title",id:"exampleModalLongTitle"},"Scan Code",-1),og=se("span",{"aria-hidden":"true"},"",-1),ag=[og],lg={class:"modal-body"},cg={class:"input-group mb-3 p-3"},ug={key:0},fg=se("br",null,null,-1),hg=se("br",null,null,-1),dg=se("br",null,null,-1),gg=se("div",{class:"container text-center"},[se("div",{class:"row align-items-start"},[se("i",{class:"material-icons",style:{color:"#094FA3","font-size":"80px"}},"remove_shopping_cart"),se("p",{class:"fs-3 fw-bold",style:{color:"#094FA3"}},"Hi! What are you looking for today?")])],-1),pg={key:1,class:"h-100",style:{}},xg={class:"h-100"},mg={class:"row d-flex justify-content-center align-items-center h-100"},Eg={class:"col-11"},wg={class:"card rounded-3 mb-4"},_g={class:"row d-flex justify-content-between align-items-center"},Ag={class:"col-6 col-md-3"},Cg=["src"],bg={class:"col-6 col-md-5"},yg={class:"lead fw-bold mb-2"},Tg={class:"text-muted"},Ig={class:"input-group input-group-sm"},Sg={class:"input-group-prepend"},Ng={class:"input-group-text",id:"inputGroup-sizing"},Og=["onClick"],vg=["onUpdate:modelValue"],Rg={class:"input-group-append"},Dg={class:"input-group-text",id:"inputGroup-sizing-default"},Mg=["onClick"],Lg={class:"col-9 text-end col-md-2 text-right"},Bg={class:"mb-0"},Pg=se("div",{class:"col-3 col-md-1 d-flex"},[se("a",{href:"#!",class:"text-danger"},[se("i",{class:"material-icons","data-bs-toggle":"modal","data-bs-target":"#deleteDialog"},"delete")])],-1),Fg={class:"modal fade",id:"deleteDialog","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},kg={class:"modal-dialog"},Ug={class:"modal-content"},Vg=se("div",{class:"modal-header"},[se("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Delete Product"),se("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Hg=se("div",{class:"modal-body"}," Are you sure you want to delete this Product? ",-1),Wg={class:"modal-footer"},Gg=se("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),Xg={class:""},Yg=se("div",{class:"input-group mb-3"},[se("input",{type:"text",class:"form-control",placeholder:"Discound code","aria-label":"Discound code","aria-describedby":"basic-addon2"}),se("div",{class:"input-group-append"},[se("button",{class:"btn btn-primary text-white",type:"button"},"Apply")])],-1),jg={class:"mb-5 pb-5"},zg={class:"card"},Kg={class:"card-body"},Zg={type:"button",class:"btn btn-primary btn-lg w-100"},$g=se("footer",null,[se("nav",{class:"nav border-top nav-pills nav-justified fixed-bottom flex-nowrap"},[se("div",{class:"btn-group",role:"group",style:{width:"100%"}},[se("a",{href:"https://treantprotectorgo.github.io/html-home/",class:"btn btn-light"},[se("i",{style:{display:"flex","flex-direction":"column","font-size":"28px"},class:"material-icons"},"home"),xr(" Home")]),se("a",{href:"https://nevercod.github.io/chat/",class:"btn btn-light"},[se("i",{class:"material-icons",style:{display:"flex","flex-direction":"column","font-size":"28px"}},"chat"),xr(" Chat ")]),se("a",{href:"#",class:"btn btn-light",style:{color:"#094FA3"}},[se("i",{class:"material-icons",style:{display:"flex","flex-direction":"column","font-size":"28px"}},"shopping_cart"),xr(" Cart ")])])])],-1);function qg(r,o,l,f,d,h){const m=W0("screenqrcode");return dn(),Un(hn,null,[qd,se("button",{onClick:o[0]||(o[0]=C=>h.addToast())},"Show Snackbar"),Qd,se("button",{class:"btn btn-primary btn-floating p-2 rounded-circle",onClick:o[1]||(o[1]=C=>{h.clickQr(),h.openScanner()}),"data-bs-toggle":"modal","data-bs-target":"#scanBarcodeDialog"},eg),se("div",tg,[se("div",ng,[se("div",rg,[se("div",ig,[sg,se("button",{onClick:o[2]||(o[2]=(...C)=>h.closeQr&&h.closeQr(...C)),type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},ag)]),se("div",lg,[d.open?(dn(),Ja(m,{key:0,onScanned:h.handleScannedData,onOk:h.getResult,onErr:h.geterror},null,8,["onScanned","onOk","onErr"])):ro("",!0)])])])]),se("div",cg,[co(se("input",{type:"text",class:"form-control",placeholder:"Enter Barcode","aria-label":"Enter Barcode","aria-describedby":"button-addon2",id:"barcode","onUpdate:modelValue":o[3]||(o[3]=C=>d.input=C)},null,512),[[ic,d.input]]),se("button",{class:"btn btn-primary",type:"button",id:"button-addon2",onClick:o[4]||(o[4]=(...C)=>h.addItem&&h.addItem(...C))},"Add")]),d.cartItems.length===0?(dn(),Un("div",ug,[fg,xr(),hg,xr(),dg,gg])):ro("",!0),d.cartItems.length!=0?(dn(),Un("section",pg,[se("div",xg,[se("div",mg,[se("div",Eg,[se("div",wg,[(dn(!0),Un(hn,null,r1(d.cartItems,(C,y)=>(dn(),Un("div",{class:"card-body p-1",key:y},[se("div",_g,[se("div",Ag,[se("img",{src:C.img,class:"img-fluid rounded-3",alt:"Product Image"},null,8,Cg)]),se("div",bg,[se("p",yg,bi(C.name),1),se("p",null,[se("span",Tg,bi(C.barcode),1)]),se("div",Ig,[se("div",Sg,[se("span",Ng,[se("i",{class:"material-icons xs",onClick:E=>h.handleAddCount(y)},"add",8,Og)])]),co(se("input",{"onUpdate:modelValue":E=>C.count=E,style:{"max-width":"50px","max-height":"25px"},type:"text",class:"readonly form-control text-center"},null,8,vg),[[ic,C.count]]),se("div",Rg,[se("span",Dg,[se("i",{class:"material-icons xs",onClick:E=>h.handleReduceCount(y),style:{width:"1vh"}},"remove",8,Mg)])])])]),se("div",Lg,[se("h5",Bg,"$ "+bi(h.itemTotalPrice(y)),1)]),Pg])]))),128))]),se("div",Fg,[se("div",kg,[se("div",Ug,[Vg,Hg,se("div",Wg,[Gg,se("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:o[5]||(o[5]=C=>h.removeItem(r.index))},"Delete")])])])]),se("div",Xg,[Yg,se("div",jg,[se("div",zg,[se("div",Kg,[se("button",Zg,"Proceed to Pay $ "+bi(h.cartTotalPrice()),1)])])])])])])])])):ro("",!0),$g],64)}const Qg=nl($d,[["render",qg]]),Jg=se("header",null,[se("div")],-1),e2={__name:"App",setup(r){return(o,l)=>(dn(),Un(hn,null,[Jg,se("main",null,[Gn(Qg)])],64))}};var t2={exports:{}},rn="top",An="bottom",Cn="right",sn="left",Do="auto",Vi=[rn,An,Cn,sn],ii="start",Di="end",A1="clippingParents",il="viewport",Ci="popper",C1="reference",Da=Vi.reduce(function(r,o){return r.concat([o+"-"+ii,o+"-"+Di])},[]),sl=[].concat(Vi,[Do]).reduce(function(r,o){return r.concat([o,o+"-"+ii,o+"-"+Di])},[]),b1="beforeRead",y1="read",T1="afterRead",I1="beforeMain",S1="main",N1="afterMain",O1="beforeWrite",v1="write",R1="afterWrite",D1=[b1,y1,T1,I1,S1,N1,O1,v1,R1];function rr(r){return r?(r.nodeName||"").toLowerCase():null}function bn(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var o=r.ownerDocument;return o&&o.defaultView||window}return r}function si(r){var o=bn(r).Element;return r instanceof o||r instanceof Element}function Mn(r){var o=bn(r).HTMLElement;return r instanceof o||r instanceof HTMLElement}function ol(r){if(typeof ShadowRoot>"u")return!1;var o=bn(r).ShadowRoot;return r instanceof o||r instanceof ShadowRoot}function n2(r){var o=r.state;Object.keys(o.elements).forEach(function(l){var f=o.styles[l]||{},d=o.attributes[l]||{},h=o.elements[l];!Mn(h)||!rr(h)||(Object.assign(h.style,f),Object.keys(d).forEach(function(m){var C=d[m];C===!1?h.removeAttribute(m):h.setAttribute(m,C===!0?"":C)}))})}function r2(r){var o=r.state,l={popper:{position:o.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(o.elements.popper.style,l.popper),o.styles=l,o.elements.arrow&&Object.assign(o.elements.arrow.style,l.arrow),function(){Object.keys(o.elements).forEach(function(f){var d=o.elements[f],h=o.attributes[f]||{},m=Object.keys(o.styles.hasOwnProperty(f)?o.styles[f]:l[f]),C=m.reduce(function(y,E){return y[E]="",y},{});!Mn(d)||!rr(d)||(Object.assign(d.style,C),Object.keys(h).forEach(function(y){d.removeAttribute(y)}))})}}const al={name:"applyStyles",enabled:!0,phase:"write",fn:n2,effect:r2,requires:["computeStyles"]};function tr(r){return r.split("-")[0]}var ni=Math.max,Eo=Math.min,Mi=Math.round;function Ma(){var r=navigator.userAgentData;return r!=null&&r.brands&&Array.isArray(r.brands)?r.brands.map(function(o){return o.brand+"/"+o.version}).join(" "):navigator.userAgent}function M1(){return!/^((?!chrome|android).)*safari/i.test(Ma())}function Li(r,o,l){o===void 0&&(o=!1),l===void 0&&(l=!1);var f=r.getBoundingClientRect(),d=1,h=1;o&&Mn(r)&&(d=r.offsetWidth>0&&Mi(f.width)/r.offsetWidth||1,h=r.offsetHeight>0&&Mi(f.height)/r.offsetHeight||1);var m=si(r)?bn(r):window,C=m.visualViewport,y=!M1()&&l,E=(f.left+(y&&C?C.offsetLeft:0))/d,I=(f.top+(y&&C?C.offsetTop:0))/h,D=f.width/d,$=f.height/h;return{width:D,height:$,top:I,right:E+D,bottom:I+$,left:E,x:E,y:I}}function ll(r){var o=Li(r),l=r.offsetWidth,f=r.offsetHeight;return Math.abs(o.width-l)<=1&&(l=o.width),Math.abs(o.height-f)<=1&&(f=o.height),{x:r.offsetLeft,y:r.offsetTop,width:l,height:f}}function L1(r,o){var l=o.getRootNode&&o.getRootNode();if(r.contains(o))return!0;if(l&&ol(l)){var f=o;do{if(f&&r.isSameNode(f))return!0;f=f.parentNode||f.host}while(f)}return!1}function Er(r){return bn(r).getComputedStyle(r)}function i2(r){return["table","td","th"].indexOf(rr(r))>=0}function Mr(r){return((si(r)?r.ownerDocument:r.document)||window.document).documentElement}function Mo(r){return rr(r)==="html"?r:r.assignedSlot||r.parentNode||(ol(r)?r.host:null)||Mr(r)}function mc(r){return!Mn(r)||Er(r).position==="fixed"?null:r.offsetParent}function s2(r){var o=/firefox/i.test(Ma()),l=/Trident/i.test(Ma());if(l&&Mn(r)){var f=Er(r);if(f.position==="fixed")return null}var d=Mo(r);for(ol(d)&&(d=d.host);Mn(d)&&["html","body"].indexOf(rr(d))<0;){var h=Er(d);if(h.transform!=="none"||h.perspective!=="none"||h.contain==="paint"||["transform","perspective"].indexOf(h.willChange)!==-1||o&&h.willChange==="filter"||o&&h.filter&&h.filter!=="none")return d;d=d.parentNode}return null}function Cs(r){for(var o=bn(r),l=mc(r);l&&i2(l)&&Er(l).position==="static";)l=mc(l);return l&&(rr(l)==="html"||rr(l)==="body"&&Er(l).position==="static")?o:l||s2(r)||o}function cl(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function hs(r,o,l){return ni(r,Eo(o,l))}function o2(r,o,l){var f=hs(r,o,l);return f>l?l:f}function B1(){return{top:0,right:0,bottom:0,left:0}}function P1(r){return Object.assign({},B1(),r)}function F1(r,o){return o.reduce(function(l,f){return l[f]=r,l},{})}var a2=function(o,l){return o=typeof o=="function"?o(Object.assign({},l.rects,{placement:l.placement})):o,P1(typeof o!="number"?o:F1(o,Vi))};function l2(r){var o,l=r.state,f=r.name,d=r.options,h=l.elements.arrow,m=l.modifiersData.popperOffsets,C=tr(l.placement),y=cl(C),E=[sn,Cn].indexOf(C)>=0,I=E?"height":"width";if(!(!h||!m)){var D=a2(d.padding,l),$=ll(h),z=y==="y"?rn:sn,Ae=y==="y"?An:Cn,J=l.rects.reference[I]+l.rects.reference[y]-m[y]-l.rects.popper[I],de=m[y]-l.rects.reference[y],be=Cs(h),he=be?y==="y"?be.clientHeight||0:be.clientWidth||0:0,ae=J/2-de/2,Q=D[z],Re=he-$[I]-D[Ae],we=he/2-$[I]/2+ae,q=hs(Q,we,Re),Te=y;l.modifiersData[f]=(o={},o[Te]=q,o.centerOffset=q-we,o)}}function c2(r){var o=r.state,l=r.options,f=l.element,d=f===void 0?"[data-popper-arrow]":f;d!=null&&(typeof d=="string"&&(d=o.elements.popper.querySelector(d),!d)||L1(o.elements.popper,d)&&(o.elements.arrow=d))}const k1={name:"arrow",enabled:!0,phase:"main",fn:l2,effect:c2,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Bi(r){return r.split("-")[1]}var u2={top:"auto",right:"auto",bottom:"auto",left:"auto"};function f2(r,o){var l=r.x,f=r.y,d=o.devicePixelRatio||1;return{x:Mi(l*d)/d||0,y:Mi(f*d)/d||0}}function Ec(r){var o,l=r.popper,f=r.popperRect,d=r.placement,h=r.variation,m=r.offsets,C=r.position,y=r.gpuAcceleration,E=r.adaptive,I=r.roundOffsets,D=r.isFixed,$=m.x,z=$===void 0?0:$,Ae=m.y,J=Ae===void 0?0:Ae,de=typeof I=="function"?I({x:z,y:J}):{x:z,y:J};z=de.x,J=de.y;var be=m.hasOwnProperty("x"),he=m.hasOwnProperty("y"),ae=sn,Q=rn,Re=window;if(E){var we=Cs(l),q="clientHeight",Te="clientWidth";if(we===bn(l)&&(we=Mr(l),Er(we).position!=="static"&&C==="absolute"&&(q="scrollHeight",Te="scrollWidth")),we=we,d===rn||(d===sn||d===Cn)&&h===Di){Q=An;var j=D&&we===Re&&Re.visualViewport?Re.visualViewport.height:we[q];J-=j-f.height,J*=y?1:-1}if(d===sn||(d===rn||d===An)&&h===Di){ae=Cn;var Pe=D&&we===Re&&Re.visualViewport?Re.visualViewport.width:we[Te];z-=Pe-f.width,z*=y?1:-1}}var De=Object.assign({position:C},E&&u2),_e=I===!0?f2({x:z,y:J},bn(l)):{x:z,y:J};if(z=_e.x,J=_e.y,y){var Se;return Object.assign({},De,(Se={},Se[Q]=he?"0":"",Se[ae]=be?"0":"",Se.transform=(Re.devicePixelRatio||1)<=1?"translate("+z+"px, "+J+"px)":"translate3d("+z+"px, "+J+"px, 0)",Se))}return Object.assign({},De,(o={},o[Q]=he?J+"px":"",o[ae]=be?z+"px":"",o.transform="",o))}function h2(r){var o=r.state,l=r.options,f=l.gpuAcceleration,d=f===void 0?!0:f,h=l.adaptive,m=h===void 0?!0:h,C=l.roundOffsets,y=C===void 0?!0:C,E={placement:tr(o.placement),variation:Bi(o.placement),popper:o.elements.popper,popperRect:o.rects.popper,gpuAcceleration:d,isFixed:o.options.strategy==="fixed"};o.modifiersData.popperOffsets!=null&&(o.styles.popper=Object.assign({},o.styles.popper,Ec(Object.assign({},E,{offsets:o.modifiersData.popperOffsets,position:o.options.strategy,adaptive:m,roundOffsets:y})))),o.modifiersData.arrow!=null&&(o.styles.arrow=Object.assign({},o.styles.arrow,Ec(Object.assign({},E,{offsets:o.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:y})))),o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-placement":o.placement})}const ul={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:h2,data:{}};var $s={passive:!0};function d2(r){var o=r.state,l=r.instance,f=r.options,d=f.scroll,h=d===void 0?!0:d,m=f.resize,C=m===void 0?!0:m,y=bn(o.elements.popper),E=[].concat(o.scrollParents.reference,o.scrollParents.popper);return h&&E.forEach(function(I){I.addEventListener("scroll",l.update,$s)}),C&&y.addEventListener("resize",l.update,$s),function(){h&&E.forEach(function(I){I.removeEventListener("scroll",l.update,$s)}),C&&y.removeEventListener("resize",l.update,$s)}}const fl={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:d2,data:{}};var g2={left:"right",right:"left",bottom:"top",top:"bottom"};function io(r){return r.replace(/left|right|bottom|top/g,function(o){return g2[o]})}var p2={start:"end",end:"start"};function wc(r){return r.replace(/start|end/g,function(o){return p2[o]})}function hl(r){var o=bn(r),l=o.pageXOffset,f=o.pageYOffset;return{scrollLeft:l,scrollTop:f}}function dl(r){return Li(Mr(r)).left+hl(r).scrollLeft}function x2(r,o){var l=bn(r),f=Mr(r),d=l.visualViewport,h=f.clientWidth,m=f.clientHeight,C=0,y=0;if(d){h=d.width,m=d.height;var E=M1();(E||!E&&o==="fixed")&&(C=d.offsetLeft,y=d.offsetTop)}return{width:h,height:m,x:C+dl(r),y}}function m2(r){var o,l=Mr(r),f=hl(r),d=(o=r.ownerDocument)==null?void 0:o.body,h=ni(l.scrollWidth,l.clientWidth,d?d.scrollWidth:0,d?d.clientWidth:0),m=ni(l.scrollHeight,l.clientHeight,d?d.scrollHeight:0,d?d.clientHeight:0),C=-f.scrollLeft+dl(r),y=-f.scrollTop;return Er(d||l).direction==="rtl"&&(C+=ni(l.clientWidth,d?d.clientWidth:0)-h),{width:h,height:m,x:C,y}}function gl(r){var o=Er(r),l=o.overflow,f=o.overflowX,d=o.overflowY;return/auto|scroll|overlay|hidden/.test(l+d+f)}function U1(r){return["html","body","#document"].indexOf(rr(r))>=0?r.ownerDocument.body:Mn(r)&&gl(r)?r:U1(Mo(r))}function ds(r,o){var l;o===void 0&&(o=[]);var f=U1(r),d=f===((l=r.ownerDocument)==null?void 0:l.body),h=bn(f),m=d?[h].concat(h.visualViewport||[],gl(f)?f:[]):f,C=o.concat(m);return d?C:C.concat(ds(Mo(m)))}function La(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function E2(r,o){var l=Li(r,!1,o==="fixed");return l.top=l.top+r.clientTop,l.left=l.left+r.clientLeft,l.bottom=l.top+r.clientHeight,l.right=l.left+r.clientWidth,l.width=r.clientWidth,l.height=r.clientHeight,l.x=l.left,l.y=l.top,l}function _c(r,o,l){return o===il?La(x2(r,l)):si(o)?E2(o,l):La(m2(Mr(r)))}function w2(r){var o=ds(Mo(r)),l=["absolute","fixed"].indexOf(Er(r).position)>=0,f=l&&Mn(r)?Cs(r):r;return si(f)?o.filter(function(d){return si(d)&&L1(d,f)&&rr(d)!=="body"}):[]}function _2(r,o,l,f){var d=o==="clippingParents"?w2(r):[].concat(o),h=[].concat(d,[l]),m=h[0],C=h.reduce(function(y,E){var I=_c(r,E,f);return y.top=ni(I.top,y.top),y.right=Eo(I.right,y.right),y.bottom=Eo(I.bottom,y.bottom),y.left=ni(I.left,y.left),y},_c(r,m,f));return C.width=C.right-C.left,C.height=C.bottom-C.top,C.x=C.left,C.y=C.top,C}function V1(r){var o=r.reference,l=r.element,f=r.placement,d=f?tr(f):null,h=f?Bi(f):null,m=o.x+o.width/2-l.width/2,C=o.y+o.height/2-l.height/2,y;switch(d){case rn:y={x:m,y:o.y-l.height};break;case An:y={x:m,y:o.y+o.height};break;case Cn:y={x:o.x+o.width,y:C};break;case sn:y={x:o.x-l.width,y:C};break;default:y={x:o.x,y:o.y}}var E=d?cl(d):null;if(E!=null){var I=E==="y"?"height":"width";switch(h){case ii:y[E]=y[E]-(o[I]/2-l[I]/2);break;case Di:y[E]=y[E]+(o[I]/2-l[I]/2);break}}return y}function Pi(r,o){o===void 0&&(o={});var l=o,f=l.placement,d=f===void 0?r.placement:f,h=l.strategy,m=h===void 0?r.strategy:h,C=l.boundary,y=C===void 0?A1:C,E=l.rootBoundary,I=E===void 0?il:E,D=l.elementContext,$=D===void 0?Ci:D,z=l.altBoundary,Ae=z===void 0?!1:z,J=l.padding,de=J===void 0?0:J,be=P1(typeof de!="number"?de:F1(de,Vi)),he=$===Ci?C1:Ci,ae=r.rects.popper,Q=r.elements[Ae?he:$],Re=_2(si(Q)?Q:Q.contextElement||Mr(r.elements.popper),y,I,m),we=Li(r.elements.reference),q=V1({reference:we,element:ae,strategy:"absolute",placement:d}),Te=La(Object.assign({},ae,q)),j=$===Ci?Te:we,Pe={top:Re.top-j.top+be.top,bottom:j.bottom-Re.bottom+be.bottom,left:Re.left-j.left+be.left,right:j.right-Re.right+be.right},De=r.modifiersData.offset;if($===Ci&&De){var _e=De[d];Object.keys(Pe).forEach(function(Se){var rt=[Cn,An].indexOf(Se)>=0?1:-1,H=[rn,An].indexOf(Se)>=0?"y":"x";Pe[Se]+=_e[H]*rt})}return Pe}function A2(r,o){o===void 0&&(o={});var l=o,f=l.placement,d=l.boundary,h=l.rootBoundary,m=l.padding,C=l.flipVariations,y=l.allowedAutoPlacements,E=y===void 0?sl:y,I=Bi(f),D=I?C?Da:Da.filter(function(Ae){return Bi(Ae)===I}):Vi,$=D.filter(function(Ae){return E.indexOf(Ae)>=0});$.length===0&&($=D);var z=$.reduce(function(Ae,J){return Ae[J]=Pi(r,{placement:J,boundary:d,rootBoundary:h,padding:m})[tr(J)],Ae},{});return Object.keys(z).sort(function(Ae,J){return z[Ae]-z[J]})}function C2(r){if(tr(r)===Do)return[];var o=io(r);return[wc(r),o,wc(o)]}function b2(r){var o=r.state,l=r.options,f=r.name;if(!o.modifiersData[f]._skip){for(var d=l.mainAxis,h=d===void 0?!0:d,m=l.altAxis,C=m===void 0?!0:m,y=l.fallbackPlacements,E=l.padding,I=l.boundary,D=l.rootBoundary,$=l.altBoundary,z=l.flipVariations,Ae=z===void 0?!0:z,J=l.allowedAutoPlacements,de=o.options.placement,be=tr(de),he=be===de,ae=y||(he||!Ae?[io(de)]:C2(de)),Q=[de].concat(ae).reduce(function(dt,Wt){return dt.concat(tr(Wt)===Do?A2(o,{placement:Wt,boundary:I,rootBoundary:D,padding:E,flipVariations:Ae,allowedAutoPlacements:J}):Wt)},[]),Re=o.rects.reference,we=o.rects.popper,q=new Map,Te=!0,j=Q[0],Pe=0;Pe<Q.length;Pe++){var De=Q[Pe],_e=tr(De),Se=Bi(De)===ii,rt=[rn,An].indexOf(_e)>=0,H=rt?"width":"height",Me=Pi(o,{placement:De,boundary:I,rootBoundary:D,altBoundary:$,padding:E}),fe=rt?Se?Cn:sn:Se?An:rn;Re[H]>we[H]&&(fe=io(fe));var Ge=io(fe),ht=[];if(h&&ht.push(Me[_e]<=0),C&&ht.push(Me[fe]<=0,Me[Ge]<=0),ht.every(function(dt){return dt})){j=De,Te=!1;break}q.set(De,ht)}if(Te)for(var Nt=Ae?3:1,Vt=function(Wt){var ge=Q.find(function(jt){var Je=q.get(jt);if(Je)return Je.slice(0,Wt).every(function(Bt){return Bt})});if(ge)return j=ge,"break"},Ze=Nt;Ze>0;Ze--){var Ht=Vt(Ze);if(Ht==="break")break}o.placement!==j&&(o.modifiersData[f]._skip=!0,o.placement=j,o.reset=!0)}}const H1={name:"flip",enabled:!0,phase:"main",fn:b2,requiresIfExists:["offset"],data:{_skip:!1}};function Ac(r,o,l){return l===void 0&&(l={x:0,y:0}),{top:r.top-o.height-l.y,right:r.right-o.width+l.x,bottom:r.bottom-o.height+l.y,left:r.left-o.width-l.x}}function Cc(r){return[rn,Cn,An,sn].some(function(o){return r[o]>=0})}function y2(r){var o=r.state,l=r.name,f=o.rects.reference,d=o.rects.popper,h=o.modifiersData.preventOverflow,m=Pi(o,{elementContext:"reference"}),C=Pi(o,{altBoundary:!0}),y=Ac(m,f),E=Ac(C,d,h),I=Cc(y),D=Cc(E);o.modifiersData[l]={referenceClippingOffsets:y,popperEscapeOffsets:E,isReferenceHidden:I,hasPopperEscaped:D},o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-reference-hidden":I,"data-popper-escaped":D})}const W1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:y2};function T2(r,o,l){var f=tr(r),d=[sn,rn].indexOf(f)>=0?-1:1,h=typeof l=="function"?l(Object.assign({},o,{placement:r})):l,m=h[0],C=h[1];return m=m||0,C=(C||0)*d,[sn,Cn].indexOf(f)>=0?{x:C,y:m}:{x:m,y:C}}function I2(r){var o=r.state,l=r.options,f=r.name,d=l.offset,h=d===void 0?[0,0]:d,m=sl.reduce(function(I,D){return I[D]=T2(D,o.rects,h),I},{}),C=m[o.placement],y=C.x,E=C.y;o.modifiersData.popperOffsets!=null&&(o.modifiersData.popperOffsets.x+=y,o.modifiersData.popperOffsets.y+=E),o.modifiersData[f]=m}const G1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:I2};function S2(r){var o=r.state,l=r.name;o.modifiersData[l]=V1({reference:o.rects.reference,element:o.rects.popper,strategy:"absolute",placement:o.placement})}const pl={name:"popperOffsets",enabled:!0,phase:"read",fn:S2,data:{}};function N2(r){return r==="x"?"y":"x"}function O2(r){var o=r.state,l=r.options,f=r.name,d=l.mainAxis,h=d===void 0?!0:d,m=l.altAxis,C=m===void 0?!1:m,y=l.boundary,E=l.rootBoundary,I=l.altBoundary,D=l.padding,$=l.tether,z=$===void 0?!0:$,Ae=l.tetherOffset,J=Ae===void 0?0:Ae,de=Pi(o,{boundary:y,rootBoundary:E,padding:D,altBoundary:I}),be=tr(o.placement),he=Bi(o.placement),ae=!he,Q=cl(be),Re=N2(Q),we=o.modifiersData.popperOffsets,q=o.rects.reference,Te=o.rects.popper,j=typeof J=="function"?J(Object.assign({},o.rects,{placement:o.placement})):J,Pe=typeof j=="number"?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),De=o.modifiersData.offset?o.modifiersData.offset[o.placement]:null,_e={x:0,y:0};if(we){if(h){var Se,rt=Q==="y"?rn:sn,H=Q==="y"?An:Cn,Me=Q==="y"?"height":"width",fe=we[Q],Ge=fe+de[rt],ht=fe-de[H],Nt=z?-Te[Me]/2:0,Vt=he===ii?q[Me]:Te[Me],Ze=he===ii?-Te[Me]:-q[Me],Ht=o.elements.arrow,dt=z&&Ht?ll(Ht):{width:0,height:0},Wt=o.modifiersData["arrow#persistent"]?o.modifiersData["arrow#persistent"].padding:B1(),ge=Wt[rt],jt=Wt[H],Je=hs(0,q[Me],dt[Me]),Bt=ae?q[Me]/2-Nt-Je-ge-Pe.mainAxis:Vt-Je-ge-Pe.mainAxis,on=ae?-q[Me]/2+Nt+Je+jt+Pe.mainAxis:Ze+Je+jt+Pe.mainAxis,X=o.elements.arrow&&Cs(o.elements.arrow),v=X?Q==="y"?X.clientTop||0:X.clientLeft||0:0,M=(Se=De==null?void 0:De[Q])!=null?Se:0,W=fe+Bt-M-v,Y=fe+on-M,Z=hs(z?Eo(Ge,W):Ge,fe,z?ni(ht,Y):ht);we[Q]=Z,_e[Q]=Z-fe}if(C){var ne,ee=Q==="x"?rn:sn,G=Q==="x"?An:Cn,U=we[Re],B=Re==="y"?"height":"width",Ce=U+de[ee],me=U-de[G],pe=[rn,sn].indexOf(be)!==-1,Ne=(ne=De==null?void 0:De[Re])!=null?ne:0,Oe=pe?Ce:U-q[B]-Te[B]-Ne+Pe.altAxis,qe=pe?U+q[B]+Te[B]-Ne-Pe.altAxis:me,Ue=z&&pe?o2(Oe,U,qe):hs(z?Oe:Ce,U,z?qe:me);we[Re]=Ue,_e[Re]=Ue-U}o.modifiersData[f]=_e}}const X1={name:"preventOverflow",enabled:!0,phase:"main",fn:O2,requiresIfExists:["offset"]};function v2(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function R2(r){return r===bn(r)||!Mn(r)?hl(r):v2(r)}function D2(r){var o=r.getBoundingClientRect(),l=Mi(o.width)/r.offsetWidth||1,f=Mi(o.height)/r.offsetHeight||1;return l!==1||f!==1}function M2(r,o,l){l===void 0&&(l=!1);var f=Mn(o),d=Mn(o)&&D2(o),h=Mr(o),m=Li(r,d,l),C={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(f||!f&&!l)&&((rr(o)!=="body"||gl(h))&&(C=R2(o)),Mn(o)?(y=Li(o,!0),y.x+=o.clientLeft,y.y+=o.clientTop):h&&(y.x=dl(h))),{x:m.left+C.scrollLeft-y.x,y:m.top+C.scrollTop-y.y,width:m.width,height:m.height}}function L2(r){var o=new Map,l=new Set,f=[];r.forEach(function(h){o.set(h.name,h)});function d(h){l.add(h.name);var m=[].concat(h.requires||[],h.requiresIfExists||[]);m.forEach(function(C){if(!l.has(C)){var y=o.get(C);y&&d(y)}}),f.push(h)}return r.forEach(function(h){l.has(h.name)||d(h)}),f}function B2(r){var o=L2(r);return D1.reduce(function(l,f){return l.concat(o.filter(function(d){return d.phase===f}))},[])}function P2(r){var o;return function(){return o||(o=new Promise(function(l){Promise.resolve().then(function(){o=void 0,l(r())})})),o}}function F2(r){var o=r.reduce(function(l,f){var d=l[f.name];return l[f.name]=d?Object.assign({},d,f,{options:Object.assign({},d.options,f.options),data:Object.assign({},d.data,f.data)}):f,l},{});return Object.keys(o).map(function(l){return o[l]})}var bc={placement:"bottom",modifiers:[],strategy:"absolute"};function yc(){for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return!o.some(function(f){return!(f&&typeof f.getBoundingClientRect=="function")})}function Lo(r){r===void 0&&(r={});var o=r,l=o.defaultModifiers,f=l===void 0?[]:l,d=o.defaultOptions,h=d===void 0?bc:d;return function(C,y,E){E===void 0&&(E=h);var I={placement:"bottom",orderedModifiers:[],options:Object.assign({},bc,h),modifiersData:{},elements:{reference:C,popper:y},attributes:{},styles:{}},D=[],$=!1,z={state:I,setOptions:function(be){var he=typeof be=="function"?be(I.options):be;J(),I.options=Object.assign({},h,I.options,he),I.scrollParents={reference:si(C)?ds(C):C.contextElement?ds(C.contextElement):[],popper:ds(y)};var ae=B2(F2([].concat(f,I.options.modifiers)));return I.orderedModifiers=ae.filter(function(Q){return Q.enabled}),Ae(),z.update()},forceUpdate:function(){if(!$){var be=I.elements,he=be.reference,ae=be.popper;if(yc(he,ae)){I.rects={reference:M2(he,Cs(ae),I.options.strategy==="fixed"),popper:ll(ae)},I.reset=!1,I.placement=I.options.placement,I.orderedModifiers.forEach(function(Pe){return I.modifiersData[Pe.name]=Object.assign({},Pe.data)});for(var Q=0;Q<I.orderedModifiers.length;Q++){if(I.reset===!0){I.reset=!1,Q=-1;continue}var Re=I.orderedModifiers[Q],we=Re.fn,q=Re.options,Te=q===void 0?{}:q,j=Re.name;typeof we=="function"&&(I=we({state:I,options:Te,name:j,instance:z})||I)}}}},update:P2(function(){return new Promise(function(de){z.forceUpdate(),de(I)})}),destroy:function(){J(),$=!0}};if(!yc(C,y))return z;z.setOptions(E).then(function(de){!$&&E.onFirstUpdate&&E.onFirstUpdate(de)});function Ae(){I.orderedModifiers.forEach(function(de){var be=de.name,he=de.options,ae=he===void 0?{}:he,Q=de.effect;if(typeof Q=="function"){var Re=Q({state:I,name:be,instance:z,options:ae}),we=function(){};D.push(Re||we)}})}function J(){D.forEach(function(de){return de()}),D=[]}return z}}var k2=Lo(),U2=[fl,pl,ul,al],V2=Lo({defaultModifiers:U2}),H2=[fl,pl,ul,al,G1,H1,X1,k1,W1],W2=Lo({defaultModifiers:H2});const G2=Object.freeze(Object.defineProperty({__proto__:null,afterMain:N1,afterRead:T1,afterWrite:R1,applyStyles:al,arrow:k1,auto:Do,basePlacements:Vi,beforeMain:I1,beforeRead:b1,beforeWrite:O1,bottom:An,clippingParents:A1,computeStyles:ul,createPopper:W2,createPopperBase:k2,createPopperLite:V2,detectOverflow:Pi,end:Di,eventListeners:fl,flip:H1,hide:W1,left:sn,main:S1,modifierPhases:D1,offset:G1,placements:sl,popper:Ci,popperGenerator:Lo,popperOffsets:pl,preventOverflow:X1,read:y1,reference:C1,right:Cn,start:ii,top:rn,variationPlacements:Da,viewport:il,write:v1},Symbol.toStringTag,{value:"Module"})),X2=wd(G2);/*!
  * Bootstrap v5.3.1 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(r,o){(function(l,f){r.exports=f(X2)})(Ai,function(l){function f(N){const p=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(N){for(const A in N)if(A!=="default"){const O=Object.getOwnPropertyDescriptor(N,A);Object.defineProperty(p,A,O.get?O:{enumerable:!0,get:()=>N[A]})}}return p.default=N,Object.freeze(p)}const d=f(l),h=new Map,m={set(N,p,A){h.has(N)||h.set(N,new Map);const O=h.get(N);if(!O.has(p)&&O.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(O.keys())[0]}.`);return}O.set(p,A)},get(N,p){return h.has(N)&&h.get(N).get(p)||null},remove(N,p){if(!h.has(N))return;const A=h.get(N);A.delete(p),A.size===0&&h.delete(N)}},C=1e6,y=1e3,E="transitionend",I=N=>(N&&window.CSS&&window.CSS.escape&&(N=N.replace(/#([^\s"#']+)/g,(p,A)=>`#${CSS.escape(A)}`)),N),D=N=>N==null?`${N}`:Object.prototype.toString.call(N).match(/\s([a-z]+)/i)[1].toLowerCase(),$=N=>{do N+=Math.floor(Math.random()*C);while(document.getElementById(N));return N},z=N=>{if(!N)return 0;let{transitionDuration:p,transitionDelay:A}=window.getComputedStyle(N);const O=Number.parseFloat(p),K=Number.parseFloat(A);return!O&&!K?0:(p=p.split(",")[0],A=A.split(",")[0],(Number.parseFloat(p)+Number.parseFloat(A))*y)},Ae=N=>{N.dispatchEvent(new Event(E))},J=N=>!N||typeof N!="object"?!1:(typeof N.jquery<"u"&&(N=N[0]),typeof N.nodeType<"u"),de=N=>J(N)?N.jquery?N[0]:N:typeof N=="string"&&N.length>0?document.querySelector(I(N)):null,be=N=>{if(!J(N)||N.getClientRects().length===0)return!1;const p=getComputedStyle(N).getPropertyValue("visibility")==="visible",A=N.closest("details:not([open])");if(!A)return p;if(A!==N){const O=N.closest("summary");if(O&&O.parentNode!==A||O===null)return!1}return p},he=N=>!N||N.nodeType!==Node.ELEMENT_NODE||N.classList.contains("disabled")?!0:typeof N.disabled<"u"?N.disabled:N.hasAttribute("disabled")&&N.getAttribute("disabled")!=="false",ae=N=>{if(!document.documentElement.attachShadow)return null;if(typeof N.getRootNode=="function"){const p=N.getRootNode();return p instanceof ShadowRoot?p:null}return N instanceof ShadowRoot?N:N.parentNode?ae(N.parentNode):null},Q=()=>{},Re=N=>{N.offsetHeight},we=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,q=[],Te=N=>{document.readyState==="loading"?(q.length||document.addEventListener("DOMContentLoaded",()=>{for(const p of q)p()}),q.push(N)):N()},j=()=>document.documentElement.dir==="rtl",Pe=N=>{Te(()=>{const p=we();if(p){const A=N.NAME,O=p.fn[A];p.fn[A]=N.jQueryInterface,p.fn[A].Constructor=N,p.fn[A].noConflict=()=>(p.fn[A]=O,N.jQueryInterface)}})},De=(N,p=[],A=N)=>typeof N=="function"?N(...p):A,_e=(N,p,A=!0)=>{if(!A){De(N);return}const O=5,K=z(p)+O;let ue=!1;const le=({target:Ye})=>{Ye===p&&(ue=!0,p.removeEventListener(E,le),De(N))};p.addEventListener(E,le),setTimeout(()=>{ue||Ae(p)},K)},Se=(N,p,A,O)=>{const K=N.length;let ue=N.indexOf(p);return ue===-1?!A&&O?N[K-1]:N[0]:(ue+=A?1:-1,O&&(ue=(ue+K)%K),N[Math.max(0,Math.min(ue,K-1))])},rt=/[^.]*(?=\..*)\.|.*/,H=/\..*/,Me=/::\d+$/,fe={};let Ge=1;const ht={mouseenter:"mouseover",mouseleave:"mouseout"},Nt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Vt(N,p){return p&&`${p}::${Ge++}`||N.uidEvent||Ge++}function Ze(N){const p=Vt(N);return N.uidEvent=p,fe[p]=fe[p]||{},fe[p]}function Ht(N,p){return function A(O){return v(O,{delegateTarget:N}),A.oneOff&&X.off(N,O.type,p),p.apply(N,[O])}}function dt(N,p,A){return function O(K){const ue=N.querySelectorAll(p);for(let{target:le}=K;le&&le!==this;le=le.parentNode)for(const Ye of ue)if(Ye===le)return v(K,{delegateTarget:le}),O.oneOff&&X.off(N,K.type,p,A),A.apply(le,[K])}}function Wt(N,p,A=null){return Object.values(N).find(O=>O.callable===p&&O.delegationSelector===A)}function ge(N,p,A){const O=typeof p=="string",K=O?A:p||A;let ue=on(N);return Nt.has(ue)||(ue=N),[O,K,ue]}function jt(N,p,A,O,K){if(typeof p!="string"||!N)return;let[ue,le,Ye]=ge(p,A,O);p in ht&&(le=(df=>function(wi){if(!wi.relatedTarget||wi.relatedTarget!==wi.delegateTarget&&!wi.delegateTarget.contains(wi.relatedTarget))return df.call(this,wi)})(le));const un=Ze(N),Rn=un[Ye]||(un[Ye]={}),kt=Wt(Rn,le,ue?A:null);if(kt){kt.oneOff=kt.oneOff&&K;return}const qn=Vt(le,p.replace(rt,"")),Pn=ue?dt(N,A,le):Ht(N,le);Pn.delegationSelector=ue?A:null,Pn.callable=le,Pn.oneOff=K,Pn.uidEvent=qn,Rn[qn]=Pn,N.addEventListener(Ye,Pn,ue)}function Je(N,p,A,O,K){const ue=Wt(p[A],O,K);ue&&(N.removeEventListener(A,ue,!!K),delete p[A][ue.uidEvent])}function Bt(N,p,A,O){const K=p[A]||{};for(const[ue,le]of Object.entries(K))ue.includes(O)&&Je(N,p,A,le.callable,le.delegationSelector)}function on(N){return N=N.replace(H,""),ht[N]||N}const X={on(N,p,A,O){jt(N,p,A,O,!1)},one(N,p,A,O){jt(N,p,A,O,!0)},off(N,p,A,O){if(typeof p!="string"||!N)return;const[K,ue,le]=ge(p,A,O),Ye=le!==p,un=Ze(N),Rn=un[le]||{},kt=p.startsWith(".");if(typeof ue<"u"){if(!Object.keys(Rn).length)return;Je(N,un,le,ue,K?A:null);return}if(kt)for(const qn of Object.keys(un))Bt(N,un,qn,p.slice(1));for(const[qn,Pn]of Object.entries(Rn)){const Ws=qn.replace(Me,"");(!Ye||p.includes(Ws))&&Je(N,un,le,Pn.callable,Pn.delegationSelector)}},trigger(N,p,A){if(typeof p!="string"||!N)return null;const O=we(),K=on(p),ue=p!==K;let le=null,Ye=!0,un=!0,Rn=!1;ue&&O&&(le=O.Event(p,A),O(N).trigger(le),Ye=!le.isPropagationStopped(),un=!le.isImmediatePropagationStopped(),Rn=le.isDefaultPrevented());const kt=v(new Event(p,{bubbles:Ye,cancelable:!0}),A);return Rn&&kt.preventDefault(),un&&N.dispatchEvent(kt),kt.defaultPrevented&&le&&le.preventDefault(),kt}};function v(N,p={}){for(const[A,O]of Object.entries(p))try{N[A]=O}catch{Object.defineProperty(N,A,{configurable:!0,get(){return O}})}return N}function M(N){if(N==="true")return!0;if(N==="false")return!1;if(N===Number(N).toString())return Number(N);if(N===""||N==="null")return null;if(typeof N!="string")return N;try{return JSON.parse(decodeURIComponent(N))}catch{return N}}function W(N){return N.replace(/[A-Z]/g,p=>`-${p.toLowerCase()}`)}const Y={setDataAttribute(N,p,A){N.setAttribute(`data-bs-${W(p)}`,A)},removeDataAttribute(N,p){N.removeAttribute(`data-bs-${W(p)}`)},getDataAttributes(N){if(!N)return{};const p={},A=Object.keys(N.dataset).filter(O=>O.startsWith("bs")&&!O.startsWith("bsConfig"));for(const O of A){let K=O.replace(/^bs/,"");K=K.charAt(0).toLowerCase()+K.slice(1,K.length),p[K]=M(N.dataset[O])}return p},getDataAttribute(N,p){return M(N.getAttribute(`data-bs-${W(p)}`))}};class Z{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(p){return p=this._mergeConfigObj(p),p=this._configAfterMerge(p),this._typeCheckConfig(p),p}_configAfterMerge(p){return p}_mergeConfigObj(p,A){const O=J(A)?Y.getDataAttribute(A,"config"):{};return{...this.constructor.Default,...typeof O=="object"?O:{},...J(A)?Y.getDataAttributes(A):{},...typeof p=="object"?p:{}}}_typeCheckConfig(p,A=this.constructor.DefaultType){for(const[O,K]of Object.entries(A)){const ue=p[O],le=J(ue)?"element":D(ue);if(!new RegExp(K).test(le))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${O}" provided type "${le}" but expected type "${K}".`)}}}const ne="5.3.1";class ee extends Z{constructor(p,A){super(),p=de(p),p&&(this._element=p,this._config=this._getConfig(A),m.set(this._element,this.constructor.DATA_KEY,this))}dispose(){m.remove(this._element,this.constructor.DATA_KEY),X.off(this._element,this.constructor.EVENT_KEY);for(const p of Object.getOwnPropertyNames(this))this[p]=null}_queueCallback(p,A,O=!0){_e(p,A,O)}_getConfig(p){return p=this._mergeConfigObj(p,this._element),p=this._configAfterMerge(p),this._typeCheckConfig(p),p}static getInstance(p){return m.get(de(p),this.DATA_KEY)}static getOrCreateInstance(p,A={}){return this.getInstance(p)||new this(p,typeof A=="object"?A:null)}static get VERSION(){return ne}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(p){return`${p}${this.EVENT_KEY}`}}const G=N=>{let p=N.getAttribute("data-bs-target");if(!p||p==="#"){let A=N.getAttribute("href");if(!A||!A.includes("#")&&!A.startsWith("."))return null;A.includes("#")&&!A.startsWith("#")&&(A=`#${A.split("#")[1]}`),p=A&&A!=="#"?A.trim():null}return I(p)},U={find(N,p=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(p,N))},findOne(N,p=document.documentElement){return Element.prototype.querySelector.call(p,N)},children(N,p){return[].concat(...N.children).filter(A=>A.matches(p))},parents(N,p){const A=[];let O=N.parentNode.closest(p);for(;O;)A.push(O),O=O.parentNode.closest(p);return A},prev(N,p){let A=N.previousElementSibling;for(;A;){if(A.matches(p))return[A];A=A.previousElementSibling}return[]},next(N,p){let A=N.nextElementSibling;for(;A;){if(A.matches(p))return[A];A=A.nextElementSibling}return[]},focusableChildren(N){const p=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(A=>`${A}:not([tabindex^="-"])`).join(",");return this.find(p,N).filter(A=>!he(A)&&be(A))},getSelectorFromElement(N){const p=G(N);return p&&U.findOne(p)?p:null},getElementFromSelector(N){const p=G(N);return p?U.findOne(p):null},getMultipleElementsFromSelector(N){const p=G(N);return p?U.find(p):[]}},B=(N,p="hide")=>{const A=`click.dismiss${N.EVENT_KEY}`,O=N.NAME;X.on(document,A,`[data-bs-dismiss="${O}"]`,function(K){if(["A","AREA"].includes(this.tagName)&&K.preventDefault(),he(this))return;const ue=U.getElementFromSelector(this)||this.closest(`.${O}`);N.getOrCreateInstance(ue)[p]()})},Ce="alert",pe=".bs.alert",Ne=`close${pe}`,Oe=`closed${pe}`,qe="fade",Ue="show";class Ve extends ee{static get NAME(){return Ce}close(){if(X.trigger(this._element,Ne).defaultPrevented)return;this._element.classList.remove(Ue);const A=this._element.classList.contains(qe);this._queueCallback(()=>this._destroyElement(),this._element,A)}_destroyElement(){this._element.remove(),X.trigger(this._element,Oe),this.dispose()}static jQueryInterface(p){return this.each(function(){const A=Ve.getOrCreateInstance(this);if(typeof p=="string"){if(A[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);A[p](this)}})}}B(Ve,"close"),Pe(Ve);const zt="button",oi=".bs.button",ut=".data-api",ce="active",Ke='[data-bs-toggle="button"]',Xe=`click${oi}${ut}`;class st extends ee{static get NAME(){return zt}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(ce))}static jQueryInterface(p){return this.each(function(){const A=st.getOrCreateInstance(this);p==="toggle"&&A[p]()})}}X.on(document,Xe,Ke,N=>{N.preventDefault();const p=N.target.closest(Ke);st.getOrCreateInstance(p).toggle()}),Pe(st);const Lr="swipe",Xn=".bs.swipe",bs=`touchstart${Xn}`,et=`touchmove${Xn}`,ir=`touchend${Xn}`,ys=`pointerdown${Xn}`,Ts=`pointerup${Xn}`,pn="touch",Hi="pen",Pt="pointer-event",_r=40,ai={endCallback:null,leftCallback:null,rightCallback:null},Tn={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class li extends Z{constructor(p,A){super(),this._element=p,!(!p||!li.isSupported())&&(this._config=this._getConfig(A),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ai}static get DefaultType(){return Tn}static get NAME(){return Lr}dispose(){X.off(this._element,Xn)}_start(p){if(!this._supportPointerEvents){this._deltaX=p.touches[0].clientX;return}this._eventIsPointerPenTouch(p)&&(this._deltaX=p.clientX)}_end(p){this._eventIsPointerPenTouch(p)&&(this._deltaX=p.clientX-this._deltaX),this._handleSwipe(),De(this._config.endCallback)}_move(p){this._deltaX=p.touches&&p.touches.length>1?0:p.touches[0].clientX-this._deltaX}_handleSwipe(){const p=Math.abs(this._deltaX);if(p<=_r)return;const A=p/this._deltaX;this._deltaX=0,A&&De(A>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(X.on(this._element,ys,p=>this._start(p)),X.on(this._element,Ts,p=>this._end(p)),this._element.classList.add(Pt)):(X.on(this._element,bs,p=>this._start(p)),X.on(this._element,et,p=>this._move(p)),X.on(this._element,ir,p=>this._end(p)))}_eventIsPointerPenTouch(p){return this._supportPointerEvents&&(p.pointerType===Hi||p.pointerType===pn)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const sr="carousel",At=".bs.carousel",Yn=".data-api",an="ArrowLeft",xe="ArrowRight",Ar=500,or="next",yt="prev",xn="left",ar="right",ci=`slide${At}`,ln=`slid${At}`,Bo=`keydown${At}`,Po=`mouseenter${At}`,In=`mouseleave${At}`,Gt=`dragstart${At}`,gt=`load${At}${Yn}`,Ss=`click${At}${Yn}`,Ln="carousel",Cr="active",te="slide",Fo="carousel-item-end",_t="carousel-item-start",br="carousel-item-next",ko="carousel-item-prev",tt=".active",Qe=".carousel-item",ze=tt+Qe,Wi=".carousel-item img",Gi=".carousel-indicators",Xi="[data-bs-slide], [data-bs-slide-to]",Tt='[data-bs-ride="carousel"]',jn={[an]:ar,[xe]:xn},Uo={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ct={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Qt extends ee{constructor(p,A){super(p,A),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=U.findOne(Gi,this._element),this._addEventListeners(),this._config.ride===Ln&&this.cycle()}static get Default(){return Uo}static get DefaultType(){return Ct}static get NAME(){return sr}next(){this._slide(or)}nextWhenVisible(){!document.hidden&&be(this._element)&&this.next()}prev(){this._slide(yt)}pause(){this._isSliding&&Ae(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){X.one(this._element,ln,()=>this.cycle());return}this.cycle()}}to(p){const A=this._getItems();if(p>A.length-1||p<0)return;if(this._isSliding){X.one(this._element,ln,()=>this.to(p));return}const O=this._getItemIndex(this._getActive());if(O===p)return;const K=p>O?or:yt;this._slide(K,A[p])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(p){return p.defaultInterval=p.interval,p}_addEventListeners(){this._config.keyboard&&X.on(this._element,Bo,p=>this._keydown(p)),this._config.pause==="hover"&&(X.on(this._element,Po,()=>this.pause()),X.on(this._element,In,()=>this._maybeEnableCycle())),this._config.touch&&li.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const O of U.find(Wi,this._element))X.on(O,Gt,K=>K.preventDefault());const A={leftCallback:()=>this._slide(this._directionToOrder(xn)),rightCallback:()=>this._slide(this._directionToOrder(ar)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Ar+this._config.interval))}};this._swipeHelper=new li(this._element,A)}_keydown(p){if(/input|textarea/i.test(p.target.tagName))return;const A=jn[p.key];A&&(p.preventDefault(),this._slide(this._directionToOrder(A)))}_getItemIndex(p){return this._getItems().indexOf(p)}_setActiveIndicatorElement(p){if(!this._indicatorsElement)return;const A=U.findOne(tt,this._indicatorsElement);A.classList.remove(Cr),A.removeAttribute("aria-current");const O=U.findOne(`[data-bs-slide-to="${p}"]`,this._indicatorsElement);O&&(O.classList.add(Cr),O.setAttribute("aria-current","true"))}_updateInterval(){const p=this._activeElement||this._getActive();if(!p)return;const A=Number.parseInt(p.getAttribute("data-bs-interval"),10);this._config.interval=A||this._config.defaultInterval}_slide(p,A=null){if(this._isSliding)return;const O=this._getActive(),K=p===or,ue=A||Se(this._getItems(),O,K,this._config.wrap);if(ue===O)return;const le=this._getItemIndex(ue),Ye=Ws=>X.trigger(this._element,Ws,{relatedTarget:ue,direction:this._orderToDirection(p),from:this._getItemIndex(O),to:le});if(Ye(ci).defaultPrevented||!O||!ue)return;const Rn=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(le),this._activeElement=ue;const kt=K?_t:Fo,qn=K?br:ko;ue.classList.add(qn),Re(ue),O.classList.add(kt),ue.classList.add(kt);const Pn=()=>{ue.classList.remove(kt,qn),ue.classList.add(Cr),O.classList.remove(Cr,qn,kt),this._isSliding=!1,Ye(ln)};this._queueCallback(Pn,O,this._isAnimated()),Rn&&this.cycle()}_isAnimated(){return this._element.classList.contains(te)}_getActive(){return U.findOne(ze,this._element)}_getItems(){return U.find(Qe,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(p){return j()?p===xn?yt:or:p===xn?or:yt}_orderToDirection(p){return j()?p===yt?xn:ar:p===yt?ar:xn}static jQueryInterface(p){return this.each(function(){const A=Qt.getOrCreateInstance(this,p);if(typeof p=="number"){A.to(p);return}if(typeof p=="string"){if(A[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);A[p]()}})}}X.on(document,Ss,Xi,function(N){const p=U.getElementFromSelector(this);if(!p||!p.classList.contains(Ln))return;N.preventDefault();const A=Qt.getOrCreateInstance(p),O=this.getAttribute("data-bs-slide-to");if(O){A.to(O),A._maybeEnableCycle();return}if(Y.getDataAttribute(this,"slide")==="next"){A.next(),A._maybeEnableCycle();return}A.prev(),A._maybeEnableCycle()}),X.on(window,gt,()=>{const N=U.find(Tt);for(const p of N)Qt.getOrCreateInstance(p)}),Pe(Qt);const Vo="collapse",it=".bs.collapse",Ft=".data-api",F=`show${it}`,T=`shown${it}`,ye=`hide${it}`,Ot=`hidden${it}`,cn=`click${it}${Ft}`,Yi="show",zn="collapse",Xt="collapsing",Ie="collapsed",pt=`:scope .${zn} .${zn}`,Ns="collapse-horizontal",Ho="width",ji="height",ui=".collapse.show, .collapse.collapsing",Pr='[data-bs-toggle="collapse"]',Wo={parent:null,toggle:!0},vt={parent:"(null|element)",toggle:"boolean"};class Sn extends ee{constructor(p,A){super(p,A),this._isTransitioning=!1,this._triggerArray=[];const O=U.find(Pr);for(const K of O){const ue=U.getSelectorFromElement(K),le=U.find(ue).filter(Ye=>Ye===this._element);ue!==null&&le.length&&this._triggerArray.push(K)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Wo}static get DefaultType(){return vt}static get NAME(){return Vo}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let p=[];if(this._config.parent&&(p=this._getFirstLevelChildren(ui).filter(Ye=>Ye!==this._element).map(Ye=>Sn.getOrCreateInstance(Ye,{toggle:!1}))),p.length&&p[0]._isTransitioning||X.trigger(this._element,F).defaultPrevented)return;for(const Ye of p)Ye.hide();const O=this._getDimension();this._element.classList.remove(zn),this._element.classList.add(Xt),this._element.style[O]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const K=()=>{this._isTransitioning=!1,this._element.classList.remove(Xt),this._element.classList.add(zn,Yi),this._element.style[O]="",X.trigger(this._element,T)},le=`scroll${O[0].toUpperCase()+O.slice(1)}`;this._queueCallback(K,this._element,!0),this._element.style[O]=`${this._element[le]}px`}hide(){if(this._isTransitioning||!this._isShown()||X.trigger(this._element,ye).defaultPrevented)return;const A=this._getDimension();this._element.style[A]=`${this._element.getBoundingClientRect()[A]}px`,Re(this._element),this._element.classList.add(Xt),this._element.classList.remove(zn,Yi);for(const K of this._triggerArray){const ue=U.getElementFromSelector(K);ue&&!this._isShown(ue)&&this._addAriaAndCollapsedClass([K],!1)}this._isTransitioning=!0;const O=()=>{this._isTransitioning=!1,this._element.classList.remove(Xt),this._element.classList.add(zn),X.trigger(this._element,Ot)};this._element.style[A]="",this._queueCallback(O,this._element,!0)}_isShown(p=this._element){return p.classList.contains(Yi)}_configAfterMerge(p){return p.toggle=!!p.toggle,p.parent=de(p.parent),p}_getDimension(){return this._element.classList.contains(Ns)?Ho:ji}_initializeChildren(){if(!this._config.parent)return;const p=this._getFirstLevelChildren(Pr);for(const A of p){const O=U.getElementFromSelector(A);O&&this._addAriaAndCollapsedClass([A],this._isShown(O))}}_getFirstLevelChildren(p){const A=U.find(pt,this._config.parent);return U.find(p,this._config.parent).filter(O=>!A.includes(O))}_addAriaAndCollapsedClass(p,A){if(p.length)for(const O of p)O.classList.toggle(Ie,!A),O.setAttribute("aria-expanded",A)}static jQueryInterface(p){const A={};return typeof p=="string"&&/show|hide/.test(p)&&(A.toggle=!1),this.each(function(){const O=Sn.getOrCreateInstance(this,A);if(typeof p=="string"){if(typeof O[p]>"u")throw new TypeError(`No method named "${p}"`);O[p]()}})}}X.on(document,cn,Pr,function(N){(N.target.tagName==="A"||N.delegateTarget&&N.delegateTarget.tagName==="A")&&N.preventDefault();for(const p of U.getMultipleElementsFromSelector(this))Sn.getOrCreateInstance(p,{toggle:!1}).toggle()}),Pe(Sn);const Bn="dropdown",lr=".bs.dropdown",ke=".data-api",Dt="Escape",Os="Tab",zi="ArrowUp",Ki="ArrowDown",cr=2,Go=`hide${lr}`,Fr=`hidden${lr}`,kr=`show${lr}`,Ur=`shown${lr}`,Zi=`click${lr}${ke}`,yr=`keydown${lr}${ke}`,Vr=`keyup${lr}${ke}`,It="show",vs="dropup",Rs="dropend",Ds="dropstart",Xo="dropup-center",Yo="dropdown-center",ur='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',at=`${ur}.${It}`,Hr=".dropdown-menu",fi=".navbar",Kn=".navbar-nav",jo=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",k=j()?"top-end":"top-start",He=j()?"top-start":"top-end",Mt=j()?"bottom-end":"bottom-start",hi=j()?"bottom-start":"bottom-end",Ms=j()?"left-start":"right-start",zo=j()?"right-start":"left-start",Ko="top",Zo="bottom",$i={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},St={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Jt extends ee{constructor(p,A){super(p,A),this._popper=null,this._parent=this._element.parentNode,this._menu=U.next(this._element,Hr)[0]||U.prev(this._element,Hr)[0]||U.findOne(Hr,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return $i}static get DefaultType(){return St}static get NAME(){return Bn}toggle(){return this._isShown()?this.hide():this.show()}show(){if(he(this._element)||this._isShown())return;const p={relatedTarget:this._element};if(!X.trigger(this._element,kr,p).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Kn))for(const O of[].concat(...document.body.children))X.on(O,"mouseover",Q);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(It),this._element.classList.add(It),X.trigger(this._element,Ur,p)}}hide(){if(he(this._element)||!this._isShown())return;const p={relatedTarget:this._element};this._completeHide(p)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(p){if(!X.trigger(this._element,Go,p).defaultPrevented){if("ontouchstart"in document.documentElement)for(const O of[].concat(...document.body.children))X.off(O,"mouseover",Q);this._popper&&this._popper.destroy(),this._menu.classList.remove(It),this._element.classList.remove(It),this._element.setAttribute("aria-expanded","false"),Y.removeDataAttribute(this._menu,"popper"),X.trigger(this._element,Fr,p)}}_getConfig(p){if(p=super._getConfig(p),typeof p.reference=="object"&&!J(p.reference)&&typeof p.reference.getBoundingClientRect!="function")throw new TypeError(`${Bn.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return p}_createPopper(){if(typeof d>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let p=this._element;this._config.reference==="parent"?p=this._parent:J(this._config.reference)?p=de(this._config.reference):typeof this._config.reference=="object"&&(p=this._config.reference);const A=this._getPopperConfig();this._popper=d.createPopper(p,this._menu,A)}_isShown(){return this._menu.classList.contains(It)}_getPlacement(){const p=this._parent;if(p.classList.contains(Rs))return Ms;if(p.classList.contains(Ds))return zo;if(p.classList.contains(Xo))return Ko;if(p.classList.contains(Yo))return Zo;const A=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return p.classList.contains(vs)?A?He:k:A?hi:Mt}_detectNavbar(){return this._element.closest(fi)!==null}_getOffset(){const{offset:p}=this._config;return typeof p=="string"?p.split(",").map(A=>Number.parseInt(A,10)):typeof p=="function"?A=>p(A,this._element):p}_getPopperConfig(){const p={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Y.setDataAttribute(this._menu,"popper","static"),p.modifiers=[{name:"applyStyles",enabled:!1}]),{...p,...De(this._config.popperConfig,[p])}}_selectMenuItem({key:p,target:A}){const O=U.find(jo,this._menu).filter(K=>be(K));O.length&&Se(O,A,p===Ki,!O.includes(A)).focus()}static jQueryInterface(p){return this.each(function(){const A=Jt.getOrCreateInstance(this,p);if(typeof p=="string"){if(typeof A[p]>"u")throw new TypeError(`No method named "${p}"`);A[p]()}})}static clearMenus(p){if(p.button===cr||p.type==="keyup"&&p.key!==Os)return;const A=U.find(at);for(const O of A){const K=Jt.getInstance(O);if(!K||K._config.autoClose===!1)continue;const ue=p.composedPath(),le=ue.includes(K._menu);if(ue.includes(K._element)||K._config.autoClose==="inside"&&!le||K._config.autoClose==="outside"&&le||K._menu.contains(p.target)&&(p.type==="keyup"&&p.key===Os||/input|select|option|textarea|form/i.test(p.target.tagName)))continue;const Ye={relatedTarget:K._element};p.type==="click"&&(Ye.clickEvent=p),K._completeHide(Ye)}}static dataApiKeydownHandler(p){const A=/input|textarea/i.test(p.target.tagName),O=p.key===Dt,K=[zi,Ki].includes(p.key);if(!K&&!O||A&&!O)return;p.preventDefault();const ue=this.matches(ur)?this:U.prev(this,ur)[0]||U.next(this,ur)[0]||U.findOne(ur,p.delegateTarget.parentNode),le=Jt.getOrCreateInstance(ue);if(K){p.stopPropagation(),le.show(),le._selectMenuItem(p);return}le._isShown()&&(p.stopPropagation(),le.hide(),ue.focus())}}X.on(document,yr,ur,Jt.dataApiKeydownHandler),X.on(document,yr,Hr,Jt.dataApiKeydownHandler),X.on(document,Zi,Jt.clearMenus),X.on(document,Vr,Jt.clearMenus),X.on(document,Zi,ur,function(N){N.preventDefault(),Jt.getOrCreateInstance(this).toggle()}),Pe(Jt);const xt="backdrop",di="fade",Zn="show",lt=`mousedown.bs.${xt}`,ve={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},$o={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ft extends Z{constructor(p){super(),this._config=this._getConfig(p),this._isAppended=!1,this._element=null}static get Default(){return ve}static get DefaultType(){return $o}static get NAME(){return xt}show(p){if(!this._config.isVisible){De(p);return}this._append();const A=this._getElement();this._config.isAnimated&&Re(A),A.classList.add(Zn),this._emulateAnimation(()=>{De(p)})}hide(p){if(!this._config.isVisible){De(p);return}this._getElement().classList.remove(Zn),this._emulateAnimation(()=>{this.dispose(),De(p)})}dispose(){this._isAppended&&(X.off(this._element,lt),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const p=document.createElement("div");p.className=this._config.className,this._config.isAnimated&&p.classList.add(di),this._element=p}return this._element}_configAfterMerge(p){return p.rootElement=de(p.rootElement),p}_append(){if(this._isAppended)return;const p=this._getElement();this._config.rootElement.append(p),X.on(p,lt,()=>{De(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(p){_e(p,this._getElement(),this._config.isAnimated)}}const fr="focustrap",gi=".bs.focustrap",Nn=`focusin${gi}`,qi=`keydown.tab${gi}`,Ls="Tab",Qi="forward",Ji="backward",Bs={autofocus:!0,trapElement:null},qo={autofocus:"boolean",trapElement:"element"};class hr extends Z{constructor(p){super(),this._config=this._getConfig(p),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Bs}static get DefaultType(){return qo}static get NAME(){return fr}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),X.off(document,gi),X.on(document,Nn,p=>this._handleFocusin(p)),X.on(document,qi,p=>this._handleKeydown(p)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,X.off(document,gi))}_handleFocusin(p){const{trapElement:A}=this._config;if(p.target===document||p.target===A||A.contains(p.target))return;const O=U.focusableChildren(A);O.length===0?A.focus():this._lastTabNavDirection===Ji?O[O.length-1].focus():O[0].focus()}_handleKeydown(p){p.key===Ls&&(this._lastTabNavDirection=p.shiftKey?Ji:Qi)}}const pi=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ps=".sticky-top",$n="padding-right",Fs="margin-right";class On{constructor(){this._element=document.body}getWidth(){const p=document.documentElement.clientWidth;return Math.abs(window.innerWidth-p)}hide(){const p=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,$n,A=>A+p),this._setElementAttributes(pi,$n,A=>A+p),this._setElementAttributes(Ps,Fs,A=>A-p)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,$n),this._resetElementAttributes(pi,$n),this._resetElementAttributes(Ps,Fs)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(p,A,O){const K=this.getWidth(),ue=le=>{if(le!==this._element&&window.innerWidth>le.clientWidth+K)return;this._saveInitialAttribute(le,A);const Ye=window.getComputedStyle(le).getPropertyValue(A);le.style.setProperty(A,`${O(Number.parseFloat(Ye))}px`)};this._applyManipulationCallback(p,ue)}_saveInitialAttribute(p,A){const O=p.style.getPropertyValue(A);O&&Y.setDataAttribute(p,A,O)}_resetElementAttributes(p,A){const O=K=>{const ue=Y.getDataAttribute(K,A);if(ue===null){K.style.removeProperty(A);return}Y.removeDataAttribute(K,A),K.style.setProperty(A,ue)};this._applyManipulationCallback(p,O)}_applyManipulationCallback(p,A){if(J(p)){A(p);return}for(const O of U.find(p,this._element))A(O)}}const xi="modal",en=".bs.modal",vn=".data-api",Qo="Escape",es=`hide${en}`,Jo=`hidePrevented${en}`,ts=`hidden${en}`,En=`show${en}`,ea=`shown${en}`,ns=`resize${en}`,Gr=`click.dismiss${en}`,$e=`mousedown.dismiss${en}`,mi=`keydown.dismiss${en}`,_=`click${en}${vn}`,e="modal-open",t="fade",n="show",i="modal-static",s=".modal.show",a=".modal-dialog",c=".modal-body",u='[data-bs-toggle="modal"]',g={backdrop:!0,focus:!0,keyboard:!0},x={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class w extends ee{constructor(p,A){super(p,A),this._dialog=U.findOne(a,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new On,this._addEventListeners()}static get Default(){return g}static get DefaultType(){return x}static get NAME(){return xi}toggle(p){return this._isShown?this.hide():this.show(p)}show(p){this._isShown||this._isTransitioning||X.trigger(this._element,En,{relatedTarget:p}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(e),this._adjustDialog(),this._backdrop.show(()=>this._showElement(p)))}hide(){!this._isShown||this._isTransitioning||X.trigger(this._element,es).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(n),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){X.off(window,en),X.off(this._dialog,en),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ft({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new hr({trapElement:this._element})}_showElement(p){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const A=U.findOne(c,this._dialog);A&&(A.scrollTop=0),Re(this._element),this._element.classList.add(n);const O=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,X.trigger(this._element,ea,{relatedTarget:p})};this._queueCallback(O,this._dialog,this._isAnimated())}_addEventListeners(){X.on(this._element,mi,p=>{if(p.key===Qo){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),X.on(window,ns,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),X.on(this._element,$e,p=>{X.one(this._element,Gr,A=>{if(!(this._element!==p.target||this._element!==A.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(e),this._resetAdjustments(),this._scrollBar.reset(),X.trigger(this._element,ts)})}_isAnimated(){return this._element.classList.contains(t)}_triggerBackdropTransition(){if(X.trigger(this._element,Jo).defaultPrevented)return;const A=this._element.scrollHeight>document.documentElement.clientHeight,O=this._element.style.overflowY;O==="hidden"||this._element.classList.contains(i)||(A||(this._element.style.overflowY="hidden"),this._element.classList.add(i),this._queueCallback(()=>{this._element.classList.remove(i),this._queueCallback(()=>{this._element.style.overflowY=O},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const p=this._element.scrollHeight>document.documentElement.clientHeight,A=this._scrollBar.getWidth(),O=A>0;if(O&&!p){const K=j()?"paddingLeft":"paddingRight";this._element.style[K]=`${A}px`}if(!O&&p){const K=j()?"paddingRight":"paddingLeft";this._element.style[K]=`${A}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(p,A){return this.each(function(){const O=w.getOrCreateInstance(this,p);if(typeof p=="string"){if(typeof O[p]>"u")throw new TypeError(`No method named "${p}"`);O[p](A)}})}}X.on(document,_,u,function(N){const p=U.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&N.preventDefault(),X.one(p,En,K=>{K.defaultPrevented||X.one(p,ts,()=>{be(this)&&this.focus()})});const A=U.findOne(s);A&&w.getInstance(A).hide(),w.getOrCreateInstance(p).toggle(this)}),B(w),Pe(w);const b="offcanvas",R=".bs.offcanvas",L=".data-api",P=`load${R}${L}`,V="Escape",ie="show",oe="showing",re="hiding",je="offcanvas-backdrop",Fe=".offcanvas.show",Kt=`show${R}`,wn=`shown${R}`,Zt=`hide${R}`,ct=`hidePrevented${R}`,Rt=`hidden${R}`,tn=`resize${R}`,Tr=`click${R}${L}`,Ir=`keydown.dismiss${R}`,ta='[data-bs-toggle="offcanvas"]',na={backdrop:!0,keyboard:!0,scroll:!1},Y1={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class dr extends ee{constructor(p,A){super(p,A),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return na}static get DefaultType(){return Y1}static get NAME(){return b}toggle(p){return this._isShown?this.hide():this.show(p)}show(p){if(this._isShown||X.trigger(this._element,Kt,{relatedTarget:p}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new On().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(oe);const O=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(ie),this._element.classList.remove(oe),X.trigger(this._element,wn,{relatedTarget:p})};this._queueCallback(O,this._element,!0)}hide(){if(!this._isShown||X.trigger(this._element,Zt).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(re),this._backdrop.hide();const A=()=>{this._element.classList.remove(ie,re),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new On().reset(),X.trigger(this._element,Rt)};this._queueCallback(A,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const p=()=>{if(this._config.backdrop==="static"){X.trigger(this._element,ct);return}this.hide()},A=!!this._config.backdrop;return new ft({className:je,isVisible:A,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:A?p:null})}_initializeFocusTrap(){return new hr({trapElement:this._element})}_addEventListeners(){X.on(this._element,Ir,p=>{if(p.key===V){if(this._config.keyboard){this.hide();return}X.trigger(this._element,ct)}})}static jQueryInterface(p){return this.each(function(){const A=dr.getOrCreateInstance(this,p);if(typeof p=="string"){if(A[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);A[p](this)}})}}X.on(document,Tr,ta,function(N){const p=U.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&N.preventDefault(),he(this))return;X.one(p,Rt,()=>{be(this)&&this.focus()});const A=U.findOne(Fe);A&&A!==p&&dr.getInstance(A).hide(),dr.getOrCreateInstance(p).toggle(this)}),X.on(window,P,()=>{for(const N of U.find(Fe))dr.getOrCreateInstance(N).show()}),X.on(window,tn,()=>{for(const N of U.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(N).position!=="fixed"&&dr.getOrCreateInstance(N).hide()}),B(dr),Pe(dr);const xl={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},j1=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),z1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,K1=(N,p)=>{const A=N.nodeName.toLowerCase();return p.includes(A)?j1.has(A)?!!z1.test(N.nodeValue):!0:p.filter(O=>O instanceof RegExp).some(O=>O.test(A))};function Z1(N,p,A){if(!N.length)return N;if(A&&typeof A=="function")return A(N);const K=new window.DOMParser().parseFromString(N,"text/html"),ue=[].concat(...K.body.querySelectorAll("*"));for(const le of ue){const Ye=le.nodeName.toLowerCase();if(!Object.keys(p).includes(Ye)){le.remove();continue}const un=[].concat(...le.attributes),Rn=[].concat(p["*"]||[],p[Ye]||[]);for(const kt of un)K1(kt,Rn)||le.removeAttribute(kt.nodeName)}return K.body.innerHTML}const $1="TemplateFactory",q1={allowList:xl,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Q1={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},J1={entry:"(string|element|function|null)",selector:"(string|element)"};class eu extends Z{constructor(p){super(),this._config=this._getConfig(p)}static get Default(){return q1}static get DefaultType(){return Q1}static get NAME(){return $1}getContent(){return Object.values(this._config.content).map(p=>this._resolvePossibleFunction(p)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(p){return this._checkContent(p),this._config.content={...this._config.content,...p},this}toHtml(){const p=document.createElement("div");p.innerHTML=this._maybeSanitize(this._config.template);for(const[K,ue]of Object.entries(this._config.content))this._setContent(p,ue,K);const A=p.children[0],O=this._resolvePossibleFunction(this._config.extraClass);return O&&A.classList.add(...O.split(" ")),A}_typeCheckConfig(p){super._typeCheckConfig(p),this._checkContent(p.content)}_checkContent(p){for(const[A,O]of Object.entries(p))super._typeCheckConfig({selector:A,entry:O},J1)}_setContent(p,A,O){const K=U.findOne(O,p);if(K){if(A=this._resolvePossibleFunction(A),!A){K.remove();return}if(J(A)){this._putElementInTemplate(de(A),K);return}if(this._config.html){K.innerHTML=this._maybeSanitize(A);return}K.textContent=A}}_maybeSanitize(p){return this._config.sanitize?Z1(p,this._config.allowList,this._config.sanitizeFn):p}_resolvePossibleFunction(p){return De(p,[this])}_putElementInTemplate(p,A){if(this._config.html){A.innerHTML="",A.append(p);return}A.textContent=p.textContent}}const tu="tooltip",nu=new Set(["sanitize","allowList","sanitizeFn"]),ra="fade",ru="modal",ks="show",iu=".tooltip-inner",ml=`.${ru}`,El="hide.bs.modal",rs="hover",ia="focus",su="click",ou="manual",au="hide",lu="hidden",cu="show",uu="shown",fu="inserted",hu="click",du="focusin",gu="focusout",pu="mouseenter",xu="mouseleave",mu={AUTO:"auto",TOP:"top",RIGHT:j()?"left":"right",BOTTOM:"bottom",LEFT:j()?"right":"left"},Eu={allowList:xl,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},wu={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Xr extends ee{constructor(p,A){if(typeof d>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(p,A),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Eu}static get DefaultType(){return wu}static get NAME(){return tu}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),X.off(this._element.closest(ml),El,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const p=X.trigger(this._element,this.constructor.eventName(cu)),O=(ae(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(p.defaultPrevented||!O)return;this._disposePopper();const K=this._getTipElement();this._element.setAttribute("aria-describedby",K.getAttribute("id"));const{container:ue}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(ue.append(K),X.trigger(this._element,this.constructor.eventName(fu))),this._popper=this._createPopper(K),K.classList.add(ks),"ontouchstart"in document.documentElement)for(const Ye of[].concat(...document.body.children))X.on(Ye,"mouseover",Q);const le=()=>{X.trigger(this._element,this.constructor.eventName(uu)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(le,this.tip,this._isAnimated())}hide(){if(!this._isShown()||X.trigger(this._element,this.constructor.eventName(au)).defaultPrevented)return;if(this._getTipElement().classList.remove(ks),"ontouchstart"in document.documentElement)for(const K of[].concat(...document.body.children))X.off(K,"mouseover",Q);this._activeTrigger[su]=!1,this._activeTrigger[ia]=!1,this._activeTrigger[rs]=!1,this._isHovered=null;const O=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),X.trigger(this._element,this.constructor.eventName(lu)))};this._queueCallback(O,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(p){const A=this._getTemplateFactory(p).toHtml();if(!A)return null;A.classList.remove(ra,ks),A.classList.add(`bs-${this.constructor.NAME}-auto`);const O=$(this.constructor.NAME).toString();return A.setAttribute("id",O),this._isAnimated()&&A.classList.add(ra),A}setContent(p){this._newContent=p,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(p){return this._templateFactory?this._templateFactory.changeContent(p):this._templateFactory=new eu({...this._config,content:p,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[iu]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(p){return this.constructor.getOrCreateInstance(p.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ra)}_isShown(){return this.tip&&this.tip.classList.contains(ks)}_createPopper(p){const A=De(this._config.placement,[this,p,this._element]),O=mu[A.toUpperCase()];return d.createPopper(this._element,p,this._getPopperConfig(O))}_getOffset(){const{offset:p}=this._config;return typeof p=="string"?p.split(",").map(A=>Number.parseInt(A,10)):typeof p=="function"?A=>p(A,this._element):p}_resolvePossibleFunction(p){return De(p,[this._element])}_getPopperConfig(p){const A={placement:p,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:O=>{this._getTipElement().setAttribute("data-popper-placement",O.state.placement)}}]};return{...A,...De(this._config.popperConfig,[A])}}_setListeners(){const p=this._config.trigger.split(" ");for(const A of p)if(A==="click")X.on(this._element,this.constructor.eventName(hu),this._config.selector,O=>{this._initializeOnDelegatedTarget(O).toggle()});else if(A!==ou){const O=A===rs?this.constructor.eventName(pu):this.constructor.eventName(du),K=A===rs?this.constructor.eventName(xu):this.constructor.eventName(gu);X.on(this._element,O,this._config.selector,ue=>{const le=this._initializeOnDelegatedTarget(ue);le._activeTrigger[ue.type==="focusin"?ia:rs]=!0,le._enter()}),X.on(this._element,K,this._config.selector,ue=>{const le=this._initializeOnDelegatedTarget(ue);le._activeTrigger[ue.type==="focusout"?ia:rs]=le._element.contains(ue.relatedTarget),le._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},X.on(this._element.closest(ml),El,this._hideModalHandler)}_fixTitle(){const p=this._element.getAttribute("title");p&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",p),this._element.setAttribute("data-bs-original-title",p),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(p,A){clearTimeout(this._timeout),this._timeout=setTimeout(p,A)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(p){const A=Y.getDataAttributes(this._element);for(const O of Object.keys(A))nu.has(O)&&delete A[O];return p={...A,...typeof p=="object"&&p?p:{}},p=this._mergeConfigObj(p),p=this._configAfterMerge(p),this._typeCheckConfig(p),p}_configAfterMerge(p){return p.container=p.container===!1?document.body:de(p.container),typeof p.delay=="number"&&(p.delay={show:p.delay,hide:p.delay}),typeof p.title=="number"&&(p.title=p.title.toString()),typeof p.content=="number"&&(p.content=p.content.toString()),p}_getDelegateConfig(){const p={};for(const[A,O]of Object.entries(this._config))this.constructor.Default[A]!==O&&(p[A]=O);return p.selector=!1,p.trigger="manual",p}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(p){return this.each(function(){const A=Xr.getOrCreateInstance(this,p);if(typeof p=="string"){if(typeof A[p]>"u")throw new TypeError(`No method named "${p}"`);A[p]()}})}}Pe(Xr);const _u="popover",Au=".popover-header",Cu=".popover-body",bu={...Xr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},yu={...Xr.DefaultType,content:"(null|string|element|function)"};class Us extends Xr{static get Default(){return bu}static get DefaultType(){return yu}static get NAME(){return _u}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Au]:this._getTitle(),[Cu]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(p){return this.each(function(){const A=Us.getOrCreateInstance(this,p);if(typeof p=="string"){if(typeof A[p]>"u")throw new TypeError(`No method named "${p}"`);A[p]()}})}}Pe(Us);const Tu="scrollspy",sa=".bs.scrollspy",Iu=".data-api",Su=`activate${sa}`,wl=`click${sa}`,Nu=`load${sa}${Iu}`,Ou="dropdown-item",Ei="active",vu='[data-bs-spy="scroll"]',oa="[href]",Ru=".nav, .list-group",_l=".nav-link",Du=`${_l}, .nav-item > ${_l}, .list-group-item`,Mu=".dropdown",Lu=".dropdown-toggle",Bu={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Pu={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class is extends ee{constructor(p,A){super(p,A),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Bu}static get DefaultType(){return Pu}static get NAME(){return Tu}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const p of this._observableSections.values())this._observer.observe(p)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(p){return p.target=de(p.target)||document.body,p.rootMargin=p.offset?`${p.offset}px 0px -30%`:p.rootMargin,typeof p.threshold=="string"&&(p.threshold=p.threshold.split(",").map(A=>Number.parseFloat(A))),p}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(X.off(this._config.target,wl),X.on(this._config.target,wl,oa,p=>{const A=this._observableSections.get(p.target.hash);if(A){p.preventDefault();const O=this._rootElement||window,K=A.offsetTop-this._element.offsetTop;if(O.scrollTo){O.scrollTo({top:K,behavior:"smooth"});return}O.scrollTop=K}}))}_getNewObserver(){const p={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(A=>this._observerCallback(A),p)}_observerCallback(p){const A=le=>this._targetLinks.get(`#${le.target.id}`),O=le=>{this._previousScrollData.visibleEntryTop=le.target.offsetTop,this._process(A(le))},K=(this._rootElement||document.documentElement).scrollTop,ue=K>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=K;for(const le of p){if(!le.isIntersecting){this._activeTarget=null,this._clearActiveClass(A(le));continue}const Ye=le.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(ue&&Ye){if(O(le),!K)return;continue}!ue&&!Ye&&O(le)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const p=U.find(oa,this._config.target);for(const A of p){if(!A.hash||he(A))continue;const O=U.findOne(decodeURI(A.hash),this._element);be(O)&&(this._targetLinks.set(decodeURI(A.hash),A),this._observableSections.set(A.hash,O))}}_process(p){this._activeTarget!==p&&(this._clearActiveClass(this._config.target),this._activeTarget=p,p.classList.add(Ei),this._activateParents(p),X.trigger(this._element,Su,{relatedTarget:p}))}_activateParents(p){if(p.classList.contains(Ou)){U.findOne(Lu,p.closest(Mu)).classList.add(Ei);return}for(const A of U.parents(p,Ru))for(const O of U.prev(A,Du))O.classList.add(Ei)}_clearActiveClass(p){p.classList.remove(Ei);const A=U.find(`${oa}.${Ei}`,p);for(const O of A)O.classList.remove(Ei)}static jQueryInterface(p){return this.each(function(){const A=is.getOrCreateInstance(this,p);if(typeof p=="string"){if(A[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);A[p]()}})}}X.on(window,Nu,()=>{for(const N of U.find(vu))is.getOrCreateInstance(N)}),Pe(is);const Fu="tab",Yr=".bs.tab",ku=`hide${Yr}`,Uu=`hidden${Yr}`,Vu=`show${Yr}`,Hu=`shown${Yr}`,Wu=`click${Yr}`,Gu=`keydown${Yr}`,Xu=`load${Yr}`,Yu="ArrowLeft",Al="ArrowRight",ju="ArrowUp",Cl="ArrowDown",aa="Home",bl="End",jr="active",yl="fade",la="show",zu="dropdown",Ku=".dropdown-toggle",Zu=".dropdown-menu",ca=":not(.dropdown-toggle)",$u='.list-group, .nav, [role="tablist"]',qu=".nav-item, .list-group-item",Qu=`.nav-link${ca}, .list-group-item${ca}, [role="tab"]${ca}`,Tl='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ua=`${Qu}, ${Tl}`,Ju=`.${jr}[data-bs-toggle="tab"], .${jr}[data-bs-toggle="pill"], .${jr}[data-bs-toggle="list"]`;class zr extends ee{constructor(p){super(p),this._parent=this._element.closest($u),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),X.on(this._element,Gu,A=>this._keydown(A)))}static get NAME(){return Fu}show(){const p=this._element;if(this._elemIsActive(p))return;const A=this._getActiveElem(),O=A?X.trigger(A,ku,{relatedTarget:p}):null;X.trigger(p,Vu,{relatedTarget:A}).defaultPrevented||O&&O.defaultPrevented||(this._deactivate(A,p),this._activate(p,A))}_activate(p,A){if(!p)return;p.classList.add(jr),this._activate(U.getElementFromSelector(p));const O=()=>{if(p.getAttribute("role")!=="tab"){p.classList.add(la);return}p.removeAttribute("tabindex"),p.setAttribute("aria-selected",!0),this._toggleDropDown(p,!0),X.trigger(p,Hu,{relatedTarget:A})};this._queueCallback(O,p,p.classList.contains(yl))}_deactivate(p,A){if(!p)return;p.classList.remove(jr),p.blur(),this._deactivate(U.getElementFromSelector(p));const O=()=>{if(p.getAttribute("role")!=="tab"){p.classList.remove(la);return}p.setAttribute("aria-selected",!1),p.setAttribute("tabindex","-1"),this._toggleDropDown(p,!1),X.trigger(p,Uu,{relatedTarget:A})};this._queueCallback(O,p,p.classList.contains(yl))}_keydown(p){if(![Yu,Al,ju,Cl,aa,bl].includes(p.key))return;p.stopPropagation(),p.preventDefault();const A=this._getChildren().filter(K=>!he(K));let O;if([aa,bl].includes(p.key))O=A[p.key===aa?0:A.length-1];else{const K=[Al,Cl].includes(p.key);O=Se(A,p.target,K,!0)}O&&(O.focus({preventScroll:!0}),zr.getOrCreateInstance(O).show())}_getChildren(){return U.find(ua,this._parent)}_getActiveElem(){return this._getChildren().find(p=>this._elemIsActive(p))||null}_setInitialAttributes(p,A){this._setAttributeIfNotExists(p,"role","tablist");for(const O of A)this._setInitialAttributesOnChild(O)}_setInitialAttributesOnChild(p){p=this._getInnerElement(p);const A=this._elemIsActive(p),O=this._getOuterElement(p);p.setAttribute("aria-selected",A),O!==p&&this._setAttributeIfNotExists(O,"role","presentation"),A||p.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(p,"role","tab"),this._setInitialAttributesOnTargetPanel(p)}_setInitialAttributesOnTargetPanel(p){const A=U.getElementFromSelector(p);A&&(this._setAttributeIfNotExists(A,"role","tabpanel"),p.id&&this._setAttributeIfNotExists(A,"aria-labelledby",`${p.id}`))}_toggleDropDown(p,A){const O=this._getOuterElement(p);if(!O.classList.contains(zu))return;const K=(ue,le)=>{const Ye=U.findOne(ue,O);Ye&&Ye.classList.toggle(le,A)};K(Ku,jr),K(Zu,la),O.setAttribute("aria-expanded",A)}_setAttributeIfNotExists(p,A,O){p.hasAttribute(A)||p.setAttribute(A,O)}_elemIsActive(p){return p.classList.contains(jr)}_getInnerElement(p){return p.matches(ua)?p:U.findOne(ua,p)}_getOuterElement(p){return p.closest(qu)||p}static jQueryInterface(p){return this.each(function(){const A=zr.getOrCreateInstance(this);if(typeof p=="string"){if(A[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);A[p]()}})}}X.on(document,Wu,Tl,function(N){["A","AREA"].includes(this.tagName)&&N.preventDefault(),!he(this)&&zr.getOrCreateInstance(this).show()}),X.on(window,Xu,()=>{for(const N of U.find(Ju))zr.getOrCreateInstance(N)}),Pe(zr);const ef="toast",Sr=".bs.toast",tf=`mouseover${Sr}`,nf=`mouseout${Sr}`,rf=`focusin${Sr}`,sf=`focusout${Sr}`,of=`hide${Sr}`,af=`hidden${Sr}`,lf=`show${Sr}`,cf=`shown${Sr}`,uf="fade",Il="hide",Vs="show",Hs="showing",ff={animation:"boolean",autohide:"boolean",delay:"number"},hf={animation:!0,autohide:!0,delay:5e3};class ss extends ee{constructor(p,A){super(p,A),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return hf}static get DefaultType(){return ff}static get NAME(){return ef}show(){if(X.trigger(this._element,lf).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(uf);const A=()=>{this._element.classList.remove(Hs),X.trigger(this._element,cf),this._maybeScheduleHide()};this._element.classList.remove(Il),Re(this._element),this._element.classList.add(Vs,Hs),this._queueCallback(A,this._element,this._config.animation)}hide(){if(!this.isShown()||X.trigger(this._element,of).defaultPrevented)return;const A=()=>{this._element.classList.add(Il),this._element.classList.remove(Hs,Vs),X.trigger(this._element,af)};this._element.classList.add(Hs),this._queueCallback(A,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Vs),super.dispose()}isShown(){return this._element.classList.contains(Vs)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(p,A){switch(p.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=A;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=A;break}}if(A){this._clearTimeout();return}const O=p.relatedTarget;this._element===O||this._element.contains(O)||this._maybeScheduleHide()}_setListeners(){X.on(this._element,tf,p=>this._onInteraction(p,!0)),X.on(this._element,nf,p=>this._onInteraction(p,!1)),X.on(this._element,rf,p=>this._onInteraction(p,!0)),X.on(this._element,sf,p=>this._onInteraction(p,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(p){return this.each(function(){const A=ss.getOrCreateInstance(this,p);if(typeof p=="string"){if(typeof A[p]>"u")throw new TypeError(`No method named "${p}"`);A[p](this)}})}}return B(ss),Pe(ss),{Alert:Ve,Button:st,Carousel:Qt,Collapse:Sn,Dropdown:Jt,Modal:w,Offcanvas:dr,Popover:Us,ScrollSpy:is,Tab:zr,Toast:ss,Tooltip:Xr}})})(t2);Zh(e2).mount("#app");
